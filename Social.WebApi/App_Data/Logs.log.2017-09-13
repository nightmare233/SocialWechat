2017-09-13 10:03:38,069 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-13 10:03:40,760 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-13 10:05:06,328 [11] DEBUG Social.Domain.Core.SiteDataContext - Failed to open connection at 9/13/2017 10:05:06 AM +08:00 with error: A connection was successfully established with the server, but then an error occurred during the login process. (provider: Shared Memory Provider, error: 0 - No process is on the other end of the pipe.)

2017-09-13 10:06:04,345 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-13 10:06:07,356 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-13 10:06:29,460 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:06:29 AM +08:00

2017-09-13 10:06:30,430 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 10:06:30,430 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:30,432 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:06:30,433 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:06:30 AM +08:00

2017-09-13 10:06:30,478 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 43 ms with result: SqlDataReader

2017-09-13 10:06:30,478 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:30,564 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:06:30 AM +08:00

2017-09-13 10:06:33,526 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:06:33 AM +08:00

2017-09-13 10:06:33,590 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-13 10:06:33,590 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:33,590 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 10:06:33,590 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 10:06:33,590 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '13' (Type = Int32, IsNullable = false)

2017-09-13 10:06:33,590 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:06:33 AM +08:00

2017-09-13 10:06:33,597 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-09-13 10:06:33,597 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:33,621 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:06:33 AM +08:00

2017-09-13 10:06:33,657 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:06:33 AM +08:00

2017-09-13 10:06:33,670 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-13 10:06:33,670 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:33,670 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:06:33,670 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:06:33 AM +08:00

2017-09-13 10:06:33,706 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 35 ms with result: SqlDataReader

2017-09-13 10:06:33,706 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:33,712 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:06:33 AM +08:00

2017-09-13 10:06:33,729 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:06:33 AM +08:00

2017-09-13 10:06:33,746 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message10000] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-13 10:06:33,746 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:33,746 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:06:33,746 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:06:33 AM +08:00

2017-09-13 10:06:33,759 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 13 ms with result: SqlDataReader

2017-09-13 10:06:33,759 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:33,769 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:06:33 AM +08:00

2017-09-13 10:06:41,696 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:06:41 AM +08:00

2017-09-13 10:06:41,997 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE [Extent1].[ConversationId] = @p__linq__0 ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 10:06:41,997 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:41,997 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 10:06:41,997 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 10:06:41,997 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:06:41,997 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:06:41 AM +08:00

2017-09-13 10:06:42,090 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-09-13 10:06:42,091 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:42,115 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:06:42 AM +08:00

2017-09-13 10:06:45,472 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:06:45 AM +08:00

2017-09-13 10:06:45,474 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message10000] AS [Extent1]
    WHERE [Extent1].[ParentId] = @EntityKeyValue1
2017-09-13 10:06:45,474 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:45,474 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '588' (Type = Int32, IsNullable = false)

2017-09-13 10:06:45,474 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:06:45 AM +08:00

2017-09-13 10:06:45,627 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 152 ms with result: SqlDataReader

2017-09-13 10:06:45,627 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:06:45,627 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:06:45 AM +08:00

2017-09-13 10:07:06,717 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:07:06 AM +08:00

2017-09-13 10:07:06,718 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message10000] AS [Extent1]
    WHERE [Extent1].[ParentId] = @EntityKeyValue1
2017-09-13 10:07:06,718 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:07:06,718 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '590' (Type = Int32, IsNullable = false)

2017-09-13 10:07:06,718 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:07:06 AM +08:00

2017-09-13 10:07:06,721 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-13 10:07:06,722 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:07:06,722 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:07:06 AM +08:00

2017-09-13 10:07:09,271 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:07:09 AM +08:00

2017-09-13 10:07:09,272 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message10000] AS [Extent1]
    WHERE [Extent1].[ParentId] = @EntityKeyValue1
2017-09-13 10:07:09,272 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:07:09,272 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '583' (Type = Int32, IsNullable = false)

2017-09-13 10:07:09,272 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:07:09 AM +08:00

2017-09-13 10:07:09,275 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-13 10:07:09,275 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:07:09,275 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:07:09 AM +08:00

2017-09-13 10:08:36,023 [7] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.PublishComment(String token, String parentId, String message) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 262
   at Social.Domain.DomainServices.MessageService.ReplyFacebookPostOrComment(Int32 conversationId, Int32 postOrCommentId, String content, Boolean isCloseConversation) in F:\social\social_20170728\Social\Social.Domain\DomainServices\MessageService.cs:line 183
   at Social.Application.AppServices.ConversationMessageAppService.ReplyFacebookPostOrComment(Int32 conversationId, Int32 postOrCommentId, String content, Boolean isCloseConversation) in F:\social\social_20170728\Social\Social.Application\AppServices\ConversationMessageAppService.cs:line 189
   at Social.WebApi.Controllers.ConversationsController.PostFacebookPostMessages(Int32 conversationId, FacebookPostMessagesDto dto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\ConversationsController.cs:line 202
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-13 10:10:18,017 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:10:18 AM +08:00

2017-09-13 10:10:18,019 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 10:10:18,019 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:10:18,019 [6] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:10:18,019 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:10:18 AM +08:00

2017-09-13 10:10:18,038 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 19 ms with result: SqlDataReader

2017-09-13 10:10:18,038 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:10:18,039 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:10:18 AM +08:00

2017-09-13 10:10:18,039 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:10:18 AM +08:00

2017-09-13 10:10:18,051 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE [Extent1].[ConversationId] = @p__linq__0 ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 10:10:18,051 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:10:18,051 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-13 10:10:18,051 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 10:10:18,051 [6] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:10:18,051 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:10:18 AM +08:00

2017-09-13 10:10:18,109 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 57 ms with result: SqlDataReader

2017-09-13 10:10:18,109 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:10:18,116 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:10:18 AM +08:00

2017-09-13 10:11:34,967 [6] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - (GraphMethodException - #100) Unsupported post request. Object with ID '154256298492054_154461108471573' does not exist, cannot be loaded due to missing permissions, or does not support this operation. Please read the Graph API documentation at https://developers.facebook.com/docs/graph-api
Facebook.FacebookApiException: (GraphMethodException - #100) Unsupported post request. Object with ID '154256298492054_154461108471573' does not exist, cannot be loaded due to missing permissions, or does not support this operation. Please read the Graph API documentation at https://developers.facebook.com/docs/graph-api
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.PublishComment(String token, String parentId, String message) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 262
   at Social.Domain.DomainServices.MessageService.ReplyFacebookPostOrComment(Int32 conversationId, Int32 postOrCommentId, String content, Boolean isCloseConversation) in F:\social\social_20170728\Social\Social.Domain\DomainServices\MessageService.cs:line 183
   at Social.Application.AppServices.ConversationMessageAppService.ReplyFacebookPostOrComment(Int32 conversationId, Int32 postOrCommentId, String content, Boolean isCloseConversation) in F:\social\social_20170728\Social\Social.Application\AppServices\ConversationMessageAppService.cs:line 189
   at Social.WebApi.Controllers.ConversationsController.PostFacebookPostMessages(Int32 conversationId, FacebookPostMessagesDto dto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\ConversationsController.cs:line 202
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-13 10:31:58,638 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-13 10:31:59,539 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-13 10:32:24,075 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:32:24 AM +08:00

2017-09-13 10:32:25,096 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 10:32:25,097 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:32:25,100 [5] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:32:25,101 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:32:25 AM +08:00

2017-09-13 10:32:25,134 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 32 ms with result: SqlDataReader

2017-09-13 10:32:25,134 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:32:25,219 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:32:25 AM +08:00

2017-09-13 10:32:25,228 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:32:25 AM +08:00

2017-09-13 10:32:25,553 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE [Extent1].[ConversationId] = @p__linq__0 ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 10:32:25,553 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:32:25,553 [5] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 10:32:25,553 [5] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 10:32:25,553 [5] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:32:25,553 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:32:25 AM +08:00

2017-09-13 10:32:25,593 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 39 ms with result: SqlDataReader

2017-09-13 10:32:25,593 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:32:25,657 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:32:25 AM +08:00

2017-09-13 10:34:00,040 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-13 10:34:02,543 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-13 10:34:27,449 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:34:27 AM +08:00

2017-09-13 10:34:28,421 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 10:34:28,422 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:28,424 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:34:28,425 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:34:28 AM +08:00

2017-09-13 10:34:28,453 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 27 ms with result: SqlDataReader

2017-09-13 10:34:28,453 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:28,541 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:34:28 AM +08:00

2017-09-13 10:34:28,552 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:34:28 AM +08:00

2017-09-13 10:34:28,858 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE [Extent1].[ConversationId] = @p__linq__0 ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 10:34:28,858 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:28,858 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 10:34:28,858 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 10:34:28,858 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:34:28,858 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:34:28 AM +08:00

2017-09-13 10:34:28,897 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 37 ms with result: SqlDataReader

2017-09-13 10:34:28,897 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:28,963 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:34:28 AM +08:00

2017-09-13 10:34:48,545 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,663 [7] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_Message10000]([ConversationId], [Source], [OriginalId], [OriginalLink], [ParentId], [SendTime], [SenderId], [ReceiverId], [SendAgentId], [Content], [Story], [IsDeleted], [QuoteTweetId])
VALUES (@0, @1, @2, @3, @4, @5, @6, @7, @8, @9, NULL, @10, NULL)
SELECT [Id]
FROM [dbo].[t_Social_Message10000]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-13 10:34:48,663 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:48,663 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '110' (Type = Int32)

2017-09-13 10:34:48,663 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '3' (Type = Int16)

2017-09-13 10:34:48,664 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @2: '154256298492054_157682744816076' (Type = String, Size = 200)

2017-09-13 10:34:48,664 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @3: 'https://www.facebook.com/hollny/posts/154256298492054?comment_id=157682744816076' (Type = String, Size = 500)

2017-09-13 10:34:48,664 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '583' (Type = Int32)

2017-09-13 10:34:48,664 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '9/13/2017 2:34:30 AM' (Type = DateTime2)

2017-09-13 10:34:48,664 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '13' (Type = Int32)

2017-09-13 10:34:48,664 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '7' (Type = Int32)

2017-09-13 10:34:48,664 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @8: '1' (Type = Int32)

2017-09-13 10:34:48,664 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @9: '111' (Type = String, Size = -1)

2017-09-13 10:34:48,664 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @10: 'False' (Type = Boolean)

2017-09-13 10:34:48,664 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,702 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 38 ms with result: SqlDataReader

2017-09-13 10:34:48,702 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:48,715 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,731 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,747 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p__linq__0
2017-09-13 10:34:48,747 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:48,747 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:34:48,747 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,750 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-13 10:34:48,751 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:48,753 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,764 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,802 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-13 10:34:48,802 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:48,802 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:34:48,802 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,812 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 9 ms with result: SqlDataReader

2017-09-13 10:34:48,812 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:48,819 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,882 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,890 [7] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Conversation10000]
SET [Source] = @0, [OriginalId] = @1, [IfRead] = @2, [LastMessageSentTime] = @3, [LastMessageSenderId] = @4, [LastRepliedAgentId] = @5, [AgentId] = NULL, [DepartmentId] = NULL, [Status] = @6, [Subject] = @7, [Priority] = @8, [Note] = NULL, [IsDeleted] = @9, [IsHidden] = @10, [CreatedTime] = @11, [ModifiedTime] = NULL
WHERE ([Id] = @12)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '2' (Type = Int16)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '142892549628429_154256298492054' (Type = String, Size = 200)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'False' (Type = Boolean)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/13/2017 2:34:30 AM' (Type = DateTime2)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '13' (Type = Int32)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '1' (Type = Int32)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '2' (Type = Int16)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @7: 'Facebook user?????(Posts)???  Hollny????  Shin's Home' (Type = String, Size = 200)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @8: '1' (Type = Int16)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @9: 'False' (Type = Boolean)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @10: 'False' (Type = Boolean)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @11: '8/31/2017 7:50:01 AM' (Type = DateTime2)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @12: '110' (Type = Int32)

2017-09-13 10:34:48,891 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,925 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 32 ms with result: 1

2017-09-13 10:34:48,925 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:48,926 [7] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_ConversationLog10000]([ConversationId], [Type], [Content], [CreatedTime], [CreatedBy])
VALUES (@0, @1, @2, @3, @4)
SELECT [Id]
FROM [dbo].[t_Social_ConversationLog10000]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-13 10:34:48,926 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:48,926 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '110' (Type = Int32)

2017-09-13 10:34:48,927 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '3' (Type = Int16)

2017-09-13 10:34:48,927 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'Agent Test Agent 1 changed Status from Closed to Pending External.' (Type = String, Size = 500)

2017-09-13 10:34:48,927 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/13/2017 2:34:48 AM' (Type = DateTime2)

2017-09-13 10:34:48,927 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '1' (Type = Int32)

2017-09-13 10:34:48,927 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:34:48,944 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 17 ms with result: SqlDataReader

2017-09-13 10:34:48,944 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:34:48,944 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:34:48 AM +08:00

2017-09-13 10:37:53,270 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:37:53 AM +08:00

2017-09-13 10:37:53,271 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 10:37:53,271 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:37:53,271 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:37:53,271 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:37:53 AM +08:00

2017-09-13 10:37:53,274 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-13 10:37:53,274 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:37:53,274 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:37:53 AM +08:00

2017-09-13 10:37:53,275 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 10:37:53 AM +08:00

2017-09-13 10:37:53,288 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE [Extent1].[ConversationId] = @p__linq__0 ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 10:37:53,288 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:37:53,288 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-13 10:37:53,288 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 10:37:53,288 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '110' (Type = Int32, IsNullable = false)

2017-09-13 10:37:53,288 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 10:37:53 AM +08:00

2017-09-13 10:37:53,321 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 32 ms with result: SqlDataReader

2017-09-13 10:37:53,321 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 10:37:53,326 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 10:37:53 AM +08:00

2017-09-13 10:59:42,999 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-13 10:59:45,750 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-13 11:00:08,453 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 11:00:08 AM +08:00

2017-09-13 11:00:09,409 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 11:00:09,409 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 11:00:09,412 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '115' (Type = Int32, IsNullable = false)

2017-09-13 11:00:09,412 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 11:00:09 AM +08:00

2017-09-13 11:00:09,441 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 28 ms with result: SqlDataReader

2017-09-13 11:00:09,441 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 11:00:09,530 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 11:00:09 AM +08:00

2017-09-13 11:00:12,204 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 11:00:12 AM +08:00

2017-09-13 11:00:12,269 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-13 11:00:12,269 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 11:00:12,269 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 11:00:12,269 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 11:00:12,269 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '35' (Type = Int32, IsNullable = false)

2017-09-13 11:00:12,269 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 11:00:12 AM +08:00

2017-09-13 11:00:12,276 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-09-13 11:00:12,276 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 11:00:12,298 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 11:00:12 AM +08:00

2017-09-13 11:00:12,330 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 11:00:12 AM +08:00

2017-09-13 11:00:12,342 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-13 11:00:12,342 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 11:00:12,342 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '115' (Type = Int32, IsNullable = false)

2017-09-13 11:00:12,342 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 11:00:12 AM +08:00

2017-09-13 11:00:12,346 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-13 11:00:12,346 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 11:00:12,353 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 11:00:12 AM +08:00

2017-09-13 11:00:12,363 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 11:00:12 AM +08:00

2017-09-13 11:00:12,382 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message10000] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-13 11:00:12,382 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 11:00:12,382 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '115' (Type = Int32, IsNullable = false)

2017-09-13 11:00:12,382 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 11:00:12 AM +08:00

2017-09-13 11:00:12,386 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-13 11:00:12,386 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 11:00:12,393 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 11:00:12 AM +08:00

2017-09-13 14:09:25,941 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-13 14:09:28,627 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-13 14:10:45,179 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:10:45 PM +08:00

2017-09-13 14:10:46,120 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 14:10:46,120 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:46,123 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:10:46,123 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:10:46 PM +08:00

2017-09-13 14:10:46,166 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 42 ms with result: SqlDataReader

2017-09-13 14:10:46,166 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:46,252 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:10:46 PM +08:00

2017-09-13 14:10:46,262 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:10:46 PM +08:00

2017-09-13 14:10:46,266 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-09-13 14:10:46,266 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:46,266 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:10:46,266 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:10:46 PM +08:00

2017-09-13 14:10:46,271 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-09-13 14:10:46,271 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:46,271 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:10:46 PM +08:00

2017-09-13 14:10:48,902 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:10:48 PM +08:00

2017-09-13 14:10:48,964 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-13 14:10:48,964 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:48,964 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 14:10:48,964 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 14:10:48,964 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '5' (Type = Int32, IsNullable = false)

2017-09-13 14:10:48,964 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:10:48 PM +08:00

2017-09-13 14:10:48,972 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-09-13 14:10:48,972 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:48,995 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:10:48 PM +08:00

2017-09-13 14:10:49,035 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:10:49 PM +08:00

2017-09-13 14:10:49,046 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-13 14:10:49,046 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:49,046 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:10:49,046 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:10:49 PM +08:00

2017-09-13 14:10:49,068 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 21 ms with result: SqlDataReader

2017-09-13 14:10:49,068 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:49,068 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:10:49 PM +08:00

2017-09-13 14:10:49,080 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:10:49 PM +08:00

2017-09-13 14:10:49,098 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message10000] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-13 14:10:49,098 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:49,098 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:10:49,098 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:10:49 PM +08:00

2017-09-13 14:10:49,113 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 14 ms with result: SqlDataReader

2017-09-13 14:10:49,113 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:49,122 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:10:49 PM +08:00

2017-09-13 14:10:59,191 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:10:59 PM +08:00

2017-09-13 14:10:59,207 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p__linq__0
2017-09-13 14:10:59,207 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:59,207 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:10:59,207 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:10:59 PM +08:00

2017-09-13 14:10:59,212 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-09-13 14:10:59,212 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:10:59,214 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:10:59 PM +08:00

2017-09-13 14:11:27,436 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:11:27 PM +08:00

2017-09-13 14:11:27,719 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 14:11:27,719 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:11:27,719 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 14:11:27,719 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 14:11:27,719 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:11:27,719 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:11:27 PM +08:00

2017-09-13 14:11:27,782 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 62 ms with result: SqlDataReader

2017-09-13 14:11:27,782 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:11:27,794 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:11:27 PM +08:00

2017-09-13 14:11:30,445 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:11:30 PM +08:00

2017-09-13 14:11:30,554 [7] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Conversation10000]
SET [Source] = @0, [OriginalId] = @1, [IfRead] = @2, [LastMessageSentTime] = @3, [LastMessageSenderId] = @4, [LastRepliedAgentId] = NULL, [AgentId] = NULL, [DepartmentId] = NULL, [Status] = @5, [Subject] = @6, [Priority] = @7, [Note] = NULL, [IsDeleted] = @8, [IsHidden] = @9, [CreatedTime] = @10, [ModifiedTime] = NULL
WHERE ([Id] = @11)

2017-09-13 14:11:30,554 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '1' (Type = Int16)

2017-09-13 14:11:30,554 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @1: 't_mid.$cAAdZryLRV4tjzOCmLFdm543tkl9L' (Type = String, Size = 200)

2017-09-13 14:11:30,554 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'False' (Type = Boolean)

2017-09-13 14:11:30,554 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '8/1/2017 2:23:56 AM' (Type = DateTime2)

2017-09-13 14:11:30,554 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '5' (Type = Int32)

2017-09-13 14:11:30,554 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '4' (Type = Int16)

2017-09-13 14:11:30,554 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @6: 'hello , anybody there?' (Type = String, Size = 200)

2017-09-13 14:11:30,554 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '1' (Type = Int16)

2017-09-13 14:11:30,554 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @8: 'False' (Type = Boolean)

2017-09-13 14:11:30,555 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @9: 'False' (Type = Boolean)

2017-09-13 14:11:30,555 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @10: '8/11/2017 8:43:04 AM' (Type = DateTime2)

2017-09-13 14:11:30,555 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @11: '6' (Type = Int32)

2017-09-13 14:11:30,555 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:11:30 PM +08:00

2017-09-13 14:11:30,604 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 48 ms with result: 1

2017-09-13 14:11:30,604 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:11:30,609 [7] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_ConversationLog10000]([ConversationId], [Type], [Content], [CreatedTime], [CreatedBy])
VALUES (@0, @1, @2, @3, @4)
SELECT [Id]
FROM [dbo].[t_Social_ConversationLog10000]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-13 14:11:30,609 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:11:30,609 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '6' (Type = Int32)

2017-09-13 14:11:30,609 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '3' (Type = Int16)

2017-09-13 14:11:30,609 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'Agent Test Agent 1 changed Status from New to Closed.' (Type = String, Size = 500)

2017-09-13 14:11:30,609 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/13/2017 6:11:30 AM' (Type = DateTime2)

2017-09-13 14:11:30,609 [7] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '1' (Type = Int32)

2017-09-13 14:11:30,609 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:11:30 PM +08:00

2017-09-13 14:11:30,616 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-09-13 14:11:30,616 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:11:30,623 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:11:30 PM +08:00

2017-09-13 14:12:22,481 [5] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An error occurred while sending the request.
System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:20000
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Net.Http.HttpClient.<FinishSendAsync>d__58.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Infrastructure.Core.NotificationManager.<GetAsync>d__10.MoveNext() in F:\social\social_20170728\Social\Social.Domain\Core\NotificationManager.cs:line 70
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Infrastructure.Core.NotificationManager.<NotifyUpdateConversation>d__2.MoveNext() in F:\social\social_20170728\Social\Social.Domain\Core\NotificationManager.cs:line 28
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.ConversationAppService.<UpdateConversation>d__20.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\ConversationAppService.cs:line 211
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Application.AppServices.ConversationAppService.<CloseAsync>d__16.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\ConversationAppService.cs:line 179
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.ConversationsController.<CloseConversation>d__8.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\ConversationsController.cs:line 121
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-13 14:13:44,343 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-13 14:13:47,052 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-13 14:14:11,908 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:11 PM +08:00

2017-09-13 14:14:12,948 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 14:14:12,948 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:12,951 [6] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:14:12,952 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:12 PM +08:00

2017-09-13 14:14:12,988 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 34 ms with result: SqlDataReader

2017-09-13 14:14:12,988 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:13,082 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:13 PM +08:00

2017-09-13 14:14:13,093 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:13 PM +08:00

2017-09-13 14:14:13,139 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-09-13 14:14:13,139 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:13,139 [6] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:14:13,139 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:13 PM +08:00

2017-09-13 14:14:13,148 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-09-13 14:14:13,148 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:13,149 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:13 PM +08:00

2017-09-13 14:14:14,113 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:14 PM +08:00

2017-09-13 14:14:14,208 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-13 14:14:14,208 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:14,208 [6] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:14:14,208 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:14 PM +08:00

2017-09-13 14:14:14,221 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 12 ms with result: SqlDataReader

2017-09-13 14:14:14,221 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:14,250 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:14 PM +08:00

2017-09-13 14:14:14,951 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:14 PM +08:00

2017-09-13 14:14:14,967 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p__linq__0
2017-09-13 14:14:14,967 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:14,967 [6] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:14:14,967 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:14 PM +08:00

2017-09-13 14:14:14,971 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-09-13 14:14:14,971 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:14,973 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:14 PM +08:00

2017-09-13 14:14:15,646 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:15 PM +08:00

2017-09-13 14:14:15,725 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-13 14:14:15,726 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:15,726 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 14:14:15,726 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 14:14:15,726 [6] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '5' (Type = Int32, IsNullable = false)

2017-09-13 14:14:15,726 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:15 PM +08:00

2017-09-13 14:14:15,733 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-09-13 14:14:15,733 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:15,740 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:15 PM +08:00

2017-09-13 14:14:16,564 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:16 PM +08:00

2017-09-13 14:14:16,935 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 14:14:16,936 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:16,936 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 14:14:16,936 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 14:14:16,936 [6] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:14:16,936 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:16 PM +08:00

2017-09-13 14:14:17,010 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 74 ms with result: SqlDataReader

2017-09-13 14:14:17,010 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:17,037 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:17 PM +08:00

2017-09-13 14:14:17,836 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:17 PM +08:00

2017-09-13 14:14:17,954 [6] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Conversation10000]
SET [Source] = @0, [OriginalId] = @1, [IfRead] = @2, [LastMessageSentTime] = @3, [LastMessageSenderId] = @4, [LastRepliedAgentId] = NULL, [AgentId] = NULL, [DepartmentId] = NULL, [Status] = @5, [Subject] = @6, [Priority] = @7, [Note] = NULL, [IsDeleted] = @8, [IsHidden] = @9, [CreatedTime] = @10, [ModifiedTime] = NULL
WHERE ([Id] = @11)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '1' (Type = Int16)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @1: 't_mid.$cAAdZryLRV4tjzOCmLFdm543tkl9L' (Type = String, Size = 200)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'False' (Type = Boolean)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '8/1/2017 2:23:56 AM' (Type = DateTime2)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '5' (Type = Int32)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '4' (Type = Int16)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @6: 'hello , anybody there?' (Type = String, Size = 200)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '1' (Type = Int16)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @8: 'False' (Type = Boolean)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @9: 'False' (Type = Boolean)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @10: '8/11/2017 8:43:04 AM' (Type = DateTime2)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @11: '6' (Type = Int32)

2017-09-13 14:14:17,955 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:17 PM +08:00

2017-09-13 14:14:17,992 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 34 ms with result: 1

2017-09-13 14:14:17,992 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:17,994 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:17 PM +08:00

2017-09-13 14:14:34,125 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,126 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 14:14:34,126 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:34,126 [5] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:14:34,126 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,129 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-13 14:14:34,129 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:34,129 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,129 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,130 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-09-13 14:14:34,130 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:34,130 [5] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:14:34,130 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,133 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-13 14:14:34,133 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:34,134 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,134 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,135 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-13 14:14:34,135 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:34,135 [5] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-13 14:14:34,135 [5] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 14:14:34,135 [5] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '5' (Type = Int32, IsNullable = false)

2017-09-13 14:14:34,135 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,137 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-13 14:14:34,137 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:34,137 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,138 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,149 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 14:14:34,150 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:34,150 [5] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-13 14:14:34,150 [5] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 14:14:34,150 [5] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:14:34,150 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,169 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 19 ms with result: SqlDataReader

2017-09-13 14:14:34,170 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:34,170 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,281 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,298 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-13 14:14:34,298 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:34,298 [5] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-09-13 14:14:34,298 [5] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '412' (Type = Int32, IsNullable = false)

2017-09-13 14:14:34,298 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:14:34,303 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-09-13 14:14:34,304 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:14:34,304 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:14:34 PM +08:00

2017-09-13 14:18:50,720 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-13 14:18:51,785 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-13 14:19:51,219 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:19:51 PM +08:00

2017-09-13 14:19:52,301 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-09-13 14:19:52,302 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:19:52,304 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '84' (Type = Int32, IsNullable = false)

2017-09-13 14:19:52,304 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:19:52 PM +08:00

2017-09-13 14:19:52,340 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 34 ms with result: SqlDataReader

2017-09-13 14:19:52,340 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:19:52,440 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:19:52 PM +08:00

2017-09-13 14:19:52,447 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:19:52 PM +08:00

2017-09-13 14:19:52,798 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 14:19:52,798 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:19:52,798 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 14:19:52,798 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 14:19:52,798 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '84' (Type = Int32, IsNullable = false)

2017-09-13 14:19:52,798 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:19:52 PM +08:00

2017-09-13 14:19:52,849 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 50 ms with result: SqlDataReader

2017-09-13 14:19:52,849 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:19:52,944 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:19:52 PM +08:00

2017-09-13 14:19:53,084 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:19:53 PM +08:00

2017-09-13 14:19:53,215 [8] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_MessageAttachment10000]
SET [Url] = @0
WHERE ([Id] = @1)

2017-09-13 14:19:53,217 [8] DEBUG Social.Domain.Core.SiteDataContext - -- @0: 'http://localhost:8080/api/attachments/47?siteId=10000' (Type = String, Size = -1)

2017-09-13 14:19:53,217 [8] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '47' (Type = Int32)

2017-09-13 14:19:53,218 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:19:53 PM +08:00

2017-09-13 14:19:53,260 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 40 ms with result: 1

2017-09-13 14:19:53,260 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:19:53,261 [8] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_MessageAttachment10000]
SET [Url] = @0
WHERE ([Id] = @1)

2017-09-13 14:19:53,261 [8] DEBUG Social.Domain.Core.SiteDataContext - -- @0: 'http://localhost:8080/api/attachments/49?siteId=10000' (Type = String, Size = -1)

2017-09-13 14:19:53,261 [8] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '49' (Type = Int32)

2017-09-13 14:19:53,261 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:19:53 PM +08:00

2017-09-13 14:19:53,262 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: 1

2017-09-13 14:19:53,262 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:19:53,263 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:19:53 PM +08:00

2017-09-13 14:22:08,044 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:22:08 PM +08:00

2017-09-13 14:22:08,047 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 14:22:08,047 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:22:08,047 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '84' (Type = Int32, IsNullable = false)

2017-09-13 14:22:08,047 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:22:08 PM +08:00

2017-09-13 14:22:08,051 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-13 14:22:08,051 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:22:08,051 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:22:08 PM +08:00

2017-09-13 14:22:08,052 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:22:08 PM +08:00

2017-09-13 14:22:08,055 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-09-13 14:22:08,055 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:22:08,055 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '84' (Type = Int32, IsNullable = false)

2017-09-13 14:22:08,055 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:22:08 PM +08:00

2017-09-13 14:22:08,060 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-09-13 14:22:08,060 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:22:08,060 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:22:08 PM +08:00

2017-09-13 14:22:11,104 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:22:11 PM +08:00

2017-09-13 14:22:11,137 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE [Extent1].[ConversationId] = @p__linq__0 ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 14:22:11,137 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:22:11,137 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-13 14:22:11,137 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 14:22:11,137 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '84' (Type = Int32, IsNullable = false)

2017-09-13 14:22:11,137 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:22:11 PM +08:00

2017-09-13 14:22:11,178 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 40 ms with result: SqlDataReader

2017-09-13 14:22:11,178 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:22:11,204 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:22:11 PM +08:00

2017-09-13 14:22:15,822 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:22:15 PM +08:00

2017-09-13 14:22:15,861 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message10000] AS [Extent1]
    WHERE [Extent1].[ParentId] = @EntityKeyValue1
2017-09-13 14:22:15,861 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:22:15,861 [9] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '228' (Type = Int32, IsNullable = false)

2017-09-13 14:22:15,861 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:22:15 PM +08:00

2017-09-13 14:22:15,874 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 13 ms with result: SqlDataReader

2017-09-13 14:22:15,874 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:22:15,876 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:22:15 PM +08:00

2017-09-13 14:23:09,092 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:23:09 PM +08:00

2017-09-13 14:23:09,107 [9] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_Message10000]([ConversationId], [Source], [OriginalId], [OriginalLink], [ParentId], [SendTime], [SenderId], [ReceiverId], [SendAgentId], [Content], [Story], [IsDeleted], [QuoteTweetId])
VALUES (@0, @1, @2, @3, @4, @5, @6, @7, @8, @9, NULL, @10, NULL)
SELECT [Id]
FROM [dbo].[t_Social_Message10000]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-13 14:23:09,107 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:23:09,107 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '84' (Type = Int32)

2017-09-13 14:23:09,107 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '7' (Type = Int16)

2017-09-13 14:23:09,107 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @2: '1874051485954951_1896965773663522' (Type = String, Size = 200)

2017-09-13 14:23:09,107 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @3: 'https://www.facebook.com/permalink.php?story_fbid=1874051485954951&id=1850624168297683&comment_id=1874051635954936&reply_comment_id=1896965773663522' (Type = String, Size = 500)

2017-09-13 14:23:09,107 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '229' (Type = Int32)

2017-09-13 14:23:09,107 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '9/13/2017 6:22:28 AM' (Type = DateTime2)

2017-09-13 14:23:09,107 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '13' (Type = Int32)

2017-09-13 14:23:09,107 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '5' (Type = Int32)

2017-09-13 14:23:09,107 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @8: '1' (Type = Int32)

2017-09-13 14:23:09,108 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @9: '111111' (Type = String, Size = -1)

2017-09-13 14:23:09,108 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @10: 'False' (Type = Boolean)

2017-09-13 14:23:09,108 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:23:09 PM +08:00

2017-09-13 14:23:09,130 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 22 ms with result: SqlDataReader

2017-09-13 14:23:09,130 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:23:09,141 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:23:09 PM +08:00

2017-09-13 14:23:24,042 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:23:24 PM +08:00

2017-09-13 14:23:24,060 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p__linq__0
2017-09-13 14:23:24,060 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:23:24,060 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '84' (Type = Int32, IsNullable = false)

2017-09-13 14:23:24,060 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:23:24 PM +08:00

2017-09-13 14:23:24,065 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-09-13 14:23:24,065 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:23:24,068 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:23:24 PM +08:00

2017-09-13 14:23:47,292 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 2:23:47 PM +08:00

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Conversation10000]
SET [Source] = @0, [OriginalId] = @1, [IfRead] = @2, [LastMessageSentTime] = @3, [LastMessageSenderId] = @4, [LastRepliedAgentId] = @5, [AgentId] = NULL, [DepartmentId] = NULL, [Status] = @6, [Subject] = @7, [Priority] = @8, [Note] = @9, [IsDeleted] = @10, [IsHidden] = @11, [CreatedTime] = @12, [ModifiedTime] = NULL
WHERE ([Id] = @13)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '3' (Type = Int16)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '1850624168297683_1874051485954951' (Type = String, Size = 200)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/13/2017 6:22:28 AM' (Type = DateTime2)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '13' (Type = Int32)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '1' (Type = Int32)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '2' (Type = Int16)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @7: 'this is wall post for andy' (Type = String, Size = 200)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @8: '2' (Type = Int16)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @9: 'for soapui testing' (Type = String, Size = 2000)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @10: 'False' (Type = Boolean)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @11: 'False' (Type = Boolean)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @12: '8/22/2017 6:12:04 AM' (Type = DateTime2)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @13: '84' (Type = Int32)

2017-09-13 14:23:47,293 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 2:23:47 PM +08:00

2017-09-13 14:23:47,301 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 7 ms with result: 1

2017-09-13 14:23:47,301 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 14:23:47,301 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 2:23:47 PM +08:00

2017-09-13 15:38:56,029 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-13 15:38:58,521 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-13 15:39:31,257 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:39:31 PM +08:00

2017-09-13 15:39:32,309 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 15:39:32,309 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:32,312 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:39:32,312 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:39:32 PM +08:00

2017-09-13 15:39:32,416 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 103 ms with result: SqlDataReader

2017-09-13 15:39:32,416 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:32,502 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:39:32 PM +08:00

2017-09-13 15:39:32,516 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:39:32 PM +08:00

2017-09-13 15:39:32,519 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-09-13 15:39:32,519 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:32,519 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:39:32,519 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:39:32 PM +08:00

2017-09-13 15:39:32,600 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 81 ms with result: SqlDataReader

2017-09-13 15:39:32,600 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:32,601 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:39:32 PM +08:00

2017-09-13 15:39:34,963 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:39:34 PM +08:00

2017-09-13 15:39:35,027 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-13 15:39:35,027 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:35,027 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 15:39:35,027 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 15:39:35,027 [10] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '18' (Type = Int32, IsNullable = false)

2017-09-13 15:39:35,027 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:39:35 PM +08:00

2017-09-13 15:39:35,112 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 84 ms with result: SqlDataReader

2017-09-13 15:39:35,112 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:35,166 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:39:35 PM +08:00

2017-09-13 15:39:35,210 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:39:35 PM +08:00

2017-09-13 15:39:35,223 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy]
    FROM [dbo].[t_Social_ConversationLog100014500] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-13 15:39:35,223 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:35,223 [10] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:39:35,223 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:39:35 PM +08:00

2017-09-13 15:39:35,303 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 80 ms with result: SqlDataReader

2017-09-13 15:39:35,303 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:35,304 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:39:35 PM +08:00

2017-09-13 15:39:35,317 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:39:35 PM +08:00

2017-09-13 15:39:35,335 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message100014500] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-13 15:39:35,335 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:35,335 [10] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:39:35,335 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:39:35 PM +08:00

2017-09-13 15:39:35,416 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 81 ms with result: SqlDataReader

2017-09-13 15:39:35,416 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:35,437 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:39:35 PM +08:00

2017-09-13 15:39:42,033 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:39:42 PM +08:00

2017-09-13 15:39:42,048 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
    WHERE [Extent1].[Id] = @p__linq__0
2017-09-13 15:39:42,048 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:42,048 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:39:42,048 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:39:42 PM +08:00

2017-09-13 15:39:42,129 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 80 ms with result: SqlDataReader

2017-09-13 15:39:42,129 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:42,131 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:39:42 PM +08:00

2017-09-13 15:39:44,404 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:39:44 PM +08:00

2017-09-13 15:39:44,705 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message100014500] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014500] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 15:39:44,706 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:44,706 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 15:39:44,706 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 15:39:44,706 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:39:44,706 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:39:44 PM +08:00

2017-09-13 15:39:44,916 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 210 ms with result: SqlDataReader

2017-09-13 15:39:44,916 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:44,929 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:39:44 PM +08:00

2017-09-13 15:39:45,780 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:39:45 PM +08:00

2017-09-13 15:39:45,896 [10] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Conversation100014500]
SET [Source] = @0, [OriginalId] = @1, [IfRead] = @2, [LastMessageSentTime] = @3, [LastMessageSenderId] = @4, [LastRepliedAgentId] = NULL, [AgentId] = NULL, [DepartmentId] = NULL, [Status] = @5, [Subject] = @6, [Priority] = @7, [Note] = NULL, [IsDeleted] = @8, [IsHidden] = @9, [CreatedTime] = @10, [ModifiedTime] = NULL
WHERE ([Id] = @11)

2017-09-13 15:39:45,896 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '1' (Type = Int16)

2017-09-13 15:39:45,896 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @1: 't_mid.$cAAdZr4t6hAdjpMn811dc4ROU3CF-' (Type = String, Size = 200)

2017-09-13 15:39:45,896 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'False' (Type = Boolean)

2017-09-13 15:39:45,896 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/13/2017 7:25:21 AM' (Type = DateTime2)

2017-09-13 15:39:45,896 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '18' (Type = Int32)

2017-09-13 15:39:45,896 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '4' (Type = Int16)

2017-09-13 15:39:45,896 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '??' (Type = String, Size = 200)

2017-09-13 15:39:45,897 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '1' (Type = Int16)

2017-09-13 15:39:45,897 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @8: 'False' (Type = Boolean)

2017-09-13 15:39:45,897 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @9: 'False' (Type = Boolean)

2017-09-13 15:39:45,897 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @10: '9/13/2017 7:25:27 AM' (Type = DateTime2)

2017-09-13 15:39:45,897 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @11: '5' (Type = Int32)

2017-09-13 15:39:45,897 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:39:45 PM +08:00

2017-09-13 15:39:45,986 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 87 ms with result: 1

2017-09-13 15:39:45,986 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:45,992 [10] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_ConversationLog100014500]([ConversationId], [Type], [Content], [CreatedTime], [CreatedBy])
VALUES (@0, @1, @2, @3, @4)
SELECT [Id]
FROM [dbo].[t_Social_ConversationLog100014500]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-13 15:39:45,992 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:45,992 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '5' (Type = Int32)

2017-09-13 15:39:45,992 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '3' (Type = Int16)

2017-09-13 15:39:45,992 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'Agent Test Agent 1 changed Status from New to Closed.' (Type = String, Size = 500)

2017-09-13 15:39:45,992 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/13/2017 7:39:45 AM' (Type = DateTime2)

2017-09-13 15:39:45,992 [10] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '1' (Type = Int32)

2017-09-13 15:39:45,992 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:39:45 PM +08:00

2017-09-13 15:39:46,075 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 82 ms with result: SqlDataReader

2017-09-13 15:39:46,075 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:39:46,089 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:39:46 PM +08:00

2017-09-13 15:39:52,142 [5] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An error occurred while sending the request.
System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:20000
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Net.Http.HttpClient.<FinishSendAsync>d__58.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Infrastructure.Core.NotificationManager.<GetAsync>d__10.MoveNext() in F:\social\social_20170728\Social\Social.Domain\Core\NotificationManager.cs:line 70
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Infrastructure.Core.NotificationManager.<NotifyUpdateConversation>d__2.MoveNext() in F:\social\social_20170728\Social\Social.Domain\Core\NotificationManager.cs:line 28
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.ConversationAppService.<UpdateConversation>d__20.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\ConversationAppService.cs:line 211
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Application.AppServices.ConversationAppService.<CloseAsync>d__16.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\ConversationAppService.cs:line 179
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.ConversationsController.<CloseConversation>d__8.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\ConversationsController.cs:line 121
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-13 15:40:27,412 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-13 15:40:29,954 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-13 15:41:06,869 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:06 PM +08:00

2017-09-13 15:41:07,803 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 15:41:07,803 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:07,806 [5] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:41:07,806 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:07 PM +08:00

2017-09-13 15:41:07,909 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 102 ms with result: SqlDataReader

2017-09-13 15:41:07,909 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:07,996 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:07 PM +08:00

2017-09-13 15:41:08,005 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,009 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-09-13 15:41:08,009 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:08,009 [5] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:41:08,009 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,091 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 82 ms with result: SqlDataReader

2017-09-13 15:41:08,091 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:08,093 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,118 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,160 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy]
    FROM [dbo].[t_Social_ConversationLog100014500] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-13 15:41:08,161 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:08,161 [5] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:41:08,161 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,240 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 79 ms with result: SqlDataReader

2017-09-13 15:41:08,240 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:08,267 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,277 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,295 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
    WHERE [Extent1].[Id] = @p__linq__0
2017-09-13 15:41:08,295 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:08,295 [5] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:41:08,295 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,375 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 79 ms with result: SqlDataReader

2017-09-13 15:41:08,375 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:08,377 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,433 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,476 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-13 15:41:08,476 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:08,476 [5] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 15:41:08,476 [5] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 15:41:08,476 [5] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '18' (Type = Int32, IsNullable = false)

2017-09-13 15:41:08,476 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,559 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 82 ms with result: SqlDataReader

2017-09-13 15:41:08,559 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:08,564 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,573 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:08,884 [5] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message100014500] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014500] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 15:41:08,885 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:08,885 [5] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-13 15:41:08,885 [5] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 15:41:08,885 [5] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:41:08,885 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:08 PM +08:00

2017-09-13 15:41:09,074 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 188 ms with result: SqlDataReader

2017-09-13 15:41:09,074 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:09,105 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:09,154 [5] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:09,260 [5] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Conversation100014500]
SET [Source] = @0, [OriginalId] = @1, [IfRead] = @2, [LastMessageSentTime] = @3, [LastMessageSenderId] = @4, [LastRepliedAgentId] = NULL, [AgentId] = NULL, [DepartmentId] = NULL, [Status] = @5, [Subject] = @6, [Priority] = @7, [Note] = NULL, [IsDeleted] = @8, [IsHidden] = @9, [CreatedTime] = @10, [ModifiedTime] = NULL
WHERE ([Id] = @11)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '1' (Type = Int16)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @1: 't_mid.$cAAdZr4t6hAdjpMn811dc4ROU3CF-' (Type = String, Size = 200)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'False' (Type = Boolean)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/13/2017 7:25:21 AM' (Type = DateTime2)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '18' (Type = Int32)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '4' (Type = Int16)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '??' (Type = String, Size = 200)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '1' (Type = Int16)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @8: 'False' (Type = Boolean)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @9: 'False' (Type = Boolean)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @10: '9/13/2017 7:25:27 AM' (Type = DateTime2)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- @11: '5' (Type = Int32)

2017-09-13 15:41:09,261 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:09,349 [5] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 85 ms with result: 1

2017-09-13 15:41:09,349 [5] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:09,355 [5] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:09,751 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:09,755 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-13 15:41:09,755 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:09,755 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:41:09,755 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:09,836 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 80 ms with result: SqlDataReader

2017-09-13 15:41:09,836 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:09,836 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:09,836 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:09,837 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-09-13 15:41:09,837 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:09,837 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:41:09,837 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:09,917 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 79 ms with result: SqlDataReader

2017-09-13 15:41:09,917 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:09,918 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:09,919 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:09,920 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-13 15:41:09,920 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:09,921 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-09-13 15:41:09,921 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 15:41:09,921 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '18' (Type = Int32, IsNullable = false)

2017-09-13 15:41:09,921 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:09 PM +08:00

2017-09-13 15:41:10,002 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 81 ms with result: SqlDataReader

2017-09-13 15:41:10,002 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:10,003 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:10 PM +08:00

2017-09-13 15:41:10,004 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:10 PM +08:00

2017-09-13 15:41:10,025 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message100014500] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014500] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-13 15:41:10,025 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:10,025 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-09-13 15:41:10,025 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-13 15:41:10,025 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:41:10,025 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:10 PM +08:00

2017-09-13 15:41:10,218 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 192 ms with result: SqlDataReader

2017-09-13 15:41:10,219 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:10,220 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:10 PM +08:00

2017-09-13 15:41:10,335 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/13/2017 3:41:10 PM +08:00

2017-09-13 15:41:10,351 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog100014500] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-13 15:41:10,352 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:10,352 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '5' (Type = Int32, IsNullable = false)

2017-09-13 15:41:10,352 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1' (Type = Int32, IsNullable = false)

2017-09-13 15:41:10,352 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/13/2017 3:41:10 PM +08:00

2017-09-13 15:41:10,448 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 96 ms with result: SqlDataReader

2017-09-13 15:41:10,448 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-13 15:41:10,448 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/13/2017 3:41:10 PM +08:00

