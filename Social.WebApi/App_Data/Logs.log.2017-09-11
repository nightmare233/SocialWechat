2017-09-11 09:46:55,688 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 09:46:58,394 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-11 09:52:22,940 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 09:52:25,326 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-11 09:52:47,325 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 9:52:47 AM +08:00

2017-09-11 09:52:48,404 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (200) 
    [Project1].[Id] AS [Id], 
    [Project1].[Source] AS [Source], 
    [Project1].[OriginalId] AS [OriginalId], 
    [Project1].[IfRead] AS [IfRead], 
    [Project1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Project1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Project1].[Name] AS [Name], 
    [Project1].[Avatar] AS [Avatar], 
    [Project1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Project1].[AgentId] AS [AgentId], 
    [Project1].[DepartmentId] AS [DepartmentId], 
    [Project1].[Status] AS [Status], 
    [Project1].[Subject] AS [Subject], 
    [Project1].[Priority] AS [Priority], 
    [Project1].[Note] AS [Note], 
    [Project1].[OriginalLink] AS [OriginalLink]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalId] AS [OriginalId], 
        [Extent1].[IfRead] AS [IfRead], 
        [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
        [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
        [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
        [Extent1].[AgentId] AS [AgentId], 
        [Extent1].[DepartmentId] AS [DepartmentId], 
        [Extent1].[Status] AS [Status], 
        [Extent1].[Subject] AS [Subject], 
        [Extent1].[Priority] AS [Priority], 
        [Extent1].[Note] AS [Note], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[Avatar] AS [Avatar]
        FROM  [dbo].[t_Social_Conversation10000] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[LastMessageSenderId] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[CreatedTime] > @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Id] DESC
2017-09-11 09:52:48,404 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:52:48,406 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-11 09:52:48,406 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 09:52:48,406 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6/11/2017 1:52:45 AM' (Type = DateTime2)

2017-09-11 09:52:48,406 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/11/2017 1:52:45 AM' (Type = DateTime2)

2017-09-11 09:52:48,407 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 9:52:48 AM +08:00

2017-09-11 09:52:48,455 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 47 ms with result: SqlDataReader

2017-09-11 09:52:48,455 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:52:48,474 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 9:52:48 AM +08:00

2017-09-11 09:52:48,484 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 9:52:48 AM +08:00

2017-09-11 09:52:48,612 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent2].[Id] AS [Id1], 
    [Extent2].[OriginalId] AS [OriginalId1], 
    [Extent2].[OriginalLink] AS [OriginalLink1], 
    [Extent2].[Source] AS [Source1], 
    [Extent2].[Type] AS [Type], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[ScreenName] AS [ScreenName], 
    [Extent2].[Email] AS [Email], 
    [Extent2].[Avatar] AS [Avatar], 
    [Extent2].[IsDeleted] AS [IsDeleted1], 
    [Extent2].[SiteId] AS [SiteId], 
    [Extent3].[Id] AS [Id2], 
    [Extent3].[OriginalId] AS [OriginalId2], 
    [Extent3].[OriginalLink] AS [OriginalLink2], 
    [Extent3].[Source] AS [Source2], 
    [Extent3].[Type] AS [Type1], 
    [Extent3].[Name] AS [Name1], 
    [Extent3].[ScreenName] AS [ScreenName1], 
    [Extent3].[Email] AS [Email1], 
    [Extent3].[Avatar] AS [Avatar1], 
    [Extent3].[IsDeleted] AS [IsDeleted2], 
    [Extent3].[SiteId] AS [SiteId1]
    FROM   [dbo].[t_Social_Message10000] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[ReceiverId] = [Extent3].[Id])
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] IN (2034, 2033, 2032, 2031, 2030, 2029, 2028, 2027, 2026, 2025, 2024, 2023, 2022, 2021, 2020, 2019, 2018, 1020, 1019, 1017, 1016, 1015, 1014, 1013, 1012, 1011, 1010, 1009, 1006, 1005, 1004, 1003, 1002, 16, 15, 14))
2017-09-11 09:52:48,612 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:52:48,612 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-11 09:52:48,612 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 09:52:48,612 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 9:52:48 AM +08:00

2017-09-11 09:52:48,623 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-09-11 09:52:48,623 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:52:48,739 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 9:52:48 AM +08:00

2017-09-11 09:53:33,079 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 09:53:34,672 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-11 09:53:48,112 [26] DEBUG Social.Domain.Core.SiteDataContext - Failed to open connection at 9/11/2017 9:53:48 AM +08:00 with error: Login failed for user 'IIS APPPOOL\test'.

2017-09-11 09:53:48,136 [26] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The underlying provider failed on Open.
System.Data.Entity.Core.EntityException: The underlying provider failed on Open. ---> System.Data.SqlClient.SqlException: Login failed for user 'IIS APPPOOL\test'.
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext](TTarget target, Action`2 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   at System.Data.Entity.Infrastructure.Interception.DbConnectionDispatcher.Open(DbConnection connection, DbInterceptionContext interceptionContext)
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.<>c__DisplayClass1.<Execute>b__0()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   --- End of inner exception stack trace ---
   at System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   at System.Data.Entity.Core.Objects.ObjectContext.EnsureConnection(Boolean shouldMonitorTransactions)
   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.<>c__DisplayClass7.<GetResults>b__5()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.GetResults(Nullable`1 forMergeOption)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.<System.Collections.Generic.IEnumerable<T>.GetEnumerator>b__0()
   at System.Data.Entity.Internal.LazyEnumerator`1.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Social.Application.AppServices.ConversationAppService.Find(ConversationSearchDto dto) in F:\social\social_20170728\Social\Social.Application\AppServices\ConversationAppService.cs:line 77
   at Social.WebApi.Controllers.ConversationsController.GetConversations(ConversationSearchDto searchDto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\ConversationsController.cs:line 44
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-11 09:57:36,468 [27] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 9:57:36 AM +08:00

2017-09-11 09:57:38,227 [27] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (200) 
    [Project1].[Id] AS [Id], 
    [Project1].[Source] AS [Source], 
    [Project1].[OriginalId] AS [OriginalId], 
    [Project1].[IfRead] AS [IfRead], 
    [Project1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Project1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Project1].[Name] AS [Name], 
    [Project1].[Avatar] AS [Avatar], 
    [Project1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Project1].[AgentId] AS [AgentId], 
    [Project1].[DepartmentId] AS [DepartmentId], 
    [Project1].[Status] AS [Status], 
    [Project1].[Subject] AS [Subject], 
    [Project1].[Priority] AS [Priority], 
    [Project1].[Note] AS [Note], 
    [Project1].[OriginalLink] AS [OriginalLink]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalId] AS [OriginalId], 
        [Extent1].[IfRead] AS [IfRead], 
        [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
        [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
        [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
        [Extent1].[AgentId] AS [AgentId], 
        [Extent1].[DepartmentId] AS [DepartmentId], 
        [Extent1].[Status] AS [Status], 
        [Extent1].[Subject] AS [Subject], 
        [Extent1].[Priority] AS [Priority], 
        [Extent1].[Note] AS [Note], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[Avatar] AS [Avatar]
        FROM  [dbo].[t_Social_Conversation10000] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[LastMessageSenderId] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[CreatedTime] > @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1)
    )  AS [Project1]
    ORDER BY [Project1].[Id] DESC
2017-09-11 09:57:38,227 [27] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:57:38,231 [27] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-11 09:57:38,232 [27] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 09:57:38,232 [27] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6/11/2017 1:57:36 AM' (Type = DateTime2)

2017-09-11 09:57:38,232 [27] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/11/2017 1:57:36 AM' (Type = DateTime2)

2017-09-11 09:57:38,232 [27] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 9:57:38 AM +08:00

2017-09-11 09:57:38,338 [27] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 103 ms with result: SqlDataReader

2017-09-11 09:57:38,338 [27] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:57:38,394 [27] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 9:57:38 AM +08:00

2017-09-11 09:57:38,408 [27] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 9:57:38 AM +08:00

2017-09-11 09:57:38,612 [27] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent2].[Id] AS [Id1], 
    [Extent2].[OriginalId] AS [OriginalId1], 
    [Extent2].[OriginalLink] AS [OriginalLink1], 
    [Extent2].[Source] AS [Source1], 
    [Extent2].[Type] AS [Type], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[ScreenName] AS [ScreenName], 
    [Extent2].[Email] AS [Email], 
    [Extent2].[Avatar] AS [Avatar], 
    [Extent2].[IsDeleted] AS [IsDeleted1], 
    [Extent2].[SiteId] AS [SiteId], 
    [Extent3].[Id] AS [Id2], 
    [Extent3].[OriginalId] AS [OriginalId2], 
    [Extent3].[OriginalLink] AS [OriginalLink2], 
    [Extent3].[Source] AS [Source2], 
    [Extent3].[Type] AS [Type1], 
    [Extent3].[Name] AS [Name1], 
    [Extent3].[ScreenName] AS [ScreenName1], 
    [Extent3].[Email] AS [Email1], 
    [Extent3].[Avatar] AS [Avatar1], 
    [Extent3].[IsDeleted] AS [IsDeleted2], 
    [Extent3].[SiteId] AS [SiteId1]
    FROM   [dbo].[t_Social_Message10000] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[ReceiverId] = [Extent3].[Id])
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] IN (2034, 2033, 2032, 2031, 2030, 2029, 2028, 2027, 2026, 2025, 2024, 2023, 2022, 2021, 2020, 2019, 2018, 1020, 1019, 1017, 1016, 1015, 1014, 1013, 1012, 1011, 1010, 1009, 1006, 1005, 1004, 1003, 1002, 16, 15, 14))
2017-09-11 09:57:38,612 [27] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:57:38,612 [27] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-11 09:57:38,612 [27] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 09:57:38,612 [27] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 9:57:38 AM +08:00

2017-09-11 09:57:38,626 [27] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 13 ms with result: SqlDataReader

2017-09-11 09:57:38,626 [27] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:57:38,794 [27] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 9:57:38 AM +08:00

2017-09-11 09:58:49,545 [23] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 9:58:49 AM +08:00

2017-09-11 09:58:49,615 [23] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 09:58:49,615 [23] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:58:49,615 [23] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1002' (Type = Int32)

2017-09-11 09:58:49,615 [23] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 9:58:49 AM +08:00

2017-09-11 09:58:49,620 [23] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-09-11 09:58:49,620 [23] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:58:49,654 [23] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 9:58:49 AM +08:00

2017-09-11 09:58:58,906 [26] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 9:58:58 AM +08:00

2017-09-11 09:58:58,908 [26] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 09:58:58,908 [26] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:58:58,908 [26] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1002' (Type = Int32)

2017-09-11 09:58:58,908 [26] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 9:58:58 AM +08:00

2017-09-11 09:58:58,909 [26] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-11 09:58:58,909 [26] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:58:58,909 [26] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 9:58:58 AM +08:00

2017-09-11 09:59:09,446 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 9:59:09 AM +08:00

2017-09-11 09:59:09,447 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 09:59:09,447 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:59:09,447 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1002' (Type = Int32)

2017-09-11 09:59:09,447 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 9:59:09 AM +08:00

2017-09-11 09:59:09,447 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-11 09:59:09,447 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:59:09,448 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 9:59:09 AM +08:00

2017-09-11 09:59:48,603 [23] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 9:59:48 AM +08:00

2017-09-11 09:59:48,606 [23] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 09:59:48,606 [23] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:59:48,606 [23] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1002' (Type = Int32)

2017-09-11 09:59:48,606 [23] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 9:59:48 AM +08:00

2017-09-11 09:59:48,613 [23] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-09-11 09:59:48,613 [23] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 09:59:48,614 [23] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 9:59:48 AM +08:00

2017-09-11 10:00:21,840 [30] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:00:21 AM +08:00

2017-09-11 10:00:21,841 [30] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 10:00:21,841 [30] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:00:21,841 [30] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1002' (Type = Int32)

2017-09-11 10:00:21,841 [30] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:00:21 AM +08:00

2017-09-11 10:00:21,842 [30] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-11 10:00:21,842 [30] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:00:21,842 [30] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:00:21 AM +08:00

2017-09-11 10:00:25,707 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:00:25 AM +08:00

2017-09-11 10:00:25,708 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 10:00:25,708 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:00:25,708 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1002' (Type = Int32)

2017-09-11 10:00:25,708 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:00:25 AM +08:00

2017-09-11 10:00:25,709 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-11 10:00:25,709 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:00:25,709 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:00:25 AM +08:00

2017-09-11 10:03:08,109 [34] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:03:08 AM +08:00

2017-09-11 10:03:08,111 [34] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 10:03:08,111 [34] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:03:08,111 [34] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1002' (Type = Int32)

2017-09-11 10:03:08,111 [34] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:03:08 AM +08:00

2017-09-11 10:03:08,125 [34] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 13 ms with result: SqlDataReader

2017-09-11 10:03:08,125 [34] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:03:08,125 [34] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:03:08 AM +08:00

2017-09-11 10:03:55,481 [34] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:03:55 AM +08:00

2017-09-11 10:03:55,519 [34] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message10000] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2017-09-11 10:03:55,519 [34] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:03:55,519 [34] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '1010' (Type = Int32, IsNullable = false)

2017-09-11 10:03:55,519 [34] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:03:55 AM +08:00

2017-09-11 10:03:55,531 [34] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-09-11 10:03:55,531 [34] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:03:55,534 [34] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:03:55 AM +08:00

2017-09-11 10:05:20,686 [41] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:05:20 AM +08:00

2017-09-11 10:05:20,687 [41] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 10:05:20,687 [41] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:05:20,687 [41] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1002' (Type = Int32)

2017-09-11 10:05:20,687 [41] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:05:20 AM +08:00

2017-09-11 10:05:20,691 [41] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-11 10:05:20,691 [41] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:05:20,691 [41] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:05:20 AM +08:00

2017-09-11 10:06:33,919 [49] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 10:06:35,411 [49] INFO  System.Web.HttpApplication - Application started...
2017-09-11 10:06:57,041 [34] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:06:57 AM +08:00

2017-09-11 10:06:58,462 [34] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 10:06:58,462 [34] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:06:58,463 [34] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1002' (Type = Int32)

2017-09-11 10:06:58,464 [34] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:06:58 AM +08:00

2017-09-11 10:06:58,470 [34] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-09-11 10:06:58,470 [34] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:06:58,581 [34] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:06:58 AM +08:00

2017-09-11 10:25:24,328 [58] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 10:25:25,820 [58] INFO  System.Web.HttpApplication - Application started...
2017-09-11 10:25:43,880 [16] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:25:43 AM +08:00

2017-09-11 10:25:45,420 [16] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 10:25:45,420 [16] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:25:45,422 [16] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:25:45,422 [16] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 10:25:45,422 [16] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:25:45 AM +08:00

2017-09-11 10:25:45,437 [16] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 13 ms with result: SqlDataReader

2017-09-11 10:25:45,437 [16] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:25:45,445 [16] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:25:45 AM +08:00

2017-09-11 10:26:27,560 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:26:27 AM +08:00

2017-09-11 10:26:27,562 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 10:26:27,562 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:27,562 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:26:27,562 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 10:26:27,562 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:26:27 AM +08:00

2017-09-11 10:26:27,565 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-11 10:26:27,565 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:27,565 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:26:27 AM +08:00

2017-09-11 10:26:30,642 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:26:30 AM +08:00

2017-09-11 10:26:30,643 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 10:26:30,643 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:30,644 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:26:30,644 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 10:26:30,644 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:26:30 AM +08:00

2017-09-11 10:26:30,644 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-11 10:26:30,644 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:30,644 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:26:30 AM +08:00

2017-09-11 10:26:33,610 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:26:33 AM +08:00

2017-09-11 10:26:33,611 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 10:26:33,611 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:33,611 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:26:33,611 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 10:26:33,611 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:26:33 AM +08:00

2017-09-11 10:26:33,612 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-11 10:26:33,612 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:33,612 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:26:33 AM +08:00

2017-09-11 10:26:33,773 [56] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:26:33 AM +08:00

2017-09-11 10:26:33,774 [56] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 10:26:33,774 [56] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:33,774 [56] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:26:33,774 [56] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 10:26:33,774 [56] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:26:33 AM +08:00

2017-09-11 10:26:33,775 [56] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-11 10:26:33,775 [56] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:33,775 [56] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:26:33 AM +08:00

2017-09-11 10:26:33,925 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:26:33 AM +08:00

2017-09-11 10:26:33,926 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 10:26:33,926 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:33,926 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:26:33,926 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 10:26:33,926 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:26:33 AM +08:00

2017-09-11 10:26:33,928 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-11 10:26:33,928 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:33,928 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:26:33 AM +08:00

2017-09-11 10:26:34,132 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:26:34 AM +08:00

2017-09-11 10:26:34,134 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 10:26:34,134 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:34,134 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:26:34,134 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 10:26:34,134 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:26:34 AM +08:00

2017-09-11 10:26:34,136 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-11 10:26:34,137 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:34,137 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:26:34 AM +08:00

2017-09-11 10:26:41,045 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:26:41 AM +08:00

2017-09-11 10:26:41,046 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 10:26:41,046 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:41,046 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:26:41,046 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 10:26:41,046 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:26:41 AM +08:00

2017-09-11 10:26:41,047 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-11 10:26:41,047 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:41,047 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:26:41 AM +08:00

2017-09-11 10:26:42,339 [55] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:26:42 AM +08:00

2017-09-11 10:26:42,340 [55] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 10:26:42,340 [55] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:42,340 [55] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:26:42,340 [55] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 10:26:42,340 [55] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:26:42 AM +08:00

2017-09-11 10:26:42,341 [55] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-11 10:26:42,341 [55] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:42,341 [55] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:26:42 AM +08:00

2017-09-11 10:26:43,158 [60] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:26:43 AM +08:00

2017-09-11 10:26:43,159 [60] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 10:26:43,160 [60] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:43,160 [60] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:26:43,160 [60] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 10:26:43,160 [60] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:26:43 AM +08:00

2017-09-11 10:26:43,161 [60] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-11 10:26:43,161 [60] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:26:43,161 [60] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:26:43 AM +08:00

2017-09-11 10:27:49,389 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:27:49 AM +08:00

2017-09-11 10:27:49,390 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 10:27:49,390 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:27:49,390 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:27:49,390 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 10:27:49,390 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:27:49 AM +08:00

2017-09-11 10:27:49,406 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 15 ms with result: SqlDataReader

2017-09-11 10:27:49,406 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:27:49,406 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:27:49 AM +08:00

2017-09-11 10:28:01,740 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:28:01 AM +08:00

2017-09-11 10:28:01,759 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-09-11 10:28:01,759 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:28:01,759 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:28:01,759 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:28:01 AM +08:00

2017-09-11 10:28:01,769 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-09-11 10:28:01,769 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:28:01,874 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:28:01 AM +08:00

2017-09-11 10:28:01,884 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:28:01 AM +08:00

2017-09-11 10:28:02,406 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 10:28:02,406 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:28:02,406 [51] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-11 10:28:02,406 [51] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 10:28:02,406 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:28:02,406 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:28:02 AM +08:00

2017-09-11 10:28:02,452 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 45 ms with result: SqlDataReader

2017-09-11 10:28:02,452 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:28:02,541 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:28:02 AM +08:00

2017-09-11 10:28:47,963 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:28:47 AM +08:00

2017-09-11 10:28:47,970 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-09-11 10:28:47,970 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:28:47,970 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:28:47,970 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:28:47 AM +08:00

2017-09-11 10:28:47,976 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-09-11 10:28:47,976 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:28:47,976 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:28:47 AM +08:00

2017-09-11 10:28:49,598 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:28:49 AM +08:00

2017-09-11 10:28:49,611 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 10:28:49,611 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:28:49,611 [51] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-11 10:28:49,611 [51] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 10:28:49,611 [51] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:28:49,612 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:28:49 AM +08:00

2017-09-11 10:28:49,643 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 31 ms with result: SqlDataReader

2017-09-11 10:28:49,643 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:28:49,644 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:28:49 AM +08:00

2017-09-11 10:28:54,084 [51] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:28:54 AM +08:00

2017-09-11 10:28:54,154 [51] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message10000] AS [Extent1]
    WHERE [Extent1].[ParentId] = @EntityKeyValue1
2017-09-11 10:28:54,154 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:28:54,154 [51] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '1002' (Type = Int32, IsNullable = false)

2017-09-11 10:28:54,154 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:28:54 AM +08:00

2017-09-11 10:28:54,157 [51] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-11 10:28:54,157 [51] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:28:54,159 [51] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:28:54 AM +08:00

2017-09-11 10:31:31,043 [19] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:31:31 AM +08:00

2017-09-11 10:31:31,046 [19] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-09-11 10:31:31,046 [19] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:31:31,046 [19] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 10:31:31,046 [19] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:31:31 AM +08:00

2017-09-11 10:31:31,052 [19] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-09-11 10:31:31,052 [19] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:31:31,052 [19] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:31:31 AM +08:00

2017-09-11 10:31:31,053 [19] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:31:31 AM +08:00

2017-09-11 10:31:31,065 [19] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 10:31:31,065 [19] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:31:31,065 [19] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-11 10:31:31,065 [19] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 10:31:31,065 [19] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 10:31:31,065 [19] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:31:31 AM +08:00

2017-09-11 10:31:31,094 [19] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 28 ms with result: SqlDataReader

2017-09-11 10:31:31,094 [19] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:31:31,112 [19] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:31:31 AM +08:00

2017-09-11 10:53:05,270 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 10:53:07,663 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-11 10:53:25,513 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:53:25 AM +08:00

2017-09-11 10:53:26,935 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-09-11 10:53:26,935 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:53:26,939 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 10:53:26,939 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:53:26 AM +08:00

2017-09-11 10:53:26,991 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 50 ms with result: SqlDataReader

2017-09-11 10:53:26,991 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:53:27,113 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:53:27 AM +08:00

2017-09-11 10:53:27,122 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:53:27 AM +08:00

2017-09-11 10:53:27,600 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 10:53:27,600 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:53:27,601 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-11 10:53:27,601 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 10:53:27,601 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 10:53:27,601 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:53:27 AM +08:00

2017-09-11 10:53:27,634 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 33 ms with result: SqlDataReader

2017-09-11 10:53:27,634 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:53:27,736 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:53:27 AM +08:00

2017-09-11 10:55:29,204 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:55:29 AM +08:00

2017-09-11 10:55:29,212 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-09-11 10:55:29,212 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:55:29,212 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 10:55:29,212 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:55:29 AM +08:00

2017-09-11 10:55:29,220 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-09-11 10:55:29,220 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:55:29,221 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:55:29 AM +08:00

2017-09-11 10:55:31,031 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:55:31 AM +08:00

2017-09-11 10:55:31,047 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 10:55:31,047 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:55:31,047 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-11 10:55:31,047 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 10:55:31,047 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 10:55:31,048 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:55:31 AM +08:00

2017-09-11 10:55:31,077 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 29 ms with result: SqlDataReader

2017-09-11 10:55:31,077 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:55:31,078 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:55:31 AM +08:00

2017-09-11 10:55:36,874 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:55:36 AM +08:00

2017-09-11 10:55:36,943 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message10000] AS [Extent1]
    WHERE [Extent1].[ParentId] = @EntityKeyValue1
2017-09-11 10:55:36,943 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:55:36,943 [8] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '1003' (Type = Int32, IsNullable = false)

2017-09-11 10:55:36,943 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:55:36 AM +08:00

2017-09-11 10:55:36,946 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-11 10:55:36,946 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:55:36,949 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:55:36 AM +08:00

2017-09-11 10:56:45,614 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 10:56:45 AM +08:00

2017-09-11 10:56:45,616 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId]
    FROM [dbo].[t_Social_Message10000] AS [Extent1]
    WHERE [Extent1].[ParentId] = @EntityKeyValue1
2017-09-11 10:56:45,616 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:56:45,616 [8] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '1010' (Type = Int32, IsNullable = false)

2017-09-11 10:56:45,616 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 10:56:45 AM +08:00

2017-09-11 10:56:45,621 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-09-11 10:56:45,621 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 10:56:45,621 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 10:56:45 AM +08:00

2017-09-11 11:03:44,740 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 11:03:46,770 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-11 11:04:14,973 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 11:04:14 AM +08:00

2017-09-11 11:04:16,611 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-09-11 11:04:16,611 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:04:16,616 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 11:04:16,616 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 11:04:16 AM +08:00

2017-09-11 11:04:16,670 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 51 ms with result: SqlDataReader

2017-09-11 11:04:16,670 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:04:16,796 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 11:04:16 AM +08:00

2017-09-11 11:04:16,807 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 11:04:16 AM +08:00

2017-09-11 11:04:17,310 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 11:04:17,310 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:04:17,310 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-11 11:04:17,310 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 11:04:17,310 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 11:04:17,310 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 11:04:17 AM +08:00

2017-09-11 11:04:17,347 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 36 ms with result: SqlDataReader

2017-09-11 11:04:17,347 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:04:17,455 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 11:04:17 AM +08:00

2017-09-11 11:05:04,895 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 11:05:04 AM +08:00

2017-09-11 11:05:04,959 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 11:05:04,959 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:05:04,959 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-09-11 11:05:04,959 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 11:05:04 AM +08:00

2017-09-11 11:05:04,962 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-11 11:05:04,962 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:05:04,962 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 11:05:04 AM +08:00

2017-09-11 11:05:23,366 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 11:05:23 AM +08:00

2017-09-11 11:05:23,368 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 11:05:23,368 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:05:23,368 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1006' (Type = Int32)

2017-09-11 11:05:23,368 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 11:05:23 AM +08:00

2017-09-11 11:05:23,375 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-09-11 11:05:23,375 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:05:23,376 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 11:05:23 AM +08:00

2017-09-11 11:13:59,220 [15] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 11:14:00,138 [15] INFO  System.Web.HttpApplication - Application started...
2017-09-11 11:14:02,256 [18] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 11:14:02 AM +08:00

2017-09-11 11:14:03,640 [18] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-11 11:14:03,640 [18] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:14:03,641 [18] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 11:14:03,642 [18] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 11:14:03 AM +08:00

2017-09-11 11:14:03,656 [18] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 12 ms with result: SqlDataReader

2017-09-11 11:14:03,656 [18] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:14:03,767 [18] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 11:14:03 AM +08:00

2017-09-11 11:14:03,827 [18] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 11:14:03 AM +08:00

2017-09-11 11:14:03,943 [18] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-11 11:14:03,943 [18] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:14:03,943 [18] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-11 11:14:03,943 [18] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 11:14:03,943 [18] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '6' (Type = Int32, IsNullable = false)

2017-09-11 11:14:03,943 [18] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 11:14:03 AM +08:00

2017-09-11 11:14:03,949 [18] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-09-11 11:14:03,949 [18] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:14:03,985 [18] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 11:14:03 AM +08:00

2017-09-11 11:14:04,005 [18] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 11:14:04 AM +08:00

2017-09-11 11:14:04,437 [18] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 11:14:04,437 [18] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:14:04,437 [18] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-11 11:14:04,438 [18] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 11:14:04,438 [18] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 11:14:04,438 [18] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 11:14:04 AM +08:00

2017-09-11 11:14:04,466 [18] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 28 ms with result: SqlDataReader

2017-09-11 11:14:04,466 [18] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 11:14:04,520 [18] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 11:14:04 AM +08:00

2017-09-11 13:29:51,179 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 13:29:53,378 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-11 13:30:20,260 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:30:20 PM +08:00

2017-09-11 13:30:21,833 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-09-11 13:30:21,833 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:30:21,837 [6] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 13:30:21,838 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:30:21 PM +08:00

2017-09-11 13:30:21,891 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 52 ms with result: SqlDataReader

2017-09-11 13:30:21,891 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:30:22,016 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:30:22 PM +08:00

2017-09-11 13:30:22,025 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:30:22 PM +08:00

2017-09-11 13:30:22,512 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 13:30:22,513 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:30:22,513 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-11 13:30:22,513 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 13:30:22,513 [6] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 13:30:22,513 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:30:22 PM +08:00

2017-09-11 13:30:22,548 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 34 ms with result: SqlDataReader

2017-09-11 13:30:22,548 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:30:22,652 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:30:22 PM +08:00

2017-09-11 13:31:13,470 [7] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 13:31:15,124 [7] INFO  System.Web.HttpApplication - Application started...
2017-09-11 13:31:49,743 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:31:49 PM +08:00

2017-09-11 13:31:51,097 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-09-11 13:31:51,097 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:31:51,098 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 13:31:51,099 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:31:51 PM +08:00

2017-09-11 13:31:51,105 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-09-11 13:31:51,105 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:31:51,219 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:31:51 PM +08:00

2017-09-11 13:31:51,227 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:31:51 PM +08:00

2017-09-11 13:31:51,701 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 13:31:51,701 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:31:51,701 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-11 13:31:51,701 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 13:31:51,701 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1003' (Type = Int32, IsNullable = false)

2017-09-11 13:31:51,701 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:31:51 PM +08:00

2017-09-11 13:31:51,734 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 32 ms with result: SqlDataReader

2017-09-11 13:31:51,734 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:31:51,832 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:31:51 PM +08:00

2017-09-11 13:32:03,037 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:32:03 PM +08:00

2017-09-11 13:32:03,107 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 13:32:03,107 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:32:03,107 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-09-11 13:32:03,107 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:32:03 PM +08:00

2017-09-11 13:32:03,121 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 13 ms with result: SqlDataReader

2017-09-11 13:32:03,121 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:32:03,122 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:32:03 PM +08:00

2017-09-11 13:37:04,578 [29] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 13:37:06,118 [29] INFO  System.Web.HttpApplication - Application started...
2017-09-11 13:37:37,091 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:37:37 PM +08:00

2017-09-11 13:37:38,419 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 13:37:38,419 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:37:38,420 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1017' (Type = Int32, IsNullable = false)

2017-09-11 13:37:38,420 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 13:37:38,420 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:37:38 PM +08:00

2017-09-11 13:37:38,427 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-09-11 13:37:38,427 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:37:38,542 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:37:38 PM +08:00

2017-09-11 13:37:38,552 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:37:38 PM +08:00

2017-09-11 13:37:39,024 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[SendTime] ASC, [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 13:37:39,024 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:37:39,024 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-11 13:37:39,024 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 13:37:39,024 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1017' (Type = Int32, IsNullable = false)

2017-09-11 13:37:39,024 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:37:39 PM +08:00

2017-09-11 13:37:39,057 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 32 ms with result: SqlDataReader

2017-09-11 13:37:39,057 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:37:39,215 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:37:39 PM +08:00

2017-09-11 13:37:39,256 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:37:39 PM +08:00

2017-09-11 13:37:39,340 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id1] AS [Id], 
    [Project1].[Id] AS [Id1], 
    [Project1].[Source] AS [Source], 
    [Project1].[OriginalLink] AS [OriginalLink], 
    [Project1].[ConversationId] AS [ConversationId], 
    [Project1].[Content] AS [Content], 
    [Project1].[SendTime] AS [SendTime], 
    [Project1].[SendAgentId] AS [SendAgentId], 
    [Project1].[Avatar] AS [Avatar], 
    [Project1].[SenderId] AS [SenderId], 
    [Project1].[Type] AS [Type], 
    [Project1].[Name] AS [Name], 
    [Project1].[ScreenName] AS [ScreenName], 
    [Project1].[Email] AS [Email], 
    [Project1].[OriginalLink1] AS [OriginalLink1], 
    [Project1].[C1] AS [C1], 
    [Project1].[MessageId] AS [MessageId], 
    [Project1].[Type1] AS [Type1], 
    [Project1].[Url] AS [Url], 
    [Project1].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[ConversationId] AS [ConversationId], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalLink] AS [OriginalLink], 
        [Extent1].[SendTime] AS [SendTime], 
        [Extent1].[SenderId] AS [SenderId], 
        [Extent1].[SendAgentId] AS [SendAgentId], 
        [Extent1].[Content] AS [Content], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalLink] AS [OriginalLink1], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent3].[MessageId] AS [MessageId], 
        [Extent3].[Type] AS [Type1], 
        [Extent3].[Url] AS [Url], 
        [Extent3].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent3].[MessageId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   [dbo].[t_Social_Message10000] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[SenderId] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent3] ON [Extent1].[Id] = [Extent3].[MessageId]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0)
    )  AS [Project1]
    ORDER BY [Project1].[SendTime] ASC, [Project1].[Id1] ASC, [Project1].[Id] ASC, [Project1].[C1] ASC
2017-09-11 13:37:39,340 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:37:39,340 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-11 13:37:39,340 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 13:37:39,340 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1017' (Type = Int32, IsNullable = false)

2017-09-11 13:37:39,340 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:37:39 PM +08:00

2017-09-11 13:37:39,347 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-09-11 13:37:39,347 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:37:39,349 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:37:39 PM +08:00

2017-09-11 13:41:30,984 [24] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:41:30 PM +08:00

2017-09-11 13:41:30,988 [24] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 13:41:30,988 [24] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:41:30,988 [24] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1017' (Type = Int32, IsNullable = false)

2017-09-11 13:41:30,988 [24] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 13:41:30,988 [24] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:41:30 PM +08:00

2017-09-11 13:41:30,995 [24] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-09-11 13:41:30,995 [24] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:41:30,996 [24] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:41:30 PM +08:00

2017-09-11 13:41:40,932 [24] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:41:40 PM +08:00

2017-09-11 13:41:40,949 [24] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[SendTime] ASC, [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 13:41:40,950 [24] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:41:40,950 [24] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-11 13:41:40,950 [24] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 13:41:40,950 [24] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1017' (Type = Int32, IsNullable = false)

2017-09-11 13:41:40,950 [24] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:41:40 PM +08:00

2017-09-11 13:41:40,981 [24] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 31 ms with result: SqlDataReader

2017-09-11 13:41:40,981 [24] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:41:40,998 [24] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:41:40 PM +08:00

2017-09-11 13:41:42,164 [24] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:41:42 PM +08:00

2017-09-11 13:41:42,167 [24] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id1] AS [Id], 
    [Project1].[Id] AS [Id1], 
    [Project1].[Source] AS [Source], 
    [Project1].[OriginalLink] AS [OriginalLink], 
    [Project1].[ConversationId] AS [ConversationId], 
    [Project1].[Content] AS [Content], 
    [Project1].[SendTime] AS [SendTime], 
    [Project1].[SendAgentId] AS [SendAgentId], 
    [Project1].[Avatar] AS [Avatar], 
    [Project1].[SenderId] AS [SenderId], 
    [Project1].[Type] AS [Type], 
    [Project1].[Name] AS [Name], 
    [Project1].[ScreenName] AS [ScreenName], 
    [Project1].[Email] AS [Email], 
    [Project1].[OriginalLink1] AS [OriginalLink1], 
    [Project1].[C1] AS [C1], 
    [Project1].[MessageId] AS [MessageId], 
    [Project1].[Type1] AS [Type1], 
    [Project1].[Url] AS [Url], 
    [Project1].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[ConversationId] AS [ConversationId], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalLink] AS [OriginalLink], 
        [Extent1].[SendTime] AS [SendTime], 
        [Extent1].[SenderId] AS [SenderId], 
        [Extent1].[SendAgentId] AS [SendAgentId], 
        [Extent1].[Content] AS [Content], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalLink] AS [OriginalLink1], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent3].[MessageId] AS [MessageId], 
        [Extent3].[Type] AS [Type1], 
        [Extent3].[Url] AS [Url], 
        [Extent3].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent3].[MessageId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   [dbo].[t_Social_Message10000] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[SenderId] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent3] ON [Extent1].[Id] = [Extent3].[MessageId]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0)
    )  AS [Project1]
    ORDER BY [Project1].[SendTime] ASC, [Project1].[Id1] ASC, [Project1].[Id] ASC, [Project1].[C1] ASC
2017-09-11 13:41:42,168 [24] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:41:42,168 [24] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-11 13:41:42,168 [24] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 13:41:42,168 [24] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1017' (Type = Int32, IsNullable = false)

2017-09-11 13:41:42,168 [24] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:41:42 PM +08:00

2017-09-11 13:41:42,173 [24] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-09-11 13:41:42,173 [24] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:41:42,173 [24] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:41:42 PM +08:00

2017-09-11 13:45:34,868 [13] INFO  System.Web.HttpApplication - Application starting...
2017-09-11 13:45:36,321 [13] INFO  System.Web.HttpApplication - Application started...
2017-09-11 13:46:17,479 [23] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:46:17 PM +08:00

2017-09-11 13:46:18,827 [23] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-09-11 13:46:18,827 [23] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:46:18,829 [23] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1017' (Type = Int32, IsNullable = false)

2017-09-11 13:46:18,829 [23] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-09-11 13:46:18,829 [23] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:46:18 PM +08:00

2017-09-11 13:46:18,836 [23] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-09-11 13:46:18,836 [23] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:46:18,945 [23] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:46:18 PM +08:00

2017-09-11 13:46:18,954 [23] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:46:18 PM +08:00

2017-09-11 13:46:19,429 [23] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        [Extent8].[RawData] AS [RawData], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[SendTime] ASC, [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-11 13:46:19,430 [23] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:46:19,430 [23] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-11 13:46:19,430 [23] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-11 13:46:19,430 [23] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1017' (Type = Int32, IsNullable = false)

2017-09-11 13:46:19,430 [23] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:46:19 PM +08:00

2017-09-11 13:46:19,464 [23] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 34 ms with result: SqlDataReader

2017-09-11 13:46:19,464 [23] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:46:19,575 [23] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:46:19 PM +08:00

2017-09-11 13:46:52,872 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:46:52 PM +08:00

2017-09-11 13:46:52,935 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 13:46:52,935 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:46:52,935 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '2118' (Type = Int32)

2017-09-11 13:46:52,935 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:46:52 PM +08:00

2017-09-11 13:46:52,936 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-11 13:46:52,936 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:46:52,939 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:46:52 PM +08:00

2017-09-11 13:46:53,069 [42] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/11/2017 1:46:53 PM +08:00

2017-09-11 13:46:53,073 [42] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[MessageId] AS [MessageId], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[MimeType] AS [MimeType], 
    [Extent1].[Size] AS [Size], 
    [Extent1].[Url] AS [Url], 
    [Extent1].[PreviewUrl] AS [PreviewUrl], 
    [Extent1].[RawData] AS [RawData]
    FROM [dbo].[t_Social_MessageAttachment10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-09-11 13:46:53,073 [42] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:46:53,073 [42] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '2118' (Type = Int32)

2017-09-11 13:46:53,073 [42] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/11/2017 1:46:53 PM +08:00

2017-09-11 13:46:53,078 [42] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-09-11 13:46:53,078 [42] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-11 13:46:53,133 [42] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/11/2017 1:46:53 PM +08:00

