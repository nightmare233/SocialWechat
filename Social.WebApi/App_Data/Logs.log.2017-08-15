2017-08-15 10:14:02,757 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 10:14:05,491 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 10:16:28,865 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:16:28 AM +08:00

2017-08-15 10:16:30,046 [10] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent3].[Id] AS [Id1], 
    [Extent3].[OriginalId] AS [OriginalId], 
    [Extent3].[OriginalLink] AS [OriginalLink], 
    [Extent3].[Source] AS [Source], 
    [Extent3].[Type] AS [Type], 
    [Extent3].[Name] AS [Name], 
    [Extent3].[ScreenName] AS [ScreenName], 
    [Extent3].[Email] AS [Email], 
    [Extent3].[Avatar] AS [Avatar], 
    [Extent3].[IsDeleted] AS [IsDeleted1], 
    [Extent3].[SiteId] AS [SiteId1]
    FROM   [dbo].[t_Social_Account] AS [Extent1]
    INNER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = [Extent3].[Id])
    WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source]) AND ([Extent2].[OriginalId] IN (N'374337606314054')) AND (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
2017-08-15 10:16:30,047 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:16:30,050 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 10:16:30,050 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 10:16:30,051 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:16:30 AM +08:00

2017-08-15 10:16:30,087 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 34 ms with result: SqlDataReader

2017-08-15 10:16:30,087 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:16:30,095 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:16:30 AM +08:00

2017-08-15 10:18:05,727 [27] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:18:05 AM +08:00

2017-08-15 10:18:05,779 [27] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0) AND ([Extent1].[Source] = @p__linq__1) AND ([Extent1].[Type] = @p__linq__2)
2017-08-15 10:18:05,779 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:05,779 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 10:18:05,779 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 10:18:05,779 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 10:18:05,779 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 10:18:05,779 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__2: 'Customer' (Type = Int16)

2017-08-15 10:18:05,779 [27] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:18:05 AM +08:00

2017-08-15 10:18:05,782 [27] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 10:18:05,782 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:05,783 [27] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:18:05 AM +08:00

2017-08-15 10:18:05,795 [27] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:18:05 AM +08:00

2017-08-15 10:18:05,823 [27] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (([Extent2].[OriginalId] = @p__linq__0) OR (([Extent2].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND (0 = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 10:18:05,823 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:05,823 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 10:18:05,823 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 10:18:05,823 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 10:18:05,823 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 10:18:05,823 [27] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:18:05 AM +08:00

2017-08-15 10:18:05,827 [27] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 10:18:05,827 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:05,832 [27] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:18:05 AM +08:00

2017-08-15 10:18:05,983 [27] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/15/2017 10:18:05 AM +08:00

2017-08-15 10:18:06,107 [27] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_User]([OriginalId], [OriginalLink], [Source], [Type], [Name], [ScreenName], [Email], [Avatar], [IsDeleted], [SiteId])
VALUES (@0, @1, @2, @3, @4, NULL, NULL, @5, @6, @7)
SELECT [Id]
FROM [dbo].[t_Social_User]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 10:18:06,107 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:06,107 [27] DEBUG Social.Domain.SiteDataContext - -- @0: '374337606314054' (Type = String, Size = 200)

2017-08-15 10:18:06,107 [27] DEBUG Social.Domain.SiteDataContext - -- @1: 'https://www.facebook.com/22mjmk-374337606314054/' (Type = String, Size = 500)

2017-08-15 10:18:06,107 [27] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 10:18:06,107 [27] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 10:18:06,107 [27] DEBUG Social.Domain.SiteDataContext - -- @4: '22mjmk' (Type = String, Size = 200)

2017-08-15 10:18:06,107 [27] DEBUG Social.Domain.SiteDataContext - -- @5: 'string' (Type = String, Size = 200)

2017-08-15 10:18:06,107 [27] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 10:18:06,107 [27] DEBUG Social.Domain.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-08-15 10:18:06,107 [27] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 10:18:06 AM +08:00

2017-08-15 10:18:06,138 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 31 ms with result: SqlDataReader

2017-08-15 10:18:06,138 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:06,162 [9] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_Account]([Id], [Token], [TokenSecret], [IfEnable], [IfConvertMessageToConversation], [IfConvertVisitorPostToConversation], [IfConvertWallPostToConversation], [IfConvertTweetToConversation], [FacebookPageCategory], [FacebookSignInAs], [CreatedTime], [CreatedBy], [ConversationDepartmentId], [ConversationAgentId], [IsDeleted], [ConversationPriority], [SiteId])
VALUES (@0, @1, NULL, @2, @3, @4, @5, @6, @7, @8, @9, @10, NULL, NULL, @11, NULL, @12)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @0: '1' (Type = Int32)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @1: 'EAAbZBc23G2m8BAI8KE9L0wCakz9ZAsRdtI0SlkIcL3lGc6c0OZCfnu79r0KlH79Uf7guurBUt67dZB7Xou5ZCNvmi3ZAGd4ao0XFnjuPCJFZBpFKh56iM4cexeOPmODzjUy7yDN0SZAZAIUrGI3jKq8iV9eN7N2x4XwkJlbjFrZAEnVwZDZD' (Type = String, Size = -1)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @5: 'True' (Type = Boolean)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @7: 'Health/Beauty' (Type = String, Size = 200)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @8: 'Vico Zhou' (Type = String, Size = 200)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @9: '8/15/2017 2:18:05 AM' (Type = DateTime2)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @10: '1' (Type = Int32)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @11: 'False' (Type = Boolean)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- @12: '10000' (Type = Int32)

2017-08-15 10:18:06,163 [9] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 10:18:06 AM +08:00

2017-08-15 10:18:06,185 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 20 ms with result: 1

2017-08-15 10:18:06,185 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:06,197 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:18:06 AM +08:00

2017-08-15 10:18:08,339 [23] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:18:08 AM +08:00

2017-08-15 10:18:08,342 [23] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
        WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 10:18:08,342 [23] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:08,342 [23] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 10:18:08,342 [23] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 10:18:08,342 [23] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:18:08 AM +08:00

2017-08-15 10:18:08,351 [23] DEBUG Social.Domain.SiteDataContext - -- Completed in 9 ms with result: SqlDataReader

2017-08-15 10:18:08,351 [23] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:08,351 [23] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:18:08 AM +08:00

2017-08-15 10:18:09,414 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:18:09 AM +08:00

2017-08-15 10:18:09,424 [10] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
    )  AS [Limit1]
2017-08-15 10:18:09,424 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:09,424 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 10:18:09,424 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 10:18:09,424 [10] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-08-15 10:18:09,424 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:18:09 AM +08:00

2017-08-15 10:18:09,430 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 10:18:09,430 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:09,440 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:18:09 AM +08:00

2017-08-15 10:18:09,462 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:18:09 AM +08:00

2017-08-15 10:18:09,466 [10] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Site_SocialAccount]([SiteId], [FacebookPageId], [TwitterUserId])
VALUES (@0, @1, NULL)
SELECT [Id]
FROM [dbo].[t_Site_SocialAccount]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 10:18:09,466 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:09,466 [10] DEBUG Social.Domain.SiteDataContext - -- @0: '10000' (Type = Int32)

2017-08-15 10:18:09,466 [10] DEBUG Social.Domain.SiteDataContext - -- @1: '374337606314054' (Type = String, Size = -1)

2017-08-15 10:18:09,466 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:18:09 AM +08:00

2017-08-15 10:18:09,477 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-08-15 10:18:09,478 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:18:09,479 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:18:09 AM +08:00

2017-08-15 10:28:58,020 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 10:29:00,775 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 10:29:57,687 [12] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - (OAuthException - #100) This authorization code has expired.
Framework.Core.ExceptionWithCode: (OAuthException - #100) This authorization code has expired. ---> Facebook.FacebookOAuthException: (OAuthException - #100) This authorization code has expired.
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   --- End of inner exception stack trace ---
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 50
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 63
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 10:31:08,191 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:31:08 AM +08:00

2017-08-15 10:31:09,412 [12] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent3].[Id] AS [Id1], 
    [Extent3].[OriginalId] AS [OriginalId], 
    [Extent3].[OriginalLink] AS [OriginalLink], 
    [Extent3].[Source] AS [Source], 
    [Extent3].[Type] AS [Type], 
    [Extent3].[Name] AS [Name], 
    [Extent3].[ScreenName] AS [ScreenName], 
    [Extent3].[Email] AS [Email], 
    [Extent3].[Avatar] AS [Avatar], 
    [Extent3].[IsDeleted] AS [IsDeleted1], 
    [Extent3].[SiteId] AS [SiteId1]
    FROM   [dbo].[t_Social_Account] AS [Extent1]
    INNER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = [Extent3].[Id])
    WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source]) AND ([Extent2].[OriginalId] IN (N'374337606314054')) AND (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
2017-08-15 10:31:09,412 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:31:09,415 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 10:31:09,415 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 10:31:09,415 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:31:09 AM +08:00

2017-08-15 10:31:09,466 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 50 ms with result: SqlDataReader

2017-08-15 10:31:09,466 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:31:09,576 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:31:09 AM +08:00

2017-08-15 10:33:22,771 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 10:33:25,295 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 10:34:16,148 [11] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:34:16 AM +08:00

2017-08-15 10:34:17,424 [11] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent3].[Id] AS [Id1], 
    [Extent3].[OriginalId] AS [OriginalId], 
    [Extent3].[OriginalLink] AS [OriginalLink], 
    [Extent3].[Source] AS [Source], 
    [Extent3].[Type] AS [Type], 
    [Extent3].[Name] AS [Name], 
    [Extent3].[ScreenName] AS [ScreenName], 
    [Extent3].[Email] AS [Email], 
    [Extent3].[Avatar] AS [Avatar], 
    [Extent3].[IsDeleted] AS [IsDeleted1], 
    [Extent3].[SiteId] AS [SiteId1]
    FROM   [dbo].[t_Social_Account] AS [Extent1]
    INNER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = [Extent3].[Id])
    WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source]) AND ([Extent2].[OriginalId] IN (N'374337606314054')) AND (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
2017-08-15 10:34:17,424 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:34:17,428 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 10:34:17,428 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 10:34:17,428 [11] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:34:17 AM +08:00

2017-08-15 10:34:17,466 [11] DEBUG Social.Domain.SiteDataContext - -- Completed in 37 ms with result: SqlDataReader

2017-08-15 10:34:17,466 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:34:17,577 [11] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:34:17 AM +08:00

2017-08-15 10:36:00,086 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 10:36:00,994 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 10:36:30,811 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:36:30 AM +08:00

2017-08-15 10:36:31,930 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 10:36:31,930 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:36:31,933 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 10:36:31,933 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 10:36:31,933 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:36:31 AM +08:00

2017-08-15 10:36:31,968 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 32 ms with result: SqlDataReader

2017-08-15 10:36:31,968 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:36:31,981 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:36:31 AM +08:00

2017-08-15 10:36:37,763 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:36:37 AM +08:00

2017-08-15 10:36:37,897 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 10:36:37,897 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:36:37,897 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 10:36:37,897 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 10:36:37,897 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-08-15 10:36:37,897 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 10:36:37,897 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:36:37 AM +08:00

2017-08-15 10:36:37,904 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 10:36:37,904 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:36:38,002 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:36:38 AM +08:00

2017-08-15 10:36:40,117 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:36:40 AM +08:00

2017-08-15 10:36:40,147 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 10:36:40,148 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:36:40,148 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 10:36:40,148 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 10:36:40,148 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:36:40 AM +08:00

2017-08-15 10:36:40,158 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-08-15 10:36:40,158 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:36:40,161 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:36:40 AM +08:00

2017-08-15 10:36:42,549 [11] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:36:42 AM +08:00

2017-08-15 10:36:42,668 [11] DEBUG Social.Domain.SiteDataContext - UPDATE [dbo].[t_Social_Account]
SET [Token] = @0, [TokenSecret] = NULL, [IfEnable] = @1, [IfConvertMessageToConversation] = @2, [IfConvertVisitorPostToConversation] = @3, [IfConvertWallPostToConversation] = @4, [IfConvertTweetToConversation] = @5, [FacebookPageCategory] = @6, [FacebookSignInAs] = @7, [CreatedTime] = @8, [CreatedBy] = @9, [ConversationDepartmentId] = NULL, [ConversationAgentId] = NULL, [IsDeleted] = @10, [ConversationPriority] = NULL, [SiteId] = @11
WHERE ([Id] = @12)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @0: 'EAAbZBc23G2m8BAI8KE9L0wCakz9ZAsRdtI0SlkIcL3lGc6c0OZCfnu79r0KlH79Uf7guurBUt67dZB7Xou5ZCNvmi3ZAGd4ao0XFnjuPCJFZBpFKh56iM4cexeOPmODzjUy7yDN0SZAZAIUrGI3jKq8iV9eN7N2x4XwkJlbjFrZAEnVwZDZD' (Type = String, Size = -1)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @1: 'True' (Type = Boolean)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @5: 'False' (Type = Boolean)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @6: 'Health/Beauty' (Type = String, Size = 200)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @7: 'Vico Zhou' (Type = String, Size = 200)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @8: '8/15/2017 2:18:05 AM' (Type = DateTime2)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @9: '1' (Type = Int32)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @10: 'True' (Type = Boolean)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @11: '10000' (Type = Int32)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- @12: '1' (Type = Int32)

2017-08-15 10:36:42,669 [11] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:36:42 AM +08:00

2017-08-15 10:36:42,688 [11] DEBUG Social.Domain.SiteDataContext - -- Completed in 17 ms with result: 1

2017-08-15 10:36:42,688 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:36:42,690 [11] DEBUG Social.Domain.SiteDataContext - UPDATE [dbo].[t_Social_User]
SET [OriginalId] = @0, [OriginalLink] = @1, [Source] = @2, [Type] = @3, [Name] = @4, [ScreenName] = NULL, [Email] = NULL, [Avatar] = @5, [IsDeleted] = @6, [SiteId] = @7
WHERE ([Id] = @8)

2017-08-15 10:36:42,690 [11] DEBUG Social.Domain.SiteDataContext - -- @0: '374337606314054' (Type = String, Size = 200)

2017-08-15 10:36:42,690 [11] DEBUG Social.Domain.SiteDataContext - -- @1: 'https://www.facebook.com/22mjmk-374337606314054/' (Type = String, Size = 500)

2017-08-15 10:36:42,690 [11] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 10:36:42,690 [11] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 10:36:42,690 [11] DEBUG Social.Domain.SiteDataContext - -- @4: '22mjmk' (Type = String, Size = 200)

2017-08-15 10:36:42,690 [11] DEBUG Social.Domain.SiteDataContext - -- @5: 'string' (Type = String, Size = 200)

2017-08-15 10:36:42,690 [11] DEBUG Social.Domain.SiteDataContext - -- @6: 'True' (Type = Boolean)

2017-08-15 10:36:42,690 [11] DEBUG Social.Domain.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-08-15 10:36:42,690 [11] DEBUG Social.Domain.SiteDataContext - -- @8: '1' (Type = Int32)

2017-08-15 10:36:42,691 [11] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:36:42 AM +08:00

2017-08-15 10:36:42,694 [11] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: 1

2017-08-15 10:36:42,694 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:36:42,696 [11] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:36:42 AM +08:00

2017-08-15 10:36:42,702 [11] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:36:42 AM +08:00

2017-08-15 10:36:42,705 [11] DEBUG Social.Domain.SiteDataContext - DELETE [dbo].[t_Site_SocialAccount]
WHERE ([Id] = @0)
2017-08-15 10:36:42,705 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:36:42,705 [11] DEBUG Social.Domain.SiteDataContext - -- @0: '1' (Type = Int32)

2017-08-15 10:36:42,705 [11] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:36:42 AM +08:00

2017-08-15 10:36:42,708 [11] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: 1

2017-08-15 10:36:42,708 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:36:42,708 [11] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:36:42 AM +08:00

2017-08-15 10:38:29,842 [11] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 10:38:29 AM +08:00

2017-08-15 10:38:29,844 [11] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 10:38:29,844 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:38:29,844 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 10:38:29,844 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 10:38:29,844 [11] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 10:38:29 AM +08:00

2017-08-15 10:38:29,848 [11] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 10:38:29,848 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 10:38:29,848 [11] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 10:38:29 AM +08:00

2017-08-15 11:17:20,847 [78] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:17:20 AM +08:00

2017-08-15 11:17:20,885 [78] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-08-15 11:17:20,885 [78] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:17:20,885 [78] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-08-15 11:17:20,885 [78] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:17:20 AM +08:00

2017-08-15 11:17:20,889 [78] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 11:17:20,890 [78] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:17:20,890 [78] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:17:20 AM +08:00

2017-08-15 11:17:24,233 [78] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Conversation id '1' not exists.
Framework.Core.ExceptionWithCode: Conversation id '1' not exists.
   at Social.Application.AppServices.ConversationAppService.Update(Int32 id, ConversationUpdateDto updateDto) in F:\social\social_20170728\Social\Social.Application\AppServices\ConversationAppService.cs:line 97
   at Social.WebApi.Controllers.ConversationsController.PutConversation(Int32 id, ConversationUpdateDto createDto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\ConversationsController.cs:line 84
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 11:24:34,180 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 11:24:36,692 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 11:27:06,678 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:27:06 AM +08:00

2017-08-15 11:27:07,880 [12] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 11:27:07,880 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:27:07,883 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 11:27:07,883 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:27:07,883 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:27:07 AM +08:00

2017-08-15 11:27:07,918 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 33 ms with result: SqlDataReader

2017-08-15 11:27:07,918 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:27:07,929 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:27:07 AM +08:00

2017-08-15 11:27:23,373 [15] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:27:23 AM +08:00

2017-08-15 11:27:23,507 [15] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 11:27:23,507 [15] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:27:23,507 [15] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 11:27:23,508 [15] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:27:23,508 [15] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-08-15 11:27:23,508 [15] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 11:27:23,508 [15] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:27:23 AM +08:00

2017-08-15 11:27:23,514 [15] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 11:27:23,514 [15] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:27:23,515 [15] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:27:23 AM +08:00

2017-08-15 11:27:23,598 [15] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Facebook page with id '1' not exists.
Framework.Core.ExceptionWithCode: Facebook page with id '1' not exists.
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 127
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 11:30:55,962 [18] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The remote server returned an error: (502) Bad Gateway.
System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 63
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 11:31:20,066 [25] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The remote server returned an error: (502) Bad Gateway.
System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 63
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 11:31:50,416 [18] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The remote server returned an error: (502) Bad Gateway.
System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 63
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 11:32:49,026 [19] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The remote server returned an error: (502) Bad Gateway.
System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 63
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 11:33:42,935 [18] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The remote server returned an error: (502) Bad Gateway.
System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 63
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 11:36:42,335 [18] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The remote server returned an error: (502) Bad Gateway.
System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 63
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 11:37:24,045 [23] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The remote server returned an error: (502) Bad Gateway.
System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 63
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 11:37:57,771 [36] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The remote server returned an error: (502) Bad Gateway.
System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 63
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 11:38:11,481 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:38:11 AM +08:00

2017-08-15 11:38:11,506 [18] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent3].[Id] AS [Id1], 
    [Extent3].[OriginalId] AS [OriginalId], 
    [Extent3].[OriginalLink] AS [OriginalLink], 
    [Extent3].[Source] AS [Source], 
    [Extent3].[Type] AS [Type], 
    [Extent3].[Name] AS [Name], 
    [Extent3].[ScreenName] AS [ScreenName], 
    [Extent3].[Email] AS [Email], 
    [Extent3].[Avatar] AS [Avatar], 
    [Extent3].[IsDeleted] AS [IsDeleted1], 
    [Extent3].[SiteId] AS [SiteId1]
    FROM   [dbo].[t_Social_Account] AS [Extent1]
    INNER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent3].[Id])
    WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source]) AND ([Extent2].[OriginalId] IN (N'374337606314054')) AND (([Extent1].[SiteId] = @DynamicFilterParam_000001) )
2017-08-15 11:38:11,506 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:38:11,506 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 11:38:11,506 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:38:11,506 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:38:11 AM +08:00

2017-08-15 11:38:11,515 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-08-15 11:38:11,515 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:38:11,516 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:38:11 AM +08:00

2017-08-15 11:38:36,393 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:38:36 AM +08:00

2017-08-15 11:38:36,401 [18] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent3].[Id] AS [Id1], 
    [Extent3].[OriginalId] AS [OriginalId], 
    [Extent3].[OriginalLink] AS [OriginalLink], 
    [Extent3].[Source] AS [Source], 
    [Extent3].[Type] AS [Type], 
    [Extent3].[Name] AS [Name], 
    [Extent3].[ScreenName] AS [ScreenName], 
    [Extent3].[Email] AS [Email], 
    [Extent3].[Avatar] AS [Avatar], 
    [Extent3].[IsDeleted] AS [IsDeleted1], 
    [Extent3].[SiteId] AS [SiteId1]
    FROM   [dbo].[t_Social_Account] AS [Extent1]
    INNER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent3].[Id])
    WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source]) AND ([Extent2].[OriginalId] IN (N'374337606314054')) AND (([Extent1].[SiteId] = @DynamicFilterParam_000001) )
2017-08-15 11:38:36,401 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:38:36,401 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 11:38:36,401 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:38:36,401 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:38:36 AM +08:00

2017-08-15 11:38:36,409 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 11:38:36,409 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:38:36,409 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:38:36 AM +08:00

2017-08-15 11:39:57,744 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:39:57 AM +08:00

2017-08-15 11:39:57,765 [18] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0) AND ([Extent1].[Source] = @p__linq__1) AND ([Extent1].[Type] = @p__linq__2)
2017-08-15 11:39:57,765 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:39:57,765 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 11:39:57,765 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:39:57,765 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 11:39:57,765 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 11:39:57,765 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__2: 'Customer' (Type = Int16)

2017-08-15 11:39:57,765 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:39:57 AM +08:00

2017-08-15 11:39:57,770 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 11:39:57,770 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:39:57,771 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:39:57 AM +08:00

2017-08-15 11:39:57,785 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:39:57 AM +08:00

2017-08-15 11:39:57,818 [18] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (([Extent2].[OriginalId] = @p__linq__0) OR (([Extent2].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND (0 = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 11:39:57,818 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:39:57,818 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 11:39:57,818 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:39:57,818 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 11:39:57,818 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 11:39:57,818 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:39:57 AM +08:00

2017-08-15 11:39:57,822 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 11:39:57,822 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:39:57,828 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:39:57 AM +08:00

2017-08-15 11:39:57,982 [18] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/15/2017 11:39:57 AM +08:00

2017-08-15 11:39:58,114 [18] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_User]([OriginalId], [OriginalLink], [Source], [Type], [Name], [ScreenName], [Email], [Avatar], [IsDeleted], [SiteId])
VALUES (@0, @1, @2, @3, @4, NULL, NULL, @5, @6, @7)
SELECT [Id]
FROM [dbo].[t_Social_User]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 11:39:58,114 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:39:58,114 [18] DEBUG Social.Domain.SiteDataContext - -- @0: '374337606314054' (Type = String, Size = 200)

2017-08-15 11:39:58,114 [18] DEBUG Social.Domain.SiteDataContext - -- @1: 'https://www.facebook.com/22mjmk-374337606314054/' (Type = String, Size = 500)

2017-08-15 11:39:58,114 [18] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 11:39:58,114 [18] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 11:39:58,114 [18] DEBUG Social.Domain.SiteDataContext - -- @4: '22mjmk' (Type = String, Size = 200)

2017-08-15 11:39:58,114 [18] DEBUG Social.Domain.SiteDataContext - -- @5: 'https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/20264858_374349386312876_3968851630130330717_n.jpg?oh=f1b075deace2217c10fff4d91f567c16&oe=5A2069A6' (Type = String, Size = 200)

2017-08-15 11:39:58,114 [18] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 11:39:58,114 [18] DEBUG Social.Domain.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-08-15 11:39:58,115 [18] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 11:39:58 AM +08:00

2017-08-15 11:39:58,137 [5] DEBUG Social.Domain.SiteDataContext - -- Completed in 22 ms with result: SqlDataReader

2017-08-15 11:39:58,137 [5] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:39:58,163 [5] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_Account]([Id], [Token], [TokenSecret], [IfEnable], [IfConvertMessageToConversation], [IfConvertVisitorPostToConversation], [IfConvertWallPostToConversation], [IfConvertTweetToConversation], [FacebookPageCategory], [FacebookSignInAs], [CreatedTime], [CreatedBy], [ConversationDepartmentId], [ConversationAgentId], [IsDeleted], [ConversationPriority], [SiteId])
VALUES (@0, @1, NULL, @2, @3, @4, @5, @6, @7, @8, @9, @10, NULL, NULL, @11, NULL, @12)

2017-08-15 11:39:58,163 [5] DEBUG Social.Domain.SiteDataContext - -- @0: '2' (Type = Int32)

2017-08-15 11:39:58,163 [5] DEBUG Social.Domain.SiteDataContext - -- @1: 'EAAbZBc23G2m8BAMlqS5L0ZCEEO2k1vJghH6HehFP1pdrAJdocVJYarnRCEnhPYd3YBi2QRbvfy4jw2tPPZCYG7Gc4Fa7ylYzyvYSeC3oF4yjiqGj8wugGrPdJ1dOi8G576RBfvZCoiXGqqBtBK5KrSBbJaq77oVfZBNRsdYZBU8gZDZD' (Type = String, Size = -1)

2017-08-15 11:39:58,163 [5] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 11:39:58,163 [5] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 11:39:58,163 [5] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 11:39:58,163 [5] DEBUG Social.Domain.SiteDataContext - -- @5: 'True' (Type = Boolean)

2017-08-15 11:39:58,163 [5] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 11:39:58,164 [5] DEBUG Social.Domain.SiteDataContext - -- @7: 'Health/Beauty' (Type = String, Size = 200)

2017-08-15 11:39:58,164 [5] DEBUG Social.Domain.SiteDataContext - -- @8: 'Vico Zhou' (Type = String, Size = 200)

2017-08-15 11:39:58,164 [5] DEBUG Social.Domain.SiteDataContext - -- @9: '8/15/2017 3:39:57 AM' (Type = DateTime2)

2017-08-15 11:39:58,164 [5] DEBUG Social.Domain.SiteDataContext - -- @10: '1' (Type = Int32)

2017-08-15 11:39:58,164 [5] DEBUG Social.Domain.SiteDataContext - -- @11: 'False' (Type = Boolean)

2017-08-15 11:39:58,164 [5] DEBUG Social.Domain.SiteDataContext - -- @12: '10000' (Type = Int32)

2017-08-15 11:39:58,164 [5] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 11:39:58 AM +08:00

2017-08-15 11:39:58,179 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 14 ms with result: 1

2017-08-15 11:39:58,179 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:39:58,194 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:39:58 AM +08:00

2017-08-15 11:40:00,291 [29] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:00 AM +08:00

2017-08-15 11:40:00,296 [29] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
        WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 11:40:00,297 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:00,297 [29] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 11:40:00,297 [29] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 11:40:00,297 [29] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:00 AM +08:00

2017-08-15 11:40:00,301 [29] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 11:40:00,301 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:00,301 [29] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:00 AM +08:00

2017-08-15 11:40:01,355 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:01 AM +08:00

2017-08-15 11:40:01,363 [18] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
    )  AS [Limit1]
2017-08-15 11:40:01,363 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:01,363 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 11:40:01,363 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:40:01,363 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '2' (Type = Int32, IsNullable = false)

2017-08-15 11:40:01,363 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:01 AM +08:00

2017-08-15 11:40:01,370 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 11:40:01,370 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:01,381 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:01 AM +08:00

2017-08-15 11:40:01,404 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:01 AM +08:00

2017-08-15 11:40:01,407 [18] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Site_SocialAccount]([SiteId], [FacebookPageId], [TwitterUserId])
VALUES (@0, @1, NULL)
SELECT [Id]
FROM [dbo].[t_Site_SocialAccount]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 11:40:01,407 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:01,407 [18] DEBUG Social.Domain.SiteDataContext - -- @0: '10000' (Type = Int32)

2017-08-15 11:40:01,407 [18] DEBUG Social.Domain.SiteDataContext - -- @1: '374337606314054' (Type = String, Size = -1)

2017-08-15 11:40:01,407 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:01 AM +08:00

2017-08-15 11:40:01,411 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 11:40:01,411 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:01,413 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:01 AM +08:00

2017-08-15 11:40:05,090 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,092 [18] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0) AND ([Extent1].[Source] = @p__linq__1) AND ([Extent1].[Type] = @p__linq__2)
2017-08-15 11:40:05,092 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:05,092 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 11:40:05,092 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:40:05,092 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 11:40:05,092 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 11:40:05,092 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__2: 'Customer' (Type = Int16)

2017-08-15 11:40:05,092 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,094 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-15 11:40:05,094 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:05,094 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,094 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,095 [18] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (([Extent2].[OriginalId] = @p__linq__0) OR (([Extent2].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND (0 = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 11:40:05,095 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:05,095 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 11:40:05,095 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:40:05,095 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 11:40:05,095 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 11:40:05,095 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,097 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-15 11:40:05,097 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:05,097 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,097 [18] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,098 [18] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_User]([OriginalId], [OriginalLink], [Source], [Type], [Name], [ScreenName], [Email], [Avatar], [IsDeleted], [SiteId])
VALUES (@0, @1, @2, @3, @4, NULL, NULL, @5, @6, @7)
SELECT [Id]
FROM [dbo].[t_Social_User]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 11:40:05,098 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:05,098 [18] DEBUG Social.Domain.SiteDataContext - -- @0: '374337606314054' (Type = String, Size = 200)

2017-08-15 11:40:05,098 [18] DEBUG Social.Domain.SiteDataContext - -- @1: 'https://www.facebook.com/22mjmk-374337606314054/' (Type = String, Size = 500)

2017-08-15 11:40:05,098 [18] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 11:40:05,098 [18] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 11:40:05,098 [18] DEBUG Social.Domain.SiteDataContext - -- @4: '22mjmk' (Type = String, Size = 200)

2017-08-15 11:40:05,098 [18] DEBUG Social.Domain.SiteDataContext - -- @5: 'https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/20264858_374349386312876_3968851630130330717_n.jpg?oh=f1b075deace2217c10fff4d91f567c16&oe=5A2069A6' (Type = String, Size = 200)

2017-08-15 11:40:05,098 [18] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 11:40:05,098 [18] DEBUG Social.Domain.SiteDataContext - -- @7: '10001' (Type = Int32)

2017-08-15 11:40:05,098 [18] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,100 [26] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 11:40:05,100 [26] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_Account]([Id], [Token], [TokenSecret], [IfEnable], [IfConvertMessageToConversation], [IfConvertVisitorPostToConversation], [IfConvertWallPostToConversation], [IfConvertTweetToConversation], [FacebookPageCategory], [FacebookSignInAs], [CreatedTime], [CreatedBy], [ConversationDepartmentId], [ConversationAgentId], [IsDeleted], [ConversationPriority], [SiteId])
VALUES (@0, @1, NULL, @2, @3, @4, @5, @6, @7, @8, @9, @10, NULL, NULL, @11, NULL, @12)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @0: '3' (Type = Int32)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @1: 'EAAbZBc23G2m8BAMlqS5L0ZCEEO2k1vJghH6HehFP1pdrAJdocVJYarnRCEnhPYd3YBi2QRbvfy4jw2tPPZCYG7Gc4Fa7ylYzyvYSeC3oF4yjiqGj8wugGrPdJ1dOi8G576RBfvZCoiXGqqBtBK5KrSBbJaq77oVfZBNRsdYZBU8gZDZD' (Type = String, Size = -1)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @5: 'True' (Type = Boolean)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @7: 'Health/Beauty' (Type = String, Size = 200)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @8: 'Vico Zhou' (Type = String, Size = 200)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @9: '8/15/2017 3:40:05 AM' (Type = DateTime2)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @10: '1' (Type = Int32)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @11: 'False' (Type = Boolean)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- @12: '10001' (Type = Int32)

2017-08-15 11:40:05,101 [26] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,102 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: 1

2017-08-15 11:40:05,102 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:05,103 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,104 [29] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,104 [29] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
        WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 11:40:05,104 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:05,104 [29] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 11:40:05,104 [29] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 11:40:05,104 [29] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:05,107 [29] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 11:40:05,107 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:05,107 [29] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:05 AM +08:00

2017-08-15 11:40:06,074 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:06 AM +08:00

2017-08-15 11:40:06,076 [18] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
    )  AS [Limit1]
2017-08-15 11:40:06,076 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:06,077 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 11:40:06,077 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:40:06,077 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '3' (Type = Int32, IsNullable = false)

2017-08-15 11:40:06,077 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:06 AM +08:00

2017-08-15 11:40:06,099 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 22 ms with result: SqlDataReader

2017-08-15 11:40:06,099 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:06,099 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:06 AM +08:00

2017-08-15 11:40:06,100 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:06 AM +08:00

2017-08-15 11:40:06,100 [18] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Site_SocialAccount]([SiteId], [FacebookPageId], [TwitterUserId])
VALUES (@0, @1, NULL)
SELECT [Id]
FROM [dbo].[t_Site_SocialAccount]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 11:40:06,100 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:06,100 [18] DEBUG Social.Domain.SiteDataContext - -- @0: '10001' (Type = Int32)

2017-08-15 11:40:06,100 [18] DEBUG Social.Domain.SiteDataContext - -- @1: '374337606314054' (Type = String, Size = -1)

2017-08-15 11:40:06,100 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:06 AM +08:00

2017-08-15 11:40:06,103 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 11:40:06,103 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:06,103 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:06 AM +08:00

2017-08-15 11:40:12,240 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:12 AM +08:00

2017-08-15 11:40:12,241 [18] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 11:40:12,241 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:12,241 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 11:40:12,241 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:40:12,241 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:12 AM +08:00

2017-08-15 11:40:12,247 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 11:40:12,247 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:12,248 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:12 AM +08:00

2017-08-15 11:40:20,357 [29] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:20 AM +08:00

2017-08-15 11:40:20,360 [29] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 11:40:20,360 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:20,360 [29] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 11:40:20,360 [29] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 11:40:20,360 [29] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '3' (Type = Int32, IsNullable = false)

2017-08-15 11:40:20,360 [29] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 11:40:20,360 [29] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:20 AM +08:00

2017-08-15 11:40:20,366 [29] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 11:40:20,366 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:20,380 [29] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:20 AM +08:00

2017-08-15 11:40:20,404 [29] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:20 AM +08:00

2017-08-15 11:40:20,411 [29] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 11:40:20,411 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:20,411 [29] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 11:40:20,411 [29] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 11:40:20,411 [29] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:20 AM +08:00

2017-08-15 11:40:20,413 [29] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-15 11:40:20,413 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:20,414 [29] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:20 AM +08:00

2017-08-15 11:40:21,555 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:21 AM +08:00

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - UPDATE [dbo].[t_Social_Account]
SET [Token] = @0, [TokenSecret] = NULL, [IfEnable] = @1, [IfConvertMessageToConversation] = @2, [IfConvertVisitorPostToConversation] = @3, [IfConvertWallPostToConversation] = @4, [IfConvertTweetToConversation] = @5, [FacebookPageCategory] = @6, [FacebookSignInAs] = @7, [CreatedTime] = @8, [CreatedBy] = @9, [ConversationDepartmentId] = NULL, [ConversationAgentId] = NULL, [IsDeleted] = @10, [ConversationPriority] = NULL, [SiteId] = @11
WHERE ([Id] = @12)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @0: 'EAAbZBc23G2m8BAMlqS5L0ZCEEO2k1vJghH6HehFP1pdrAJdocVJYarnRCEnhPYd3YBi2QRbvfy4jw2tPPZCYG7Gc4Fa7ylYzyvYSeC3oF4yjiqGj8wugGrPdJ1dOi8G576RBfvZCoiXGqqBtBK5KrSBbJaq77oVfZBNRsdYZBU8gZDZD' (Type = String, Size = -1)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @1: 'True' (Type = Boolean)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @5: 'False' (Type = Boolean)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @6: 'Health/Beauty' (Type = String, Size = 200)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @7: 'Vico Zhou' (Type = String, Size = 200)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @8: '8/15/2017 3:40:05 AM' (Type = DateTime2)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @9: '1' (Type = Int32)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @10: 'True' (Type = Boolean)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @11: '10001' (Type = Int32)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- @12: '3' (Type = Int32)

2017-08-15 11:40:21,563 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:21 AM +08:00

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: 1

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - UPDATE [dbo].[t_Social_User]
SET [OriginalId] = @0, [OriginalLink] = @1, [Source] = @2, [Type] = @3, [Name] = @4, [ScreenName] = NULL, [Email] = NULL, [Avatar] = @5, [IsDeleted] = @6, [SiteId] = @7
WHERE ([Id] = @8)

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - -- @0: '374337606314054' (Type = String, Size = 200)

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - -- @1: 'https://www.facebook.com/22mjmk-374337606314054/' (Type = String, Size = 500)

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - -- @4: '22mjmk' (Type = String, Size = 200)

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - -- @5: 'https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/20264858_374349386312876_3968851630130330717_n.jpg?oh=f1b075deace2217c10fff4d91f567c16&oe=5A2069A6' (Type = String, Size = 200)

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - -- @6: 'True' (Type = Boolean)

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - -- @7: '10001' (Type = Int32)

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - -- @8: '3' (Type = Int32)

2017-08-15 11:40:21,570 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:21 AM +08:00

2017-08-15 11:40:21,573 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: 1

2017-08-15 11:40:21,573 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:21,573 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:21 AM +08:00

2017-08-15 11:40:21,574 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 11:40:21 AM +08:00

2017-08-15 11:40:21,576 [18] DEBUG Social.Domain.SiteDataContext - DELETE [dbo].[t_Site_SocialAccount]
WHERE ([Id] = @0)
2017-08-15 11:40:21,576 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:21,576 [18] DEBUG Social.Domain.SiteDataContext - -- @0: '3' (Type = Int32)

2017-08-15 11:40:21,576 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 11:40:21 AM +08:00

2017-08-15 11:40:21,579 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: 1

2017-08-15 11:40:21,579 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 11:40:21,579 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 11:40:21 AM +08:00

2017-08-15 13:27:09,775 [232] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:09 PM +08:00

2017-08-15 13:27:09,779 [232] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 13:27:09,780 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:09,780 [232] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:27:09,780 [232] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:27:09,780 [232] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:09 PM +08:00

2017-08-15 13:27:09,787 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 13:27:09,787 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:09,788 [232] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:09 PM +08:00

2017-08-15 13:27:12,162 [238] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,164 [238] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0) AND ([Extent1].[Source] = @p__linq__1) AND ([Extent1].[Type] = @p__linq__2)
2017-08-15 13:27:12,164 [238] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:12,164 [238] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:27:12,164 [238] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:27:12,164 [238] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 13:27:12,164 [238] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 13:27:12,164 [238] DEBUG Social.Domain.SiteDataContext - -- p__linq__2: 'Customer' (Type = Int16)

2017-08-15 13:27:12,164 [238] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,167 [238] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 13:27:12,167 [238] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:12,167 [238] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,168 [238] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,169 [238] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (([Extent2].[OriginalId] = @p__linq__0) OR (([Extent2].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND (0 = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 13:27:12,169 [238] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:12,169 [238] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:27:12,169 [238] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:27:12,169 [238] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 13:27:12,169 [238] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 13:27:12,169 [238] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,173 [238] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 13:27:12,173 [238] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:12,173 [238] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,177 [238] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,239 [238] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_User]([OriginalId], [OriginalLink], [Source], [Type], [Name], [ScreenName], [Email], [Avatar], [IsDeleted], [SiteId])
VALUES (@0, @1, @2, @3, @4, NULL, NULL, @5, @6, @7)
SELECT [Id]
FROM [dbo].[t_Social_User]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 13:27:12,239 [238] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:12,239 [238] DEBUG Social.Domain.SiteDataContext - -- @0: '374337606314054' (Type = String, Size = 200)

2017-08-15 13:27:12,239 [238] DEBUG Social.Domain.SiteDataContext - -- @1: 'https://www.facebook.com/22mjmk-374337606314054/' (Type = String, Size = 500)

2017-08-15 13:27:12,239 [238] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 13:27:12,239 [238] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 13:27:12,239 [238] DEBUG Social.Domain.SiteDataContext - -- @4: '22mjmk' (Type = String, Size = 200)

2017-08-15 13:27:12,239 [238] DEBUG Social.Domain.SiteDataContext - -- @5: 'https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/20264858_374349386312876_3968851630130330717_n.jpg?oh=f1b075deace2217c10fff4d91f567c16&oe=5A2069A6' (Type = String, Size = 200)

2017-08-15 13:27:12,239 [238] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 13:27:12,239 [238] DEBUG Social.Domain.SiteDataContext - -- @7: '10001' (Type = Int32)

2017-08-15 13:27:12,239 [238] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,244 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 13:27:12,244 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_Account]([Id], [Token], [TokenSecret], [IfEnable], [IfConvertMessageToConversation], [IfConvertVisitorPostToConversation], [IfConvertWallPostToConversation], [IfConvertTweetToConversation], [FacebookPageCategory], [FacebookSignInAs], [CreatedTime], [CreatedBy], [ConversationDepartmentId], [ConversationAgentId], [IsDeleted], [ConversationPriority], [SiteId])
VALUES (@0, @1, NULL, @2, @3, @4, @5, @6, @7, @8, @9, @10, NULL, NULL, @11, NULL, @12)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @0: '4' (Type = Int32)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @1: 'EAAbZBc23G2m8BAMlqS5L0ZCEEO2k1vJghH6HehFP1pdrAJdocVJYarnRCEnhPYd3YBi2QRbvfy4jw2tPPZCYG7Gc4Fa7ylYzyvYSeC3oF4yjiqGj8wugGrPdJ1dOi8G576RBfvZCoiXGqqBtBK5KrSBbJaq77oVfZBNRsdYZBU8gZDZD' (Type = String, Size = -1)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @5: 'True' (Type = Boolean)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @7: 'Health/Beauty' (Type = String, Size = 200)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @8: 'Vico Zhou' (Type = String, Size = 200)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @9: '8/15/2017 5:27:12 AM' (Type = DateTime2)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @10: '1' (Type = Int32)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @11: 'False' (Type = Boolean)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- @12: '10001' (Type = Int32)

2017-08-15 13:27:12,245 [232] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,250 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: 1

2017-08-15 13:27:12,250 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:12,251 [232] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,256 [239] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,257 [239] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
        WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 13:27:12,257 [239] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:12,257 [239] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 13:27:12,257 [239] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 13:27:12,257 [239] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:12,260 [239] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 13:27:12,260 [239] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:12,260 [239] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:12 PM +08:00

2017-08-15 13:27:13,205 [232] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:13 PM +08:00

2017-08-15 13:27:13,208 [232] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
    )  AS [Limit1]
2017-08-15 13:27:13,208 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:13,208 [232] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:27:13,208 [232] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:27:13,208 [232] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '4' (Type = Int32, IsNullable = false)

2017-08-15 13:27:13,208 [232] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:13 PM +08:00

2017-08-15 13:27:13,218 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 9 ms with result: SqlDataReader

2017-08-15 13:27:13,218 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:13,218 [232] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:13 PM +08:00

2017-08-15 13:27:13,219 [232] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:13 PM +08:00

2017-08-15 13:27:13,219 [232] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Site_SocialAccount]([SiteId], [FacebookPageId], [TwitterUserId])
VALUES (@0, @1, NULL)
SELECT [Id]
FROM [dbo].[t_Site_SocialAccount]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 13:27:13,219 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:13,219 [232] DEBUG Social.Domain.SiteDataContext - -- @0: '10001' (Type = Int32)

2017-08-15 13:27:13,219 [232] DEBUG Social.Domain.SiteDataContext - -- @1: '374337606314054' (Type = String, Size = -1)

2017-08-15 13:27:13,219 [232] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:13 PM +08:00

2017-08-15 13:27:13,221 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 13:27:13,221 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:13,221 [232] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:13 PM +08:00

2017-08-15 13:27:15,470 [235] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:15 PM +08:00

2017-08-15 13:27:15,471 [235] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 13:27:15,471 [235] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:15,471 [235] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:27:15,471 [235] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:27:15,471 [235] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:15 PM +08:00

2017-08-15 13:27:15,473 [235] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-15 13:27:15,473 [235] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:15,473 [235] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:15 PM +08:00

2017-08-15 13:27:26,952 [232] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,952 [232] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0) AND ([Extent1].[Source] = @p__linq__1) AND ([Extent1].[Type] = @p__linq__2)
2017-08-15 13:27:26,952 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:26,952 [232] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:27:26,952 [232] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:27:26,952 [232] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: 'string' (Type = String, Size = 4000)

2017-08-15 13:27:26,952 [232] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 13:27:26,952 [232] DEBUG Social.Domain.SiteDataContext - -- p__linq__2: 'Customer' (Type = Int16)

2017-08-15 13:27:26,953 [232] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,955 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 13:27:26,955 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:26,955 [232] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,955 [232] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,956 [232] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (([Extent2].[OriginalId] = @p__linq__0) OR (([Extent2].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND (0 = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 13:27:26,956 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:26,956 [232] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:27:26,956 [232] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:27:26,956 [232] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: 'string' (Type = String, Size = 4000)

2017-08-15 13:27:26,956 [232] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 13:27:26,956 [232] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,957 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-15 13:27:26,957 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:26,957 [232] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_User]([OriginalId], [OriginalLink], [Source], [Type], [Name], [ScreenName], [Email], [Avatar], [IsDeleted], [SiteId])
VALUES (@0, @1, @2, @3, @4, NULL, NULL, @5, @6, @7)
SELECT [Id]
FROM [dbo].[t_Social_User]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - -- @0: 'string' (Type = String, Size = 200)

2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - -- @1: 'string' (Type = String, Size = 500)

2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - -- @4: 'string' (Type = String, Size = 200)

2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - -- @5: 'string' (Type = String, Size = 200)

2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - -- @7: '10001' (Type = Int32)

2017-08-15 13:27:26,958 [232] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_Account]([Id], [Token], [TokenSecret], [IfEnable], [IfConvertMessageToConversation], [IfConvertVisitorPostToConversation], [IfConvertWallPostToConversation], [IfConvertTweetToConversation], [FacebookPageCategory], [FacebookSignInAs], [CreatedTime], [CreatedBy], [ConversationDepartmentId], [ConversationAgentId], [IsDeleted], [ConversationPriority], [SiteId])
VALUES (@0, @1, NULL, @2, @3, @4, @5, @6, @7, @8, @9, @10, NULL, NULL, @11, NULL, @12)

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - -- @0: '5' (Type = Int32)

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - -- @1: 'string' (Type = String, Size = -1)

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - -- @5: 'True' (Type = Boolean)

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - -- @7: 'string' (Type = String, Size = 200)

2017-08-15 13:27:26,960 [239] DEBUG Social.Domain.SiteDataContext - -- @8: 'string' (Type = String, Size = 200)

2017-08-15 13:27:26,961 [239] DEBUG Social.Domain.SiteDataContext - -- @9: '8/15/2017 5:27:26 AM' (Type = DateTime2)

2017-08-15 13:27:26,961 [239] DEBUG Social.Domain.SiteDataContext - -- @10: '1' (Type = Int32)

2017-08-15 13:27:26,961 [239] DEBUG Social.Domain.SiteDataContext - -- @11: 'False' (Type = Boolean)

2017-08-15 13:27:26,961 [239] DEBUG Social.Domain.SiteDataContext - -- @12: '10001' (Type = Int32)

2017-08-15 13:27:26,961 [239] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,961 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: 1

2017-08-15 13:27:26,961 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:26,962 [232] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,963 [239] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,963 [239] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
        WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 13:27:26,963 [239] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:26,963 [239] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 13:27:26,963 [239] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'string' (Type = String, Size = 4000)

2017-08-15 13:27:26,963 [239] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:26,964 [239] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-15 13:27:26,964 [239] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:26,964 [239] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:26 PM +08:00

2017-08-15 13:27:27,932 [232] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Response status code does not indicate success: 400 (Bad Request).
System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at Social.Infrastructure.Facebook.FbClient.<SubscribeApp>d__0.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 23
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.FacebookAccountAppService.<AddPageAsync>d__6.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 116
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<AddPage>d__7.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 104
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 13:27:37,593 [239] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:37 PM +08:00

2017-08-15 13:27:37,596 [239] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 13:27:37,596 [239] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:37,596 [239] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:27:37,596 [239] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:27:37,596 [239] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '3' (Type = Int32, IsNullable = false)

2017-08-15 13:27:37,596 [239] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 13:27:37,596 [239] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:37 PM +08:00

2017-08-15 13:27:37,602 [239] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 13:27:37,602 [239] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:37,602 [239] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:37 PM +08:00

2017-08-15 13:27:37,649 [239] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Facebook page with id '3' not exists.
Framework.Core.ExceptionWithCode: Facebook page with id '3' not exists.
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 127
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 13:27:41,722 [232] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:41 PM +08:00

2017-08-15 13:27:41,725 [232] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 13:27:41,725 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:41,725 [232] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:27:41,725 [232] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:27:41,725 [232] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '4' (Type = Int32, IsNullable = false)

2017-08-15 13:27:41,725 [232] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 13:27:41,725 [232] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:41 PM +08:00

2017-08-15 13:27:41,728 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 13:27:41,728 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:41,729 [232] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:41 PM +08:00

2017-08-15 13:27:41,731 [232] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:41 PM +08:00

2017-08-15 13:27:41,731 [232] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 13:27:41,731 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:41,731 [232] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 13:27:41,731 [232] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 13:27:41,731 [232] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:41 PM +08:00

2017-08-15 13:27:41,733 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 13:27:41,733 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:41,734 [232] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:41 PM +08:00

2017-08-15 13:27:42,616 [232] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:42 PM +08:00

2017-08-15 13:27:42,616 [232] DEBUG Social.Domain.SiteDataContext - UPDATE [dbo].[t_Social_Account]
SET [Token] = @0, [TokenSecret] = NULL, [IfEnable] = @1, [IfConvertMessageToConversation] = @2, [IfConvertVisitorPostToConversation] = @3, [IfConvertWallPostToConversation] = @4, [IfConvertTweetToConversation] = @5, [FacebookPageCategory] = @6, [FacebookSignInAs] = @7, [CreatedTime] = @8, [CreatedBy] = @9, [ConversationDepartmentId] = NULL, [ConversationAgentId] = NULL, [IsDeleted] = @10, [ConversationPriority] = NULL, [SiteId] = @11
WHERE ([Id] = @12)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @0: 'EAAbZBc23G2m8BAMlqS5L0ZCEEO2k1vJghH6HehFP1pdrAJdocVJYarnRCEnhPYd3YBi2QRbvfy4jw2tPPZCYG7Gc4Fa7ylYzyvYSeC3oF4yjiqGj8wugGrPdJ1dOi8G576RBfvZCoiXGqqBtBK5KrSBbJaq77oVfZBNRsdYZBU8gZDZD' (Type = String, Size = -1)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @1: 'True' (Type = Boolean)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @5: 'False' (Type = Boolean)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @6: 'Health/Beauty' (Type = String, Size = 200)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @7: 'Vico Zhou' (Type = String, Size = 200)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @8: '8/15/2017 5:27:12 AM' (Type = DateTime2)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @9: '1' (Type = Int32)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @10: 'True' (Type = Boolean)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @11: '10001' (Type = Int32)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- @12: '4' (Type = Int32)

2017-08-15 13:27:42,617 [232] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:42 PM +08:00

2017-08-15 13:27:42,620 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: 1

2017-08-15 13:27:42,620 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:42,621 [232] DEBUG Social.Domain.SiteDataContext - UPDATE [dbo].[t_Social_User]
SET [OriginalId] = @0, [OriginalLink] = @1, [Source] = @2, [Type] = @3, [Name] = @4, [ScreenName] = NULL, [Email] = NULL, [Avatar] = @5, [IsDeleted] = @6, [SiteId] = @7
WHERE ([Id] = @8)

2017-08-15 13:27:42,621 [232] DEBUG Social.Domain.SiteDataContext - -- @0: '374337606314054' (Type = String, Size = 200)

2017-08-15 13:27:42,621 [232] DEBUG Social.Domain.SiteDataContext - -- @1: 'https://www.facebook.com/22mjmk-374337606314054/' (Type = String, Size = 500)

2017-08-15 13:27:42,621 [232] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 13:27:42,621 [232] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 13:27:42,621 [232] DEBUG Social.Domain.SiteDataContext - -- @4: '22mjmk' (Type = String, Size = 200)

2017-08-15 13:27:42,621 [232] DEBUG Social.Domain.SiteDataContext - -- @5: 'https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/20264858_374349386312876_3968851630130330717_n.jpg?oh=f1b075deace2217c10fff4d91f567c16&oe=5A2069A6' (Type = String, Size = 200)

2017-08-15 13:27:42,621 [232] DEBUG Social.Domain.SiteDataContext - -- @6: 'True' (Type = Boolean)

2017-08-15 13:27:42,621 [232] DEBUG Social.Domain.SiteDataContext - -- @7: '10001' (Type = Int32)

2017-08-15 13:27:42,621 [232] DEBUG Social.Domain.SiteDataContext - -- @8: '4' (Type = Int32)

2017-08-15 13:27:42,621 [232] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:42 PM +08:00

2017-08-15 13:27:42,623 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: 1

2017-08-15 13:27:42,624 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:42,624 [232] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:42 PM +08:00

2017-08-15 13:27:42,624 [232] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:42 PM +08:00

2017-08-15 13:27:42,624 [232] DEBUG Social.Domain.SiteDataContext - DELETE [dbo].[t_Site_SocialAccount]
WHERE ([Id] = @0)
2017-08-15 13:27:42,624 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:42,624 [232] DEBUG Social.Domain.SiteDataContext - -- @0: '4' (Type = Int32)

2017-08-15 13:27:42,624 [232] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:42 PM +08:00

2017-08-15 13:27:42,627 [232] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: 1

2017-08-15 13:27:42,627 [232] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:42,627 [232] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:42 PM +08:00

2017-08-15 13:27:46,721 [239] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:27:46 PM +08:00

2017-08-15 13:27:46,722 [239] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 13:27:46,722 [239] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:46,722 [239] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:27:46,722 [239] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:27:46,722 [239] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:27:46 PM +08:00

2017-08-15 13:27:46,727 [239] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 13:27:46,727 [239] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:27:46,727 [239] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:27:46 PM +08:00

2017-08-15 13:33:20,821 [220] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:33:20 PM +08:00

2017-08-15 13:33:20,822 [220] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 13:33:20,822 [220] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:20,822 [220] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:33:20,822 [220] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:33:20,822 [220] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:33:20 PM +08:00

2017-08-15 13:33:20,827 [220] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 13:33:20,827 [220] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:20,827 [220] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:33:20 PM +08:00

2017-08-15 13:33:22,725 [220] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,726 [220] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0) AND ([Extent1].[Source] = @p__linq__1) AND ([Extent1].[Type] = @p__linq__2)
2017-08-15 13:33:22,726 [220] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:22,726 [220] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:33:22,726 [220] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:33:22,726 [220] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 13:33:22,726 [220] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 13:33:22,726 [220] DEBUG Social.Domain.SiteDataContext - -- p__linq__2: 'Customer' (Type = Int16)

2017-08-15 13:33:22,726 [220] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,730 [220] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 13:33:22,730 [220] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:22,730 [220] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,730 [220] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,731 [220] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (([Extent2].[OriginalId] = @p__linq__0) OR (([Extent2].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND (0 = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 13:33:22,731 [220] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:22,731 [220] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:33:22,731 [220] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:33:22,731 [220] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 13:33:22,731 [220] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 13:33:22,731 [220] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,737 [220] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 13:33:22,737 [220] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:22,737 [220] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_User]([OriginalId], [OriginalLink], [Source], [Type], [Name], [ScreenName], [Email], [Avatar], [IsDeleted], [SiteId])
VALUES (@0, @1, @2, @3, @4, NULL, NULL, @5, @6, @7)
SELECT [Id]
FROM [dbo].[t_Social_User]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - -- @0: '374337606314054' (Type = String, Size = 200)

2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - -- @1: 'https://www.facebook.com/22mjmk-374337606314054/' (Type = String, Size = 500)

2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - -- @4: '22mjmk' (Type = String, Size = 200)

2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - -- @5: 'https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/20264858_374349386312876_3968851630130330717_n.jpg?oh=f1b075deace2217c10fff4d91f567c16&oe=5A2069A6' (Type = String, Size = 200)

2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - -- @7: '10001' (Type = Int32)

2017-08-15 13:33:22,738 [220] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,741 [218] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 13:33:22,741 [218] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_Account]([Id], [Token], [TokenSecret], [IfEnable], [IfConvertMessageToConversation], [IfConvertVisitorPostToConversation], [IfConvertWallPostToConversation], [IfConvertTweetToConversation], [FacebookPageCategory], [FacebookSignInAs], [CreatedTime], [CreatedBy], [ConversationDepartmentId], [ConversationAgentId], [IsDeleted], [ConversationPriority], [SiteId])
VALUES (@0, @1, NULL, @2, @3, @4, @5, @6, @7, @8, @9, @10, NULL, NULL, @11, NULL, @12)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @0: '6' (Type = Int32)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @1: 'EAAbZBc23G2m8BAMlqS5L0ZCEEO2k1vJghH6HehFP1pdrAJdocVJYarnRCEnhPYd3YBi2QRbvfy4jw2tPPZCYG7Gc4Fa7ylYzyvYSeC3oF4yjiqGj8wugGrPdJ1dOi8G576RBfvZCoiXGqqBtBK5KrSBbJaq77oVfZBNRsdYZBU8gZDZD' (Type = String, Size = -1)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @5: 'True' (Type = Boolean)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @7: 'Health/Beauty' (Type = String, Size = 200)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @8: 'Vico Zhou' (Type = String, Size = 200)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @9: '8/15/2017 5:33:22 AM' (Type = DateTime2)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @10: '1' (Type = Int32)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @11: 'False' (Type = Boolean)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- @12: '10001' (Type = Int32)

2017-08-15 13:33:22,742 [218] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,745 [220] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: 1

2017-08-15 13:33:22,745 [220] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:22,745 [220] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,750 [219] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,751 [219] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
        WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 13:33:22,751 [219] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:22,751 [219] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 13:33:22,751 [219] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 13:33:22,751 [219] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:22,753 [219] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 13:33:22,753 [219] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:22,753 [219] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:33:22 PM +08:00

2017-08-15 13:33:23,729 [225] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:33:23 PM +08:00

2017-08-15 13:33:23,733 [225] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
    )  AS [Limit1]
2017-08-15 13:33:23,733 [225] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:23,733 [225] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:33:23,733 [225] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:33:23,733 [225] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-08-15 13:33:23,733 [225] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:33:23 PM +08:00

2017-08-15 13:33:23,741 [225] DEBUG Social.Domain.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-08-15 13:33:23,741 [225] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:23,742 [225] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:33:23 PM +08:00

2017-08-15 13:33:23,742 [225] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:33:23 PM +08:00

2017-08-15 13:33:23,743 [225] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Site_SocialAccount]([SiteId], [FacebookPageId], [TwitterUserId])
VALUES (@0, @1, NULL)
SELECT [Id]
FROM [dbo].[t_Site_SocialAccount]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 13:33:23,743 [225] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:23,743 [225] DEBUG Social.Domain.SiteDataContext - -- @0: '10001' (Type = Int32)

2017-08-15 13:33:23,743 [225] DEBUG Social.Domain.SiteDataContext - -- @1: '374337606314054' (Type = String, Size = -1)

2017-08-15 13:33:23,743 [225] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:33:23 PM +08:00

2017-08-15 13:33:23,747 [225] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 13:33:23,747 [225] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:23,747 [225] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:33:23 PM +08:00

2017-08-15 13:33:55,320 [225] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:33:55 PM +08:00

2017-08-15 13:33:55,323 [225] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 13:33:55,323 [225] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:55,323 [225] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:33:55,323 [225] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:33:55,323 [225] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '4' (Type = Int32, IsNullable = false)

2017-08-15 13:33:55,323 [225] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 13:33:55,323 [225] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:33:55 PM +08:00

2017-08-15 13:33:55,336 [225] DEBUG Social.Domain.SiteDataContext - -- Completed in 12 ms with result: SqlDataReader

2017-08-15 13:33:55,336 [225] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:33:55,336 [225] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:33:55 PM +08:00

2017-08-15 13:34:06,356 [225] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Facebook page with id '4' not exists.
Framework.Core.ExceptionWithCode: Facebook page with id '4' not exists.
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 127
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 13:34:16,519 [218] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:34:16 PM +08:00

2017-08-15 13:34:16,522 [218] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 13:34:16,522 [218] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:34:16,522 [218] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 13:34:16,522 [218] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 13:34:16,522 [218] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-08-15 13:34:16,522 [218] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 13:34:16,522 [218] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:34:16 PM +08:00

2017-08-15 13:34:16,529 [218] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 13:34:16,529 [218] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:34:16,529 [218] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:34:16 PM +08:00

2017-08-15 13:35:45,180 [218] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 1:35:45 PM +08:00

2017-08-15 13:35:45,180 [218] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 13:35:45,180 [218] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:35:45,181 [218] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 13:35:45,181 [218] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 13:35:45,181 [218] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 1:35:45 PM +08:00

2017-08-15 13:35:45,193 [218] DEBUG Social.Domain.SiteDataContext - -- Completed in 12 ms with result: SqlDataReader

2017-08-15 13:35:45,193 [218] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 13:35:45,194 [218] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 1:35:45 PM +08:00

2017-08-15 14:06:44,883 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 14:06:47,536 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 14:07:15,156 [11] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:07:15 PM +08:00

2017-08-15 14:07:16,239 [11] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 14:07:16,239 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:07:16,241 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 14:07:16,241 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:07:16,241 [11] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:07:16 PM +08:00

2017-08-15 14:07:16,277 [11] DEBUG Social.Domain.SiteDataContext - -- Completed in 33 ms with result: SqlDataReader

2017-08-15 14:07:16,277 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:07:16,292 [11] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:07:16 PM +08:00

2017-08-15 14:08:10,139 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:08:10 PM +08:00

2017-08-15 14:08:10,141 [10] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 14:08:10,141 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:08:10,141 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 14:08:10,141 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:08:10,141 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:08:10 PM +08:00

2017-08-15 14:08:10,146 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 14:08:10,146 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:08:10,146 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:08:10 PM +08:00

2017-08-15 14:09:31,092 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:09:31 PM +08:00

2017-08-15 14:09:31,093 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 14:09:31,093 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:09:31,093 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 14:09:31,093 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:09:31,093 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:09:31 PM +08:00

2017-08-15 14:09:31,097 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 14:09:31,098 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:09:31,098 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:09:31 PM +08:00

2017-08-15 14:09:34,407 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:09:34 PM +08:00

2017-08-15 14:09:34,408 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 14:09:34,408 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:09:34,408 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:09:34,408 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:09:34,408 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:09:34 PM +08:00

2017-08-15 14:09:34,410 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-15 14:09:34,410 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:09:34,410 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:09:34 PM +08:00

2017-08-15 14:09:40,315 [4] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:09:40 PM +08:00

2017-08-15 14:09:40,457 [4] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:09:40,457 [4] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:09:40,457 [4] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:09:40,457 [4] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:09:40,457 [4] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '2' (Type = Int32, IsNullable = false)

2017-08-15 14:09:40,457 [4] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:09:40,457 [4] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:09:40 PM +08:00

2017-08-15 14:09:40,463 [4] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 14:09:40,463 [4] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:09:40,566 [4] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:09:40 PM +08:00

2017-08-15 14:10:06,054 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:10:06 PM +08:00

2017-08-15 14:10:06,057 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:10:06,057 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:10:06,057 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:10:06,057 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:10:06,057 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '2' (Type = Int32, IsNullable = false)

2017-08-15 14:10:06,057 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:10:06,057 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:10:06 PM +08:00

2017-08-15 14:10:06,062 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 14:10:06,062 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:10:06,063 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:10:06 PM +08:00

2017-08-15 14:10:13,907 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:10:13 PM +08:00

2017-08-15 14:10:13,928 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:10:13,928 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:10:13,928 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 14:10:13,928 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:10:13,928 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:10:13 PM +08:00

2017-08-15 14:10:13,931 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 14:10:13,932 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:10:13,933 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:10:13 PM +08:00

2017-08-15 14:10:38,512 [21] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An error occurred while sending the request.
System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Net.Http.HttpClient.<FinishSendAsync>d__58.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Infrastructure.Facebook.FbClient.<UnSubscribeApp>d__1.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 14:11:50,891 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:11:50 PM +08:00

2017-08-15 14:11:50,894 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:11:50,894 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:11:50,894 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:11:50,894 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:11:50,894 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '2' (Type = Int32, IsNullable = false)

2017-08-15 14:11:50,894 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:11:50,894 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:11:50 PM +08:00

2017-08-15 14:11:50,901 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 14:11:50,902 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:11:50,902 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:11:50 PM +08:00

2017-08-15 14:11:50,904 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:11:50 PM +08:00

2017-08-15 14:11:50,905 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:11:50,905 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:11:50,905 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 14:11:50,905 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:11:50,905 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:11:50 PM +08:00

2017-08-15 14:11:50,908 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 14:11:50,908 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:11:50,909 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:11:50 PM +08:00

2017-08-15 14:14:01,678 [25] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An error occurred while sending the request.
System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Net.Http.HttpClient.<FinishSendAsync>d__58.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Infrastructure.Facebook.FbClient.<UnSubscribeApp>d__1.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 14:14:30,231 [30] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:14:30 PM +08:00

2017-08-15 14:14:30,234 [30] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:14:30,234 [30] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:14:30,234 [30] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:14:30,234 [30] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:14:30,234 [30] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '2' (Type = Int32, IsNullable = false)

2017-08-15 14:14:30,234 [30] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:14:30,234 [30] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:14:30 PM +08:00

2017-08-15 14:14:30,243 [30] DEBUG Social.Domain.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-08-15 14:14:30,243 [30] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:14:30,243 [30] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:14:30 PM +08:00

2017-08-15 14:14:30,259 [30] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:14:30 PM +08:00

2017-08-15 14:14:30,259 [30] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:14:30,259 [30] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:14:30,259 [30] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 14:14:30,259 [30] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:14:30,259 [30] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:14:30 PM +08:00

2017-08-15 14:14:30,263 [30] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 14:14:30,263 [30] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:14:30,263 [30] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:14:30 PM +08:00

2017-08-15 14:24:46,629 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 14:24:49,397 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 14:25:49,678 [7] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:25:49 PM +08:00

2017-08-15 14:25:50,842 [7] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 14:25:50,842 [7] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:25:50,845 [7] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 14:25:50,845 [7] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:25:50,845 [7] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:25:50 PM +08:00

2017-08-15 14:25:50,878 [7] DEBUG Social.Domain.SiteDataContext - -- Completed in 32 ms with result: SqlDataReader

2017-08-15 14:25:50,878 [7] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:25:50,895 [7] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:25:50 PM +08:00

2017-08-15 14:25:58,492 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:25:58 PM +08:00

2017-08-15 14:25:58,637 [9] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:25:58,637 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:25:58,637 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:25:58,637 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:25:58,637 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '2' (Type = Int32, IsNullable = false)

2017-08-15 14:25:58,637 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:25:58,637 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:25:58 PM +08:00

2017-08-15 14:25:58,643 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 14:25:58,643 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:25:58,747 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:25:58 PM +08:00

2017-08-15 14:25:59,860 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:25:59 PM +08:00

2017-08-15 14:25:59,876 [9] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:25:59,877 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:25:59,877 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 14:25:59,877 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:25:59,877 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:25:59 PM +08:00

2017-08-15 14:25:59,880 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 14:25:59,880 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:25:59,881 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:25:59 PM +08:00

2017-08-15 14:32:11,175 [8] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:32:11 PM +08:00

2017-08-15 14:32:11,291 [8] DEBUG Social.Domain.SiteDataContext - UPDATE [dbo].[t_Social_Account]
SET [Token] = @0, [TokenSecret] = NULL, [IfEnable] = @1, [IfConvertMessageToConversation] = @2, [IfConvertVisitorPostToConversation] = @3, [IfConvertWallPostToConversation] = @4, [IfConvertTweetToConversation] = @5, [FacebookPageCategory] = @6, [FacebookSignInAs] = @7, [CreatedTime] = @8, [CreatedBy] = @9, [ConversationDepartmentId] = NULL, [ConversationAgentId] = NULL, [IsDeleted] = @10, [ConversationPriority] = NULL, [SiteId] = @11
WHERE ([Id] = @12)

2017-08-15 14:32:11,292 [8] DEBUG Social.Domain.SiteDataContext - -- @0: 'EAAbZBc23G2m8BAI8KE9L0wCakz9ZAsRdtI0SlkIcL3lGc6c0OZCfnu79r0KlH79Uf7guurBUt67dZB7Xou5ZCNvmi3ZAGd4ao0XFnjuPCJFZBpFKh56iM4cexeOPmODzjUy7yDN0SZAZAIUrGI3jKq8iV9eN7N2x4XwkJlbjFrZAEnVwZDZ1D' (Type = String, Size = -1)

2017-08-15 14:32:11,292 [8] DEBUG Social.Domain.SiteDataContext - -- @1: 'True' (Type = Boolean)

2017-08-15 14:32:11,292 [8] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 14:32:11,292 [8] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 14:32:11,292 [8] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 14:32:11,292 [8] DEBUG Social.Domain.SiteDataContext - -- @5: 'False' (Type = Boolean)

2017-08-15 14:32:11,292 [8] DEBUG Social.Domain.SiteDataContext - -- @6: 'Health/Beauty' (Type = String, Size = 200)

2017-08-15 14:32:11,292 [8] DEBUG Social.Domain.SiteDataContext - -- @7: 'Vico Zhou' (Type = String, Size = 200)

2017-08-15 14:32:11,292 [8] DEBUG Social.Domain.SiteDataContext - -- @8: '8/15/2017 3:39:57 AM' (Type = DateTime2)

2017-08-15 14:32:11,292 [8] DEBUG Social.Domain.SiteDataContext - -- @9: '1' (Type = Int32)

2017-08-15 14:32:11,293 [8] DEBUG Social.Domain.SiteDataContext - -- @10: 'True' (Type = Boolean)

2017-08-15 14:32:11,293 [8] DEBUG Social.Domain.SiteDataContext - -- @11: '10000' (Type = Int32)

2017-08-15 14:32:11,293 [8] DEBUG Social.Domain.SiteDataContext - -- @12: '2' (Type = Int32)

2017-08-15 14:32:11,293 [8] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:32:11 PM +08:00

2017-08-15 14:32:11,302 [8] DEBUG Social.Domain.SiteDataContext - -- Completed in 8 ms with result: 1

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - UPDATE [dbo].[t_Social_User]
SET [OriginalId] = @0, [OriginalLink] = @1, [Source] = @2, [Type] = @3, [Name] = @4, [ScreenName] = NULL, [Email] = NULL, [Avatar] = @5, [IsDeleted] = @6, [SiteId] = @7
WHERE ([Id] = @8)

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - -- @0: '374337606314054' (Type = String, Size = 200)

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - -- @1: 'https://www.facebook.com/22mjmk-374337606314054/' (Type = String, Size = 500)

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - -- @4: '22mjmk' (Type = String, Size = 200)

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - -- @5: 'https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/20264858_374349386312876_3968851630130330717_n.jpg?oh=f1b075deace2217c10fff4d91f567c16&oe=5A2069A6' (Type = String, Size = 200)

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - -- @6: 'True' (Type = Boolean)

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - -- @8: '2' (Type = Int32)

2017-08-15 14:32:11,303 [8] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:32:11 PM +08:00

2017-08-15 14:32:11,307 [8] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: 1

2017-08-15 14:32:11,307 [8] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:11,309 [8] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:32:11 PM +08:00

2017-08-15 14:32:11,314 [8] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:32:11 PM +08:00

2017-08-15 14:32:11,316 [8] DEBUG Social.Domain.SiteDataContext - DELETE [dbo].[t_Site_SocialAccount]
WHERE ([Id] = @0)
2017-08-15 14:32:11,316 [8] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:11,316 [8] DEBUG Social.Domain.SiteDataContext - -- @0: '2' (Type = Int32)

2017-08-15 14:32:11,316 [8] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:32:11 PM +08:00

2017-08-15 14:32:11,379 [8] DEBUG Social.Domain.SiteDataContext - -- Completed in 62 ms with result: 1

2017-08-15 14:32:11,379 [8] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:11,379 [8] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:32:11 PM +08:00

2017-08-15 14:32:28,440 [29] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:32:28 PM +08:00

2017-08-15 14:32:28,442 [29] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 14:32:28,442 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:28,443 [29] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:32:28,443 [29] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:32:28,443 [29] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:32:28 PM +08:00

2017-08-15 14:32:28,448 [29] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 14:32:28,448 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:28,448 [29] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:32:28 PM +08:00

2017-08-15 14:32:29,552 [27] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:32:29 PM +08:00

2017-08-15 14:32:29,554 [27] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 14:32:29,554 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:29,554 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:32:29,554 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:32:29,554 [27] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:32:29 PM +08:00

2017-08-15 14:32:29,558 [27] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 14:32:29,558 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:29,558 [27] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:32:29 PM +08:00

2017-08-15 14:32:40,734 [29] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:32:40 PM +08:00

2017-08-15 14:32:40,735 [29] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 14:32:40,735 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:40,735 [29] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 14:32:40,736 [29] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:32:40,737 [29] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:32:40 PM +08:00

2017-08-15 14:32:40,741 [29] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 14:32:40,741 [29] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:40,741 [29] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:32:40 PM +08:00

2017-08-15 14:32:54,194 [27] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:32:54 PM +08:00

2017-08-15 14:32:54,197 [27] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:32:54,197 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:54,197 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 14:32:54,197 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:32:54,197 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-08-15 14:32:54,197 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:32:54,197 [27] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:32:54 PM +08:00

2017-08-15 14:32:54,205 [27] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 14:32:54,205 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:54,205 [27] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:32:54 PM +08:00

2017-08-15 14:32:54,207 [27] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:32:54 PM +08:00

2017-08-15 14:32:54,208 [27] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:32:54,208 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:54,208 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 14:32:54,208 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:32:54,208 [27] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:32:54 PM +08:00

2017-08-15 14:32:54,211 [27] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 14:32:54,211 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:32:54,211 [27] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:32:54 PM +08:00

2017-08-15 14:36:29,485 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 14:36:32,107 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 14:36:55,526 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:36:55 PM +08:00

2017-08-15 14:36:56,826 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:36:56,826 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:36:56,829 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 14:36:56,829 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:36:56,829 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-08-15 14:36:56,829 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:36:56,829 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:36:56 PM +08:00

2017-08-15 14:36:56,866 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 35 ms with result: SqlDataReader

2017-08-15 14:36:56,866 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:36:56,992 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:36:56 PM +08:00

2017-08-15 14:36:59,110 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:36:59 PM +08:00

2017-08-15 14:36:59,155 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:36:59,155 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:36:59,155 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 14:36:59,156 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:36:59,156 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:36:59 PM +08:00

2017-08-15 14:36:59,162 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 14:36:59,162 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:36:59,166 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:36:59 PM +08:00

2017-08-15 14:37:19,959 [13] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An error occurred while sending the request.
System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Net.Http.HttpClient.<FinishSendAsync>d__58.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Infrastructure.Facebook.FbClient.<UnSubscribeApp>d__1.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 14:38:00,078 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:38:00 PM +08:00

2017-08-15 14:38:00,081 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:38:00,081 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:38:00,081 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 14:38:00,081 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:38:00,081 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-08-15 14:38:00,081 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:38:00,081 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:38:00 PM +08:00

2017-08-15 14:38:00,089 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 14:38:00,089 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:38:00,089 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:38:00 PM +08:00

2017-08-15 14:38:00,093 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:38:00 PM +08:00

2017-08-15 14:38:00,093 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:38:00,093 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:38:00,093 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 14:38:00,093 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:38:00,093 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:38:00 PM +08:00

2017-08-15 14:38:00,096 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 14:38:00,096 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:38:00,096 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:38:00 PM +08:00

2017-08-15 14:38:18,700 [13] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An error occurred while sending the request.
System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Net.Http.HttpClient.<FinishSendAsync>d__58.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Infrastructure.Facebook.FbClient.<UnSubscribeApp>d__1.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 14:40:45,661 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 14:40:48,317 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 14:41:07,791 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:41:07 PM +08:00

2017-08-15 14:41:09,049 [9] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:41:09,049 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:41:09,052 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 14:41:09,052 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:41:09,052 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-08-15 14:41:09,052 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:41:09,052 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:41:09 PM +08:00

2017-08-15 14:41:09,091 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 37 ms with result: SqlDataReader

2017-08-15 14:41:09,091 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:41:09,218 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:41:09 PM +08:00

2017-08-15 14:41:11,322 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:41:11 PM +08:00

2017-08-15 14:41:11,339 [9] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:41:11,340 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:41:11,340 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 14:41:11,340 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:41:11,340 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:41:11 PM +08:00

2017-08-15 14:41:11,343 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 14:41:11,343 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:41:11,344 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:41:11 PM +08:00

2017-08-15 14:41:30,183 [9] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An error occurred while sending the request.
System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Net.Http.HttpClient.<FinishSendAsync>d__58.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Infrastructure.Facebook.FbClient.<UnSubscribeApp>d__1.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 14:45:04,875 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:45:04 PM +08:00

2017-08-15 14:45:04,879 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:45:04,879 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:45:04,879 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 14:45:04,879 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:45:04,879 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-08-15 14:45:04,880 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:45:04,880 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:45:04 PM +08:00

2017-08-15 14:45:04,888 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 14:45:04,888 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:45:04,889 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:45:04 PM +08:00

2017-08-15 14:45:07,223 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:45:07 PM +08:00

2017-08-15 14:45:07,224 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:45:07,224 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:45:07,224 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 14:45:07,224 [21] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:45:07,224 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:45:07 PM +08:00

2017-08-15 14:45:07,227 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 14:45:07,227 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:45:07,228 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:45:07 PM +08:00

2017-08-15 14:45:30,606 [9] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An error occurred while sending the request.
System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Net.Http.HttpClient.<FinishSendAsync>d__58.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Infrastructure.Facebook.FbClient.<UnSubscribeApp>d__1.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 14:46:46,696 [9] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The remote server returned an error: (502) Bad Gateway.
System.Net.WebException: The remote server returned an error: (502) Bad Gateway.
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 44
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 63
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 14:46:52,270 [9] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - (OAuthException - #100) This authorization code has expired.
Framework.Core.ExceptionWithCode: (OAuthException - #100) This authorization code has expired. ---> Facebook.FacebookOAuthException: (OAuthException - #100) This authorization code has expired.
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 44
   --- End of inner exception stack trace ---
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 55
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 63
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 14:47:05,868 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:47:05 PM +08:00

2017-08-15 14:47:05,871 [9] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:47:05,871 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:47:05,871 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 14:47:05,871 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:47:05,872 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '6' (Type = Int32, IsNullable = false)

2017-08-15 14:47:05,872 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:47:05,872 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:47:05 PM +08:00

2017-08-15 14:47:05,879 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 14:47:05,879 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:47:05,880 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:47:05 PM +08:00

2017-08-15 14:47:06,411 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:47:06 PM +08:00

2017-08-15 14:47:06,411 [9] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:47:06,411 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:47:06,411 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10001' (Type = Int32, IsNullable = false)

2017-08-15 14:47:06,411 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:47:06,411 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:47:06 PM +08:00

2017-08-15 14:47:06,417 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 14:47:06,417 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:47:06,418 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:47:06 PM +08:00

2017-08-15 14:47:58,510 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:47:58 PM +08:00

2017-08-15 14:47:58,636 [9] DEBUG Social.Domain.SiteDataContext - UPDATE [dbo].[t_Social_Account]
SET [Token] = @0, [TokenSecret] = NULL, [IfEnable] = @1, [IfConvertMessageToConversation] = @2, [IfConvertVisitorPostToConversation] = @3, [IfConvertWallPostToConversation] = @4, [IfConvertTweetToConversation] = @5, [FacebookPageCategory] = @6, [FacebookSignInAs] = @7, [CreatedTime] = @8, [CreatedBy] = @9, [ConversationDepartmentId] = NULL, [ConversationAgentId] = NULL, [IsDeleted] = @10, [ConversationPriority] = NULL, [SiteId] = @11
WHERE ([Id] = @12)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @0: 'EAAbZBc23G2m8BAI8KE9L0wCakz9ZAsRdtI0SlkIcL3lGc6c0OZCfnu79r0KlH79Uf7guurBUt67dZB7Xou5ZCNvmi3ZAGd4ao0XFnjuPCJFZBpFKh56iM4cexeOPmODzjUy7yDN0SZAZAIUrGI3jKq8iV9eN7N2x4XwkJlbjFrZAEnVwZDZD' (Type = String, Size = -1)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @1: 'True' (Type = Boolean)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @5: 'False' (Type = Boolean)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @6: 'Health/Beauty' (Type = String, Size = 200)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @7: 'Vico Zhou' (Type = String, Size = 200)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @8: '8/15/2017 5:33:22 AM' (Type = DateTime2)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @9: '1' (Type = Int32)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @10: 'True' (Type = Boolean)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @11: '10001' (Type = Int32)

2017-08-15 14:47:58,639 [9] DEBUG Social.Domain.SiteDataContext - -- @12: '6' (Type = Int32)

2017-08-15 14:47:58,640 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:47:58 PM +08:00

2017-08-15 14:47:58,651 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 10 ms with result: 1

2017-08-15 14:47:58,651 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:47:58,652 [9] DEBUG Social.Domain.SiteDataContext - UPDATE [dbo].[t_Social_User]
SET [OriginalId] = @0, [OriginalLink] = @1, [Source] = @2, [Type] = @3, [Name] = @4, [ScreenName] = NULL, [Email] = NULL, [Avatar] = @5, [IsDeleted] = @6, [SiteId] = @7
WHERE ([Id] = @8)

2017-08-15 14:47:58,652 [9] DEBUG Social.Domain.SiteDataContext - -- @0: '374337606314054' (Type = String, Size = 200)

2017-08-15 14:47:58,652 [9] DEBUG Social.Domain.SiteDataContext - -- @1: 'https://www.facebook.com/22mjmk-374337606314054/' (Type = String, Size = 500)

2017-08-15 14:47:58,653 [9] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 14:47:58,653 [9] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 14:47:58,653 [9] DEBUG Social.Domain.SiteDataContext - -- @4: '22mjmk' (Type = String, Size = 200)

2017-08-15 14:47:58,653 [9] DEBUG Social.Domain.SiteDataContext - -- @5: 'https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/20264858_374349386312876_3968851630130330717_n.jpg?oh=f1b075deace2217c10fff4d91f567c16&oe=5A2069A6' (Type = String, Size = 200)

2017-08-15 14:47:58,653 [9] DEBUG Social.Domain.SiteDataContext - -- @6: 'True' (Type = Boolean)

2017-08-15 14:47:58,653 [9] DEBUG Social.Domain.SiteDataContext - -- @7: '10001' (Type = Int32)

2017-08-15 14:47:58,653 [9] DEBUG Social.Domain.SiteDataContext - -- @8: '6' (Type = Int32)

2017-08-15 14:47:58,653 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:47:58 PM +08:00

2017-08-15 14:47:58,658 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: 1

2017-08-15 14:47:58,658 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:47:58,660 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:47:58 PM +08:00

2017-08-15 14:47:58,665 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:47:58 PM +08:00

2017-08-15 14:47:58,668 [9] DEBUG Social.Domain.SiteDataContext - DELETE [dbo].[t_Site_SocialAccount]
WHERE ([Id] = @0)
2017-08-15 14:47:58,668 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:47:58,668 [9] DEBUG Social.Domain.SiteDataContext - -- @0: '5' (Type = Int32)

2017-08-15 14:47:58,668 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:47:58 PM +08:00

2017-08-15 14:47:58,675 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: 1

2017-08-15 14:47:58,676 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:47:58,676 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:47:58 PM +08:00

2017-08-15 14:48:11,622 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:48:11 PM +08:00

2017-08-15 14:48:11,648 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-15 14:48:11,648 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:48:11,648 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10001' (Type = Int32)

2017-08-15 14:48:11,648 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:48:11,648 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:48:11 PM +08:00

2017-08-15 14:48:11,655 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 14:48:11,655 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:48:11,656 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:48:11 PM +08:00

2017-08-15 14:48:37,115 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:48:37 PM +08:00

2017-08-15 14:48:37,141 [9] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent3].[Id] AS [Id1], 
    [Extent3].[OriginalId] AS [OriginalId], 
    [Extent3].[OriginalLink] AS [OriginalLink], 
    [Extent3].[Source] AS [Source], 
    [Extent3].[Type] AS [Type], 
    [Extent3].[Name] AS [Name], 
    [Extent3].[ScreenName] AS [ScreenName], 
    [Extent3].[Email] AS [Email], 
    [Extent3].[Avatar] AS [Avatar], 
    [Extent3].[IsDeleted] AS [IsDeleted1], 
    [Extent3].[SiteId] AS [SiteId1]
    FROM   [dbo].[t_Social_Account] AS [Extent1]
    INNER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent3].[Id])
    WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source]) AND ([Extent2].[OriginalId] IN (N'374337606314054')) AND (([Extent1].[SiteId] = @DynamicFilterParam_000001) )
2017-08-15 14:48:37,141 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:48:37,141 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:48:37,141 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:48:37,141 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:48:37 PM +08:00

2017-08-15 14:48:37,148 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 14:48:37,148 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:48:37,148 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:48:37 PM +08:00

2017-08-15 14:49:23,057 [6] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,084 [6] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0) AND ([Extent1].[Source] = @p__linq__1) AND ([Extent1].[Type] = @p__linq__2)
2017-08-15 14:49:23,084 [6] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:23,084 [6] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:49:23,084 [6] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:49:23,084 [6] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:49:23,084 [6] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:49:23,084 [6] DEBUG Social.Domain.SiteDataContext - -- p__linq__2: 'Customer' (Type = Int16)

2017-08-15 14:49:23,084 [6] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,092 [6] DEBUG Social.Domain.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-08-15 14:49:23,092 [6] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:23,092 [6] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,124 [6] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,157 [6] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (([Extent2].[OriginalId] = @p__linq__0) OR (([Extent2].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND (0 = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 14:49:23,157 [6] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:23,157 [6] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:49:23,157 [6] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:49:23,157 [6] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:49:23,157 [6] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:49:23,157 [6] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,162 [6] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 14:49:23,162 [6] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:23,166 [6] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,216 [6] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,239 [6] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_User]([OriginalId], [OriginalLink], [Source], [Type], [Name], [ScreenName], [Email], [Avatar], [IsDeleted], [SiteId])
VALUES (@0, @1, @2, @3, @4, NULL, NULL, @5, @6, @7)
SELECT [Id]
FROM [dbo].[t_Social_User]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 14:49:23,239 [6] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:23,239 [6] DEBUG Social.Domain.SiteDataContext - -- @0: '374337606314054' (Type = String, Size = 200)

2017-08-15 14:49:23,239 [6] DEBUG Social.Domain.SiteDataContext - -- @1: 'string' (Type = String, Size = 500)

2017-08-15 14:49:23,239 [6] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 14:49:23,239 [6] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 14:49:23,239 [6] DEBUG Social.Domain.SiteDataContext - -- @4: 'string' (Type = String, Size = 200)

2017-08-15 14:49:23,239 [6] DEBUG Social.Domain.SiteDataContext - -- @5: 'string' (Type = String, Size = 200)

2017-08-15 14:49:23,239 [6] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 14:49:23,239 [6] DEBUG Social.Domain.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-08-15 14:49:23,239 [6] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,259 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 19 ms with result: SqlDataReader

2017-08-15 14:49:23,259 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_Account]([Id], [Token], [TokenSecret], [IfEnable], [IfConvertMessageToConversation], [IfConvertVisitorPostToConversation], [IfConvertWallPostToConversation], [IfConvertTweetToConversation], [FacebookPageCategory], [FacebookSignInAs], [CreatedTime], [CreatedBy], [ConversationDepartmentId], [ConversationAgentId], [IsDeleted], [ConversationPriority], [SiteId])
VALUES (@0, @1, NULL, @2, @3, @4, @5, @6, @7, @8, @9, @10, NULL, NULL, @11, NULL, @12)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @0: '7' (Type = Int32)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @1: 'EAAbZBc23G2m8BALsMpOljydVbOZB5oN6TMFkgebkU7lQ0wpFFV81nyixD2417jRy8EDIzn31lp9mZCUjtIkhCvlEwskyYXijbfcB12lquHUZCqZChy6ZCJeI3sZAo788nuuQa0ctUZACXgXEcZCvXBlqxb3VNDYUob0OGLY1Mkn2kQQZDZD1' (Type = String, Size = -1)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @5: 'True' (Type = Boolean)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @7: 'string' (Type = String, Size = 200)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @8: 'string' (Type = String, Size = 200)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @9: '8/15/2017 6:49:23 AM' (Type = DateTime2)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @10: '1' (Type = Int32)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @11: 'False' (Type = Boolean)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- @12: '10000' (Type = Int32)

2017-08-15 14:49:23,280 [9] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,291 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 10 ms with result: 1

2017-08-15 14:49:23,291 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:23,301 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,319 [53] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,322 [53] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
        WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 14:49:23,322 [53] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:23,322 [53] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 14:49:23,322 [53] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:49:23,322 [53] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:23,324 [53] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 14:49:23,324 [53] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:23,324 [53] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:49:23 PM +08:00

2017-08-15 14:49:24,308 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:49:24 PM +08:00

2017-08-15 14:49:24,315 [9] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
    )  AS [Limit1]
2017-08-15 14:49:24,315 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:24,315 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:49:24,315 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:49:24,315 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '7' (Type = Int32, IsNullable = false)

2017-08-15 14:49:24,315 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:49:24 PM +08:00

2017-08-15 14:49:24,323 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 14:49:24,323 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:24,323 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:49:24 PM +08:00

2017-08-15 14:49:24,342 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:49:24 PM +08:00

2017-08-15 14:49:24,342 [9] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Site_SocialAccount]([SiteId], [FacebookPageId], [TwitterUserId])
VALUES (@0, @1, NULL)
SELECT [Id]
FROM [dbo].[t_Site_SocialAccount]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 14:49:24,343 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:24,343 [9] DEBUG Social.Domain.SiteDataContext - -- @0: '10000' (Type = Int32)

2017-08-15 14:49:24,343 [9] DEBUG Social.Domain.SiteDataContext - -- @1: '374337606314054' (Type = String, Size = -1)

2017-08-15 14:49:24,343 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:49:24 PM +08:00

2017-08-15 14:49:24,346 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 14:49:24,346 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:24,348 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:49:24 PM +08:00

2017-08-15 14:49:40,009 [6] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:49:40 PM +08:00

2017-08-15 14:49:40,012 [6] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:49:40,012 [6] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:40,012 [6] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:49:40,012 [6] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:49:40,012 [6] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '7' (Type = Int32, IsNullable = false)

2017-08-15 14:49:40,012 [6] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:49:40,012 [6] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:49:40 PM +08:00

2017-08-15 14:49:40,021 [6] DEBUG Social.Domain.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-08-15 14:49:40,021 [6] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:40,021 [6] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:49:40 PM +08:00

2017-08-15 14:49:40,024 [6] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:49:40 PM +08:00

2017-08-15 14:49:40,024 [6] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:49:40,024 [6] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:40,024 [6] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 14:49:40,024 [6] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:49:40,024 [6] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:49:40 PM +08:00

2017-08-15 14:49:40,027 [6] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 14:49:40,027 [6] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:49:40,027 [6] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:49:40 PM +08:00

2017-08-15 14:53:30,574 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 14:53:31,563 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 14:55:11,197 [15] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:55:11 PM +08:00

2017-08-15 14:55:12,501 [15] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0) AND ([Extent1].[Source] = @p__linq__1) AND ([Extent1].[Type] = @p__linq__2)
2017-08-15 14:55:12,501 [15] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:55:12,503 [15] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 14:55:12,503 [15] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:55:12,503 [15] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1715240532118091' (Type = String, Size = 4000)

2017-08-15 14:55:12,503 [15] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:55:12,503 [15] DEBUG Social.Domain.SiteDataContext - -- p__linq__2: 'Customer' (Type = Int16)

2017-08-15 14:55:12,504 [15] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:55:12 PM +08:00

2017-08-15 14:55:12,539 [15] DEBUG Social.Domain.SiteDataContext - -- Completed in 34 ms with result: SqlDataReader

2017-08-15 14:55:12,539 [15] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:55:12,554 [15] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:55:12 PM +08:00

2017-08-15 14:55:12,568 [15] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:55:12 PM +08:00

2017-08-15 14:55:12,694 [15] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND (([Extent2].[OriginalId] = @p__linq__0) OR (([Extent2].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND (0 = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 14:55:12,694 [15] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:55:12,694 [15] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 14:55:12,694 [15] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:55:12,694 [15] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1715240532118091' (Type = String, Size = 4000)

2017-08-15 14:55:12,694 [15] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:55:12,694 [15] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:55:12 PM +08:00

2017-08-15 14:55:12,701 [15] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 14:55:12,701 [15] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:55:12,706 [15] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:55:12 PM +08:00

2017-08-15 14:55:12,925 [15] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/15/2017 2:55:12 PM +08:00

2017-08-15 14:55:13,081 [15] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_User]([OriginalId], [OriginalLink], [Source], [Type], [Name], [ScreenName], [Email], [Avatar], [IsDeleted], [SiteId])
VALUES (@0, @1, @2, @3, @4, NULL, NULL, @5, @6, @7)
SELECT [Id]
FROM [dbo].[t_Social_User]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 14:55:13,081 [15] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:55:13,081 [15] DEBUG Social.Domain.SiteDataContext - -- @0: '1715240532118091' (Type = String, Size = 200)

2017-08-15 14:55:13,081 [15] DEBUG Social.Domain.SiteDataContext - -- @1: 'string' (Type = String, Size = 500)

2017-08-15 14:55:13,081 [15] DEBUG Social.Domain.SiteDataContext - -- @2: '0' (Type = Int16)

2017-08-15 14:55:13,081 [15] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 14:55:13,081 [15] DEBUG Social.Domain.SiteDataContext - -- @4: 'string' (Type = String, Size = 200)

2017-08-15 14:55:13,081 [15] DEBUG Social.Domain.SiteDataContext - -- @5: 'string' (Type = String, Size = 200)

2017-08-15 14:55:13,081 [15] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 14:55:13,081 [15] DEBUG Social.Domain.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-08-15 14:55:13,081 [15] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 2:55:13 PM +08:00

2017-08-15 14:55:13,108 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 26 ms with result: SqlDataReader

2017-08-15 14:55:13,108 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:55:13,132 [12] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_Account]([Id], [Token], [TokenSecret], [IfEnable], [IfConvertMessageToConversation], [IfConvertVisitorPostToConversation], [IfConvertWallPostToConversation], [IfConvertTweetToConversation], [FacebookPageCategory], [FacebookSignInAs], [CreatedTime], [CreatedBy], [ConversationDepartmentId], [ConversationAgentId], [IsDeleted], [ConversationPriority], [SiteId])
VALUES (@0, @1, NULL, @2, @3, @4, @5, @6, @7, @8, @9, @10, NULL, NULL, @11, NULL, @12)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @0: '8' (Type = Int32)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @1: 'EAAR8yzs1uVQBACjMl0TyHgxHnsnKklXhwlymMAtZBMVzbtqJUc7yZCspGpzMVkTEE6bMExj1qJyNHEHGdaxc6oNnZB1FZBp2qvCf4p8F538tiOBUi2LZBZAhZBdUSTWj3b4aiAw5vpG7AvrPQhtqUErAyvZCizZAsyOsMA7wu8x7jN2PNz37WjrSK' (Type = String, Size = -1)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @5: 'True' (Type = Boolean)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @7: 'string' (Type = String, Size = 200)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @8: 'string' (Type = String, Size = 200)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @9: '8/15/2017 6:55:12 AM' (Type = DateTime2)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @10: '1' (Type = Int32)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @11: 'False' (Type = Boolean)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- @12: '10000' (Type = Int32)

2017-08-15 14:55:13,133 [12] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 2:55:13 PM +08:00

2017-08-15 14:55:13,148 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 14 ms with result: 1

2017-08-15 14:55:13,148 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:55:13,165 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:55:13 PM +08:00

2017-08-15 14:55:15,254 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:55:15 PM +08:00

2017-08-15 14:55:15,260 [18] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
        WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 14:55:15,260 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:55:15,260 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 14:55:15,260 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '1715240532118091' (Type = String, Size = 4000)

2017-08-15 14:55:15,260 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:55:15 PM +08:00

2017-08-15 14:55:15,263 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 14:55:15,264 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:55:15,264 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:55:15 PM +08:00

2017-08-15 14:55:16,948 [15] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Response status code does not indicate success: 400 (Bad Request).
System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at Social.Infrastructure.Facebook.FbClient.<SubscribeApp>d__0.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 23
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.FacebookAccountAppService.<AddPageAsync>d__6.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 116
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<AddPage>d__7.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 104
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 14:56:07,862 [15] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:56:07 PM +08:00

2017-08-15 14:56:07,965 [15] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent3].[Id] AS [Id1], 
    [Extent3].[OriginalId] AS [OriginalId], 
    [Extent3].[OriginalLink] AS [OriginalLink], 
    [Extent3].[Source] AS [Source], 
    [Extent3].[Type] AS [Type], 
    [Extent3].[Name] AS [Name], 
    [Extent3].[ScreenName] AS [ScreenName], 
    [Extent3].[Email] AS [Email], 
    [Extent3].[Avatar] AS [Avatar], 
    [Extent3].[IsDeleted] AS [IsDeleted1], 
    [Extent3].[SiteId] AS [SiteId1]
    FROM   [dbo].[t_Social_Account] AS [Extent1]
    INNER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent3].[Id])
    WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source]) AND ([Extent2].[OriginalId] IN (N'374337606314054')) AND (([Extent1].[SiteId] = @DynamicFilterParam_000001) )
2017-08-15 14:56:07,965 [15] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:56:07,965 [15] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:56:07,965 [15] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:56:07,965 [15] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:56:07 PM +08:00

2017-08-15 14:56:07,972 [15] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 14:56:07,972 [15] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:56:08,001 [15] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:56:08 PM +08:00

2017-08-15 14:56:57,718 [23] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:56:57 PM +08:00

2017-08-15 14:56:57,729 [23] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 14:56:57,729 [23] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:56:57,729 [23] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 14:56:57,729 [23] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 14:56:57,729 [23] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '7' (Type = Int32, IsNullable = false)

2017-08-15 14:56:57,729 [23] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 14:56:57,729 [23] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:56:57 PM +08:00

2017-08-15 14:56:57,735 [23] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 14:56:57,736 [23] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:56:57,736 [23] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:56:57 PM +08:00

2017-08-15 14:56:57,760 [23] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 2:56:57 PM +08:00

2017-08-15 14:56:57,768 [23] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 14:56:57,768 [23] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:56:57,768 [23] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 14:56:57,768 [23] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 14:56:57,768 [23] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 2:56:57 PM +08:00

2017-08-15 14:56:57,770 [23] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 14:56:57,770 [23] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 14:56:57,773 [23] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 2:56:57 PM +08:00

2017-08-15 14:57:24,014 [17] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - {"error":{"message":"Error validating access token: The user is enrolled in a blocking, logged-in checkpoint","type":"OAuthException","code":190,"error_subcode":490,"fbtrace_id":"EDTE+LePnmb"}}
Framework.Core.ExceptionWithCode: {"error":{"message":"Error validating access token: The user is enrolled in a blocking, logged-in checkpoint","type":"OAuthException","code":190,"error_subcode":490,"fbtrace_id":"EDTE+LePnmb"}}
   at Social.Infrastructure.Facebook.FbClient.<UnSubscribeApp>d__1.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 34
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 15:08:20,429 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 15:08:23,294 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 15:08:45,982 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 3:08:45 PM +08:00

2017-08-15 15:08:47,252 [12] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 15:08:47,252 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 15:08:47,256 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 15:08:47,256 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 15:08:47,256 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '7' (Type = Int32, IsNullable = false)

2017-08-15 15:08:47,257 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 15:08:47,257 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 3:08:47 PM +08:00

2017-08-15 15:08:47,294 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 36 ms with result: SqlDataReader

2017-08-15 15:08:47,295 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 15:08:47,418 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 3:08:47 PM +08:00

2017-08-15 15:08:49,523 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 3:08:49 PM +08:00

2017-08-15 15:08:49,544 [12] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 15:08:49,544 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 15:08:49,544 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 15:08:49,544 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 15:08:49,544 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 3:08:49 PM +08:00

2017-08-15 15:08:49,550 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 15:08:49,550 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 15:08:49,552 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 3:08:49 PM +08:00

2017-08-15 15:08:52,373 [11] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - {"error":{"message":"Error validating access token: The user is enrolled in a blocking, logged-in checkpoint","type":"OAuthException","code":190,"error_subcode":490,"fbtrace_id":"BMX0yXL+GGM"}}
Framework.Core.ExceptionWithCode: {"error":{"message":"Error validating access token: The user is enrolled in a blocking, logged-in checkpoint","type":"OAuthException","code":190,"error_subcode":490,"fbtrace_id":"BMX0yXL+GGM"}} ---> Facebook.FacebookOAuthException: {"error":{"message":"Error validating access token: The user is enrolled in a blocking, logged-in checkpoint","type":"OAuthException","code":190,"error_subcode":490,"fbtrace_id":"BMX0yXL+GGM"}}
   --- End of inner exception stack trace ---
   at Social.Infrastructure.Facebook.FbClient.<UnSubscribeApp>d__1.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 35
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 15:21:50,078 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 15:21:52,645 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 15:23:03,798 [14] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 3:23:03 PM +08:00

2017-08-15 15:23:05,235 [14] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Token] AS [Token], 
        [Extent1].[TokenSecret] AS [TokenSecret], 
        [Extent1].[IfEnable] AS [IfEnable], 
        [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[ConversationPriority] AS [ConversationPriority], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[OriginalId] AS [OriginalId], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Source] AS [Source], 
        [Extent2].[Type] AS [Type], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[ScreenName] AS [ScreenName], 
        [Extent2].[Email] AS [Email], 
        [Extent2].[Avatar] AS [Avatar], 
        [Extent2].[IsDeleted] AS [IsDeleted1], 
        [Extent2].[SiteId] AS [SiteId1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND ([Extent2].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-15 15:23:05,236 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 15:23:05,239 [14] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 15:23:05,239 [14] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 15:23:05,239 [14] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '7' (Type = Int32, IsNullable = false)

2017-08-15 15:23:05,239 [14] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-15 15:23:05,239 [14] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 3:23:05 PM +08:00

2017-08-15 15:23:05,278 [14] DEBUG Social.Domain.SiteDataContext - -- Completed in 37 ms with result: SqlDataReader

2017-08-15 15:23:05,278 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 15:23:05,394 [14] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 3:23:05 PM +08:00

2017-08-15 15:23:06,511 [14] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 3:23:06 PM +08:00

2017-08-15 15:23:06,527 [14] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[FacebookPageId] = @p__linq__1) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__1 IS NULL)))
2017-08-15 15:23:06,527 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 15:23:06,527 [14] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 15:23:06,527 [14] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '374337606314054' (Type = String, Size = 4000)

2017-08-15 15:23:06,527 [14] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 3:23:06 PM +08:00

2017-08-15 15:23:06,530 [14] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 15:23:06,530 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 15:23:06,532 [14] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 3:23:06 PM +08:00

2017-08-15 15:23:08,203 [13] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - (OAuthException - #190) Error validating access token: The user is enrolled in a blocking, logged-in checkpoint
Framework.Core.ExceptionWithCode: (OAuthException - #190) Error validating access token: The user is enrolled in a blocking, logged-in checkpoint ---> Facebook.FacebookOAuthException: (OAuthException - #190) Error validating access token: The user is enrolled in a blocking, logged-in checkpoint
   at Facebook.FacebookClient.ProcessResponse(HttpHelper httpHelper, String responseString, Type resultType, Boolean containsEtag, IList`1 batchEtags)
   at Facebook.FacebookClient.<>c__DisplayClass8.<ApiAsync>b__5(Object o, OpenReadCompletedEventArgs e)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Infrastructure.Facebook.FbClient.<UnSubscribeApp>d__1.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 31
   --- End of inner exception stack trace ---
   at Social.Infrastructure.Facebook.FbClient.<UnSubscribeApp>d__1.MoveNext() in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 35
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.FacebookAccountAppService.<DeletePageAsync>d__7.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<DeletePage>d__9.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 131
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 16:07:47,037 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 16:07:49,947 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 16:12:17,976 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:12:17 PM +08:00

2017-08-15 16:12:18,645 [12] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_TwitterAuth]([AuthorizationId], [AuthorizationKey], [AuthorizationSecret])
VALUES (@0, @1, @2)
SELECT [Id]
FROM [dbo].[t_Social_TwitterAuth]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 16:12:18,645 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:18,647 [12] DEBUG Social.Domain.SiteDataContext - -- @0: '71e6e655-e6de-407b-a845-bfa1b395f201' (Type = String, Size = 50)

2017-08-15 16:12:18,647 [12] DEBUG Social.Domain.SiteDataContext - -- @1: 'BiTbigAAAAAA0ZvPAAABXeTzKxA' (Type = String, Size = 200)

2017-08-15 16:12:18,647 [12] DEBUG Social.Domain.SiteDataContext - -- @2: 'dNbmZXrYrkXHKWLVEhXfR7yA4ylYqdnJ' (Type = String, Size = 200)

2017-08-15 16:12:18,647 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:12:18 PM +08:00

2017-08-15 16:12:18,703 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 54 ms with result: SqlDataReader

2017-08-15 16:12:18,703 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:18,726 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:12:18 PM +08:00

2017-08-15 16:12:35,028 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:12:35 PM +08:00

2017-08-15 16:12:35,677 [12] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[AuthorizationId] AS [AuthorizationId], 
    [Extent1].[AuthorizationKey] AS [AuthorizationKey], 
    [Extent1].[AuthorizationSecret] AS [AuthorizationSecret]
    FROM [dbo].[t_Social_TwitterAuth] AS [Extent1]
    WHERE ([Extent1].[AuthorizationId] = @p__linq__0) OR (([Extent1].[AuthorizationId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-15 16:12:35,677 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:35,678 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '71e6e655-e6de-407b-a845-bfa1b395f201' (Type = String, Size = 4000)

2017-08-15 16:12:35,678 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:12:35 PM +08:00

2017-08-15 16:12:35,698 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 20 ms with result: SqlDataReader

2017-08-15 16:12:35,698 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:35,714 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:12:35 PM +08:00

2017-08-15 16:12:35,729 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:12:35 PM +08:00

2017-08-15 16:12:35,761 [12] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[AuthorizationId] AS [AuthorizationId], 
    [Extent1].[AuthorizationKey] AS [AuthorizationKey], 
    [Extent1].[AuthorizationSecret] AS [AuthorizationSecret]
    FROM [dbo].[t_Social_TwitterAuth] AS [Extent1]
    WHERE [Extent1].[Id] = @p0
2017-08-15 16:12:35,761 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:35,761 [12] DEBUG Social.Domain.SiteDataContext - -- p0: '1' (Type = Int32)

2017-08-15 16:12:35,761 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:12:35 PM +08:00

2017-08-15 16:12:35,763 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 16:12:35,763 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:35,763 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:12:35 PM +08:00

2017-08-15 16:12:35,772 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:12:35 PM +08:00

2017-08-15 16:12:35,783 [12] DEBUG Social.Domain.SiteDataContext - DELETE [dbo].[t_Social_TwitterAuth]
WHERE ([Id] = @0)
2017-08-15 16:12:35,783 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:35,784 [12] DEBUG Social.Domain.SiteDataContext - -- @0: '1' (Type = Int32)

2017-08-15 16:12:35,784 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:12:35 PM +08:00

2017-08-15 16:12:35,790 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: 1

2017-08-15 16:12:35,790 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:35,790 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:12:35 PM +08:00

2017-08-15 16:12:42,194 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:12:42 PM +08:00

2017-08-15 16:12:42,283 [12] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0) AND ([Extent1].[Source] = @p__linq__1) AND ([Extent1].[Type] = @p__linq__2)
2017-08-15 16:12:42,283 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:42,283 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 16:12:42,283 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 16:12:42,283 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '880620227460866048' (Type = String, Size = 4000)

2017-08-15 16:12:42,283 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Twitter' (Type = Int16)

2017-08-15 16:12:42,283 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__2: 'Customer' (Type = Int16)

2017-08-15 16:12:42,283 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:12:42 PM +08:00

2017-08-15 16:12:42,287 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 16:12:42,287 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:42,288 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:12:42 PM +08:00

2017-08-15 16:12:42,298 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:12:42 PM +08:00

2017-08-15 16:12:42,410 [12] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM  [dbo].[t_Social_Account] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (([Extent2].[OriginalId] = @p__linq__0) OR (([Extent2].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND (1 = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 16:12:42,410 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:42,410 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 16:12:42,410 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 16:12:42,410 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '880620227460866048' (Type = String, Size = 4000)

2017-08-15 16:12:42,410 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Twitter' (Type = Int16)

2017-08-15 16:12:42,410 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:12:42 PM +08:00

2017-08-15 16:12:42,416 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-15 16:12:42,417 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:42,421 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:12:42 PM +08:00

2017-08-15 16:12:42,508 [12] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/15/2017 4:12:42 PM +08:00

2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_User]([OriginalId], [OriginalLink], [Source], [Type], [Name], [ScreenName], [Email], [Avatar], [IsDeleted], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5, @6, @7, @8, @9)
SELECT [Id]
FROM [dbo].[t_Social_User]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - -- @0: '880620227460866048' (Type = String, Size = 200)

2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - -- @1: 'https://twitter.com/zhou_vico' (Type = String, Size = 500)

2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - -- @2: '1' (Type = Int16)

2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - -- @3: '1' (Type = Int16)

2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - -- @4: 'vico' (Type = String, Size = 200)

2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - -- @5: 'zhou_vico' (Type = String, Size = 200)

2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - -- @6: '411765906@qq.com' (Type = String, Size = 200)

2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - -- @7: 'http://pbs.twimg.com/profile_images/880621391556386818/KPWgjkVT_normal.jpg' (Type = String, Size = 200)

2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - -- @8: 'False' (Type = Boolean)

2017-08-15 16:12:42,535 [12] DEBUG Social.Domain.SiteDataContext - -- @9: '10000' (Type = Int32)

2017-08-15 16:12:42,536 [12] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 4:12:42 PM +08:00

2017-08-15 16:12:42,563 [4] DEBUG Social.Domain.SiteDataContext - -- Completed in 26 ms with result: SqlDataReader

2017-08-15 16:12:42,563 [4] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_Account]([Id], [Token], [TokenSecret], [IfEnable], [IfConvertMessageToConversation], [IfConvertVisitorPostToConversation], [IfConvertWallPostToConversation], [IfConvertTweetToConversation], [FacebookPageCategory], [FacebookSignInAs], [CreatedTime], [CreatedBy], [ConversationDepartmentId], [ConversationAgentId], [IsDeleted], [ConversationPriority], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5, @6, @7, NULL, NULL, @8, @9, NULL, NULL, @10, NULL, @11)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @0: '9' (Type = Int32)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @1: '880620227460866048-E1XTzWOFE1xLfxYDor5I5oGMiVUVs86' (Type = String, Size = -1)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @2: 'ii3mahfjH0qjU4wupnj3Du6JbWjwPuM2p8jHoUrcgpLYp' (Type = String, Size = -1)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @3: 'True' (Type = Boolean)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @4: 'True' (Type = Boolean)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @5: 'False' (Type = Boolean)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @6: 'False' (Type = Boolean)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @7: 'True' (Type = Boolean)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @8: '8/15/2017 8:12:42 AM' (Type = DateTime2)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @9: '1' (Type = Int32)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @10: 'False' (Type = Boolean)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- @11: '10000' (Type = Int32)

2017-08-15 16:12:42,596 [4] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/15/2017 4:12:42 PM +08:00

2017-08-15 16:12:42,610 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 14 ms with result: 1

2017-08-15 16:12:42,610 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:42,613 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:12:42 PM +08:00

2017-08-15 16:12:44,705 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:12:44 PM +08:00

2017-08-15 16:12:44,712 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
        WHERE ([Extent1].[SiteId] = @p__linq__0) AND (([Extent1].[TwitterUserId] = @p__linq__1) OR (([Extent1].[TwitterUserId] IS NULL) AND (@p__linq__1 IS NULL)))
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-15 16:12:44,712 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:44,712 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '10000' (Type = Int32, IsNullable = false)

2017-08-15 16:12:44,712 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '880620227460866048' (Type = String, Size = 4000)

2017-08-15 16:12:44,712 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:12:44 PM +08:00

2017-08-15 16:12:44,727 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 14 ms with result: SqlDataReader

2017-08-15 16:12:44,727 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:44,727 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:12:44 PM +08:00

2017-08-15 16:12:44,730 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:12:44 PM +08:00

2017-08-15 16:12:44,732 [13] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Site_SocialAccount]([SiteId], [FacebookPageId], [TwitterUserId])
VALUES (@0, NULL, @1)
SELECT [Id]
FROM [dbo].[t_Site_SocialAccount]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 16:12:44,732 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:44,732 [13] DEBUG Social.Domain.SiteDataContext - -- @0: '10000' (Type = Int32)

2017-08-15 16:12:44,732 [13] DEBUG Social.Domain.SiteDataContext - -- @1: '880620227460866048' (Type = String, Size = -1)

2017-08-15 16:12:44,732 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:12:44 PM +08:00

2017-08-15 16:12:44,735 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 16:12:44,735 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:44,735 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:12:44 PM +08:00

2017-08-15 16:12:59,782 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:12:59 PM +08:00

2017-08-15 16:12:59,835 [12] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[ScreenName] AS [ScreenName], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent2].[Source])
2017-08-15 16:12:59,835 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:59,835 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 16:12:59,835 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 16:12:59,835 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:12:59 PM +08:00

2017-08-15 16:12:59,863 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 28 ms with result: SqlDataReader

2017-08-15 16:12:59,863 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:12:59,865 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:12:59 PM +08:00

2017-08-15 16:27:20,846 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 16:27:23,288 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 16:27:26,961 [14] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:27:26 PM +08:00

2017-08-15 16:27:28,706 [14] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-08-15 16:27:28,706 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:27:28,713 [14] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-08-15 16:27:28,714 [14] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:27:28 PM +08:00

2017-08-15 16:27:28,759 [14] DEBUG Social.Domain.SiteDataContext - -- Completed in 43 ms with result: SqlDataReader

2017-08-15 16:27:28,759 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:27:28,885 [14] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:27:28 PM +08:00

2017-08-15 16:27:28,984 [14] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:27:28 PM +08:00

2017-08-15 16:27:29,147 [14] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-08-15 16:27:29,147 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:27:29,147 [14] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 16:27:29,147 [14] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 16:27:29,147 [14] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '10' (Type = Int32, IsNullable = false)

2017-08-15 16:27:29,147 [14] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:27:29 PM +08:00

2017-08-15 16:27:29,153 [14] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 16:27:29,153 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:27:29,196 [14] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:27:29 PM +08:00

2017-08-15 16:52:42,286 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 16:52:45,029 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 16:53:59,776 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:53:59 PM +08:00

2017-08-15 16:54:00,449 [9] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_Filter]([Name], [Index], [IfPublic], [Type], [LogicalExpression], [CreatedBy], [CreatedTime], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5, @6, @7)
SELECT [Id]
FROM [dbo].[t_Social_Filter]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 16:54:00,449 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:54:00,452 [9] DEBUG Social.Domain.SiteDataContext - -- @0: 'string' (Type = String, Size = 200)

2017-08-15 16:54:00,452 [9] DEBUG Social.Domain.SiteDataContext - -- @1: '0' (Type = Int32)

2017-08-15 16:54:00,452 [9] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 16:54:00,452 [9] DEBUG Social.Domain.SiteDataContext - -- @3: '0' (Type = Int16)

2017-08-15 16:54:00,452 [9] DEBUG Social.Domain.SiteDataContext - -- @4: 'string' (Type = String, Size = 200)

2017-08-15 16:54:00,452 [9] DEBUG Social.Domain.SiteDataContext - -- @5: '1' (Type = Int32)

2017-08-15 16:54:00,452 [9] DEBUG Social.Domain.SiteDataContext - -- @6: '8/15/2017 8:53:59 AM' (Type = DateTime2)

2017-08-15 16:54:00,452 [9] DEBUG Social.Domain.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-08-15 16:54:00,452 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:54:00 PM +08:00

2017-08-15 16:54:00,498 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 43 ms with result: SqlDataReader

2017-08-15 16:54:00,498 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:54:00,505 [9] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_FilterCondition]([FilterId], [FieldId], [MatchType], [Value], [Index], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5)
SELECT [Id]
FROM [dbo].[t_Social_FilterCondition]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 16:54:00,505 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:54:00,505 [9] DEBUG Social.Domain.SiteDataContext - -- @0: '3001' (Type = Int32)

2017-08-15 16:54:00,505 [9] DEBUG Social.Domain.SiteDataContext - -- @1: '-1' (Type = Int32)

2017-08-15 16:54:00,505 [9] DEBUG Social.Domain.SiteDataContext - -- @2: '1' (Type = Int16)

2017-08-15 16:54:00,505 [9] DEBUG Social.Domain.SiteDataContext - -- @3: 'string' (Type = String, Size = 200)

2017-08-15 16:54:00,505 [9] DEBUG Social.Domain.SiteDataContext - -- @4: '0' (Type = Int32)

2017-08-15 16:54:00,505 [9] DEBUG Social.Domain.SiteDataContext - -- @5: '10000' (Type = Int32)

2017-08-15 16:54:00,505 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:54:00 PM +08:00

2017-08-15 16:54:00,529 [9] DEBUG Social.Domain.SiteDataContext - -- Failed in 24 ms with error: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_t_Social_FilterCondition_t_Social_ConversationField_FieldId". The conflict occurred in database "Social_Dev", table "dbo.t_Social_ConversationField", column 'Id'.
The statement has been terminated.

2017-08-15 16:54:00,529 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:54:00,535 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:54:00 PM +08:00

2017-08-15 16:54:06,604 [9] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An error occurred while updating the entries. See the inner exception for details.
System.Data.Entity.Infrastructure.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.Entity.Core.UpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_t_Social_FilterCondition_t_Social_ConversationField_FieldId". The conflict occurred in database "Social_Dev", table "dbo.t_Social_ConversationField", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.<Reader>b__c(DbCommand t, DbCommandInterceptionContext`1 c)
   at System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext,TResult](TTarget target, Func`3 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   at System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.Reader(DbCommand command, DbCommandInterceptionContext interceptionContext)
   at System.Data.Entity.Internal.InterceptableDbCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.Entity.Core.Mapping.Update.Internal.DynamicUpdateCommand.Execute(Dictionary`2 identifierValues, List`1 generatedValues)
   at System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   --- End of inner exception stack trace ---
   at System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   at System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.<Update>b__2(UpdateTranslator ut)
   at System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update[T](T noChangesResult, Func`2 updateFunction)
   at System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update()
   at System.Data.Entity.Core.Objects.ObjectContext.<SaveChangesToStore>b__35()
   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   at System.Data.Entity.Core.Objects.ObjectContext.SaveChangesToStore(SaveOptions options, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction)
   at System.Data.Entity.Core.Objects.ObjectContext.<>c__DisplayClass2a.<SaveChangesInternal>b__27()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.Core.Objects.ObjectContext.SaveChangesInternal(SaveOptions options, Boolean executeInExistingTransaction)
   at System.Data.Entity.Core.Objects.ObjectContext.SaveChanges(SaveOptions options)
   at System.Data.Entity.Internal.InternalContext.SaveChanges()
   --- End of inner exception stack trace ---
   at System.Data.Entity.Internal.InternalContext.SaveChanges()
   at System.Data.Entity.Internal.LazyInternalContext.SaveChanges()
   at System.Data.Entity.DbContext.SaveChanges()
   at Framework.Core.EntityFramework.DataContext.SaveChanges() in F:\social\social_20170728\Social\Framework\Framework.Core\EntityFramework\DataContext.cs:line 64
   at Framework.Core.UnitOfWork.UnitOfWork.SaveChanges() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWork.cs:line 172
   at Social.Application.AppServices.FilterAppService.Insert(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 84
   at Social.WebApi.Controllers.FilterController.PostFilter(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 74
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 16:54:13,020 [11] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 4:54:13 PM +08:00

2017-08-15 16:54:13,021 [11] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_Filter]([Name], [Index], [IfPublic], [Type], [LogicalExpression], [CreatedBy], [CreatedTime], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5, @6, @7)
SELECT [Id]
FROM [dbo].[t_Social_Filter]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 16:54:13,021 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:54:13,021 [11] DEBUG Social.Domain.SiteDataContext - -- @0: 'string' (Type = String, Size = 200)

2017-08-15 16:54:13,021 [11] DEBUG Social.Domain.SiteDataContext - -- @1: '0' (Type = Int32)

2017-08-15 16:54:13,021 [11] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 16:54:13,021 [11] DEBUG Social.Domain.SiteDataContext - -- @3: '0' (Type = Int16)

2017-08-15 16:54:13,021 [11] DEBUG Social.Domain.SiteDataContext - -- @4: 'string' (Type = String, Size = 200)

2017-08-15 16:54:13,021 [11] DEBUG Social.Domain.SiteDataContext - -- @5: '1' (Type = Int32)

2017-08-15 16:54:13,021 [11] DEBUG Social.Domain.SiteDataContext - -- @6: '8/15/2017 8:54:13 AM' (Type = DateTime2)

2017-08-15 16:54:13,021 [11] DEBUG Social.Domain.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-08-15 16:54:13,021 [11] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:54:13 PM +08:00

2017-08-15 16:54:13,030 [11] DEBUG Social.Domain.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-08-15 16:54:13,030 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:54:13,030 [11] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_FilterCondition]([FilterId], [FieldId], [MatchType], [Value], [Index], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5)
SELECT [Id]
FROM [dbo].[t_Social_FilterCondition]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 16:54:13,030 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:54:13,030 [11] DEBUG Social.Domain.SiteDataContext - -- @0: '3002' (Type = Int32)

2017-08-15 16:54:13,030 [11] DEBUG Social.Domain.SiteDataContext - -- @1: '-1' (Type = Int32)

2017-08-15 16:54:13,030 [11] DEBUG Social.Domain.SiteDataContext - -- @2: '1' (Type = Int16)

2017-08-15 16:54:13,030 [11] DEBUG Social.Domain.SiteDataContext - -- @3: 'string' (Type = String, Size = 200)

2017-08-15 16:54:13,030 [11] DEBUG Social.Domain.SiteDataContext - -- @4: '0' (Type = Int32)

2017-08-15 16:54:13,030 [11] DEBUG Social.Domain.SiteDataContext - -- @5: '10000' (Type = Int32)

2017-08-15 16:54:13,030 [11] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 4:54:13 PM +08:00

2017-08-15 16:54:13,033 [11] DEBUG Social.Domain.SiteDataContext - -- Failed in 2 ms with error: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_t_Social_FilterCondition_t_Social_ConversationField_FieldId". The conflict occurred in database "Social_Dev", table "dbo.t_Social_ConversationField", column 'Id'.
The statement has been terminated.

2017-08-15 16:54:13,033 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 16:54:13,033 [11] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 4:54:13 PM +08:00

2017-08-15 16:54:54,919 [11] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An error occurred while updating the entries. See the inner exception for details.
System.Data.Entity.Infrastructure.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.Entity.Core.UpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_t_Social_FilterCondition_t_Social_ConversationField_FieldId". The conflict occurred in database "Social_Dev", table "dbo.t_Social_ConversationField", column 'Id'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.<Reader>b__c(DbCommand t, DbCommandInterceptionContext`1 c)
   at System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext,TResult](TTarget target, Func`3 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   at System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.Reader(DbCommand command, DbCommandInterceptionContext interceptionContext)
   at System.Data.Entity.Internal.InterceptableDbCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.Entity.Core.Mapping.Update.Internal.DynamicUpdateCommand.Execute(Dictionary`2 identifierValues, List`1 generatedValues)
   at System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   --- End of inner exception stack trace ---
   at System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   at System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.<Update>b__2(UpdateTranslator ut)
   at System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update[T](T noChangesResult, Func`2 updateFunction)
   at System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update()
   at System.Data.Entity.Core.Objects.ObjectContext.<SaveChangesToStore>b__35()
   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   at System.Data.Entity.Core.Objects.ObjectContext.SaveChangesToStore(SaveOptions options, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction)
   at System.Data.Entity.Core.Objects.ObjectContext.<>c__DisplayClass2a.<SaveChangesInternal>b__27()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.Core.Objects.ObjectContext.SaveChangesInternal(SaveOptions options, Boolean executeInExistingTransaction)
   at System.Data.Entity.Core.Objects.ObjectContext.SaveChanges(SaveOptions options)
   at System.Data.Entity.Internal.InternalContext.SaveChanges()
   --- End of inner exception stack trace ---
   at System.Data.Entity.Internal.InternalContext.SaveChanges()
   at System.Data.Entity.Internal.LazyInternalContext.SaveChanges()
   at System.Data.Entity.DbContext.SaveChanges()
   at Framework.Core.EntityFramework.DataContext.SaveChanges() in F:\social\social_20170728\Social\Framework\Framework.Core\EntityFramework\DataContext.cs:line 64
   at Framework.Core.UnitOfWork.UnitOfWork.SaveChanges() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWork.cs:line 172
   at Social.Application.AppServices.FilterAppService.Insert(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 84
   at Social.WebApi.Controllers.FilterController.PostFilter(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 74
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 17:11:01,014 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 17:11:03,851 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 17:11:26,874 [11] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:11:26 PM +08:00

2017-08-15 17:11:28,069 [11] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-15 17:11:28,069 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:11:28,071 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 17:11:28,071 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:11:28,071 [11] DEBUG Social.Domain.SiteDataContext - -- p0: '-1' (Type = Int32)

2017-08-15 17:11:28,072 [11] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:11:28 PM +08:00

2017-08-15 17:11:28,114 [11] DEBUG Social.Domain.SiteDataContext - -- Completed in 41 ms with result: SqlDataReader

2017-08-15 17:11:28,114 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:11:28,130 [11] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:11:28 PM +08:00

2017-08-15 17:11:38,247 [11] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The fieldId '-1' is invalid
Framework.Core.ExceptionWithCode: The fieldId '-1' is invalid
   at Social.Domain.FilterService.CheckFieldIdExist(List`1 filterConditons) in F:\social\social_20170728\Social\Social.Domain\DomainServices\FilterService.cs:line 85
   at Social.Application.AppServices.FilterAppService.Insert(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 81
   at Social.WebApi.Controllers.FilterController.PostFilter(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 74
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 17:37:02,817 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 17:37:05,343 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 17:37:30,904 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:37:30 PM +08:00

2017-08-15 17:37:31,968 [10] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] IN (-1))
2017-08-15 17:37:31,968 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:37:31,971 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 17:37:31,971 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:37:31,971 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:37:31 PM +08:00

2017-08-15 17:37:32,023 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 50 ms with result: SqlDataReader

2017-08-15 17:37:32,023 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:37:32,034 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:37:32 PM +08:00

2017-08-15 17:37:35,373 [10] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - FieldId '-1' not exists
Framework.Core.ExceptionWithCode: FieldId '-1' not exists
   at Social.Domain.FilterService.CheckFieldIdExist(List`1 filterConditons) in F:\social\social_20170728\Social\Social.Domain\DomainServices\FilterService.cs:line 90
   at Social.Application.AppServices.FilterAppService.Insert(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 81
   at Social.WebApi.Controllers.FilterController.PostFilter(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 74
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 17:37:53,922 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:37:53 PM +08:00

2017-08-15 17:37:53,925 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] IN (-1, -2))
2017-08-15 17:37:53,925 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:37:53,925 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:37:53,925 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:37:53,925 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:37:53 PM +08:00

2017-08-15 17:37:53,947 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 22 ms with result: SqlDataReader

2017-08-15 17:37:53,947 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:37:53,947 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:37:53 PM +08:00

2017-08-15 17:37:53,948 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:37:53 PM +08:00

2017-08-15 17:37:53,949 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] IN (-1, -2))
2017-08-15 17:37:53,949 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:37:53,949 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:37:53,949 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:37:53,949 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:37:53 PM +08:00

2017-08-15 17:37:53,951 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-15 17:37:53,951 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:37:53,952 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:37:53 PM +08:00

2017-08-15 17:37:59,547 [21] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - FieldId '-1' not exists
Framework.Core.ExceptionWithCode: FieldId '-1' not exists
   at Social.Domain.FilterService.CheckFieldIdExist(List`1 filterConditons) in F:\social\social_20170728\Social\Social.Domain\DomainServices\FilterService.cs:line 90
   at Social.Application.AppServices.FilterAppService.Insert(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 81
   at Social.WebApi.Controllers.FilterController.PostFilter(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 74
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 17:38:07,181 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:38:07 PM +08:00

2017-08-15 17:38:07,183 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] IN (1, -2))
2017-08-15 17:38:07,183 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:38:07,183 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:38:07,183 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:38:07,183 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:38:07 PM +08:00

2017-08-15 17:38:07,186 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 17:38:07,186 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:38:07,189 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:38:07 PM +08:00

2017-08-15 17:38:07,189 [21] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:38:07 PM +08:00

2017-08-15 17:38:07,191 [21] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] IN (1, -2))
2017-08-15 17:38:07,191 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:38:07,191 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:38:07,191 [21] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:38:07,191 [21] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:38:07 PM +08:00

2017-08-15 17:38:07,194 [21] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 17:38:07,194 [21] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:38:07,195 [21] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:38:07 PM +08:00

2017-08-15 17:38:10,663 [21] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - FieldId '-2' not exists
Framework.Core.ExceptionWithCode: FieldId '-2' not exists
   at Social.Domain.FilterService.CheckFieldIdExist(List`1 filterConditons) in F:\social\social_20170728\Social\Social.Domain\DomainServices\FilterService.cs:line 90
   at Social.Application.AppServices.FilterAppService.Insert(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 81
   at Social.WebApi.Controllers.FilterController.PostFilter(FilterCreateDto createDto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 74
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 17:40:24,802 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 17:40:27,337 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 17:40:46,345 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:40:46 PM +08:00

2017-08-15 17:40:47,436 [10] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-15 17:40:47,436 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:40:47,439 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 17:40:47,439 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:40:47,439 [10] DEBUG Social.Domain.SiteDataContext - -- p0: '-1' (Type = Int32)

2017-08-15 17:40:47,439 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:40:47 PM +08:00

2017-08-15 17:40:47,497 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 55 ms with result: SqlDataReader

2017-08-15 17:40:47,497 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:40:47,505 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:40:47 PM +08:00

2017-08-15 17:40:50,219 [10] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Filter with id '-1' not exists.
Framework.Core.ExceptionWithCode: Filter with id '-1' not exists.
   at Social.Application.AppServices.FilterAppService.Delete(Int32 id) in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 96
   at Social.WebApi.Controllers.FilterController.DeleteFilter(Int32 id) in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 100
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 17:41:37,894 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:41:37 PM +08:00

2017-08-15 17:41:37,896 [13] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-15 17:41:37,896 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:41:37,896 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:41:37,896 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:41:37,896 [13] DEBUG Social.Domain.SiteDataContext - -- p0: '-1' (Type = Int32)

2017-08-15 17:41:37,896 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:41:37 PM +08:00

2017-08-15 17:41:37,899 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 17:41:37,899 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:41:37,899 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:41:37 PM +08:00

2017-08-15 17:41:40,441 [13] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Filter with id '-1' not exists.
Framework.Core.ExceptionWithCode: Filter with id '-1' not exists.
   at Social.Application.AppServices.FilterAppService.Update(Int32 id, FilterUpdateDto updateDto) in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 107
   at Social.WebApi.Controllers.FilterController.PutFilter(Int32 id, FilterUpdateDto createDto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 89
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 17:44:34,794 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 17:44:37,384 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 17:44:50,122 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:44:50 PM +08:00

2017-08-15 17:44:51,441 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[Index] AS [Index], 
    [Project1].[IfPublic] AS [IfPublic], 
    [Project1].[Type] AS [Type], 
    [Project1].[LogicalExpression] AS [LogicalExpression], 
    [Project1].[CreatedBy] AS [CreatedBy], 
    [Project1].[CreatedTime] AS [CreatedTime], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FilterId] AS [FilterId], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[MatchType] AS [MatchType], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index1] AS [Index1], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Index] AS [Index], 
        [Extent1].[IfPublic] AS [IfPublic], 
        [Extent1].[Type] AS [Type], 
        [Extent1].[LogicalExpression] AS [LogicalExpression], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FilterId] AS [FilterId], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[MatchType] AS [MatchType], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index1], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_Filter] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_FilterCondition] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FilterId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[IfPublic] = 1 OR [Extent1].[CreatedBy] = @p__linq__0)
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-08-15 17:44:51,441 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:51,444 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 17:44:51,444 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:44:51,444 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-08-15 17:44:51,444 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:44:51 PM +08:00

2017-08-15 17:44:51,817 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 371 ms with result: SqlDataReader

2017-08-15 17:44:51,817 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:51,938 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:44:51 PM +08:00

2017-08-15 17:44:51,990 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:44:51 PM +08:00

2017-08-15 17:44:52,034 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-08-15 17:44:52,034 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,034 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 17:44:52,034 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:44:52,034 [13] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '4' (Type = Int32, IsNullable = false)

2017-08-15 17:44:52,034 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,037 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 17:44:52,037 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,045 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,050 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,051 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-08-15 17:44:52,051 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,051 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 17:44:52,051 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:44:52,051 [13] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '2' (Type = Int32, IsNullable = false)

2017-08-15 17:44:52,051 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,054 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 17:44:52,054 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,054 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,067 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,143 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (4 <> [Extent1].[Status]) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-08-15 17:44:52,143 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,143 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-08-15 17:44:52,143 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,414 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 271 ms with result: SqlDataReader

2017-08-15 17:44:52,414 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,419 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,420 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,421 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-08-15 17:44:52,421 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,421 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-15 17:44:52,421 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:44:52,421 [13] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '3' (Type = Int32, IsNullable = false)

2017-08-15 17:44:52,421 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,428 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 17:44:52,428 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,429 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,430 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,432 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (4 <> [Extent1].[Status]) AND (([Extent1].[DepartmentId] = @p__linq__0) OR (([Extent1].[DepartmentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-08-15 17:44:52,432 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,432 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-08-15 17:44:52,432 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,437 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-15 17:44:52,437 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,438 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,438 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,446 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
        WHERE 1 = 0
    )  AS [GroupBy1]
2017-08-15 17:44:52,446 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,446 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,450 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 17:44:52,450 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,450 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,451 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,453 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (4 <> [Extent1].[Status])
    )  AS [GroupBy1]
2017-08-15 17:44:52,453 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,453 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,460 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 17:44:52,460 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,460 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,461 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,463 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL))) AND (([Extent1].[DepartmentId] = @p__linq__1) OR (([Extent1].[DepartmentId] IS NULL) AND (@p__linq__1 IS NULL)))
    )  AS [GroupBy1]
2017-08-15 17:44:52,463 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,463 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: 'null' (Type = Int32)

2017-08-15 17:44:52,463 [13] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'null' (Type = Int32)

2017-08-15 17:44:52,463 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,470 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 17:44:52,470 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,471 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,471 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,473 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead])
    )  AS [GroupBy1]
2017-08-15 17:44:52,473 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,473 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:44:52,475 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 17:44:52,476 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:44:52,476 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:44:52 PM +08:00

2017-08-15 17:45:19,767 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:45:19 PM +08:00

2017-08-15 17:45:19,789 [13] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-15 17:45:19,789 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:19,789 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:45:19,789 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:45:19,789 [13] DEBUG Social.Domain.SiteDataContext - -- p0: '1' (Type = Int32)

2017-08-15 17:45:19,790 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:45:19 PM +08:00

2017-08-15 17:45:19,792 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 17:45:19,792 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:19,792 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:45:19 PM +08:00

2017-08-15 17:45:19,795 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:45:19 PM +08:00

2017-08-15 17:45:19,805 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-08-15 17:45:19,806 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:19,806 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:45:19,806 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:45:19,806 [13] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1' (Type = Int32, IsNullable = false)

2017-08-15 17:45:19,806 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:45:19 PM +08:00

2017-08-15 17:45:19,808 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 17:45:19,808 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:19,809 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:45:19 PM +08:00

2017-08-15 17:45:19,849 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:45:19 PM +08:00

2017-08-15 17:45:19,858 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] IN (-1))
2017-08-15 17:45:19,858 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:19,858 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:45:19,858 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:45:19,858 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:45:19 PM +08:00

2017-08-15 17:45:19,861 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 17:45:19,861 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:19,861 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:45:19 PM +08:00

2017-08-15 17:45:24,556 [13] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - FieldId '-1' not exists
Framework.Core.ExceptionWithCode: FieldId '-1' not exists
   at Social.Domain.FilterService.CheckFieldIdExist(List`1 filterConditons) in F:\social\social_20170728\Social\Social.Domain\DomainServices\FilterService.cs:line 91
   at Social.Domain.FilterService.UpdateFilter(Filter filter, FilterCondition[] contiditons) in F:\social\social_20170728\Social\Social.Domain\DomainServices\FilterService.cs:line 61
   at Social.Application.AppServices.FilterAppService.Update(Int32 id, FilterUpdateDto updateDto) in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 112
   at Social.WebApi.Controllers.FilterController.PutFilter(Int32 id, FilterUpdateDto createDto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 89
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 17:45:49,352 [5] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:45:49 PM +08:00

2017-08-15 17:45:49,353 [5] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-15 17:45:49,353 [5] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:49,353 [5] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:45:49,353 [5] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:45:49,353 [5] DEBUG Social.Domain.SiteDataContext - -- p0: '1' (Type = Int32)

2017-08-15 17:45:49,353 [5] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:45:49 PM +08:00

2017-08-15 17:45:49,355 [5] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-15 17:45:49,355 [5] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:49,355 [5] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:45:49 PM +08:00

2017-08-15 17:45:49,355 [5] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:45:49 PM +08:00

2017-08-15 17:45:49,356 [5] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-08-15 17:45:49,356 [5] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:49,356 [5] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:45:49,356 [5] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:45:49,356 [5] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1' (Type = Int32, IsNullable = false)

2017-08-15 17:45:49,356 [5] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:45:49 PM +08:00

2017-08-15 17:45:49,357 [5] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-15 17:45:49,357 [5] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:49,358 [5] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:45:49 PM +08:00

2017-08-15 17:45:49,358 [5] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:45:49 PM +08:00

2017-08-15 17:45:49,360 [5] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] IN (-1))
2017-08-15 17:45:49,360 [5] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:49,360 [5] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:45:49,360 [5] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:45:49,360 [5] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:45:49 PM +08:00

2017-08-15 17:45:49,363 [5] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-15 17:45:49,363 [5] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:45:49,363 [5] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:45:49 PM +08:00

2017-08-15 17:45:52,597 [5] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - FieldId '-1' not exists
Framework.Core.ExceptionWithCode: FieldId '-1' not exists
   at Social.Domain.FilterService.CheckFieldIdExist(List`1 filterConditons) in F:\social\social_20170728\Social\Social.Domain\DomainServices\FilterService.cs:line 91
   at Social.Domain.FilterService.UpdateFilter(Filter filter, FilterCondition[] contiditons) in F:\social\social_20170728\Social\Social.Domain\DomainServices\FilterService.cs:line 61
   at Social.Application.AppServices.FilterAppService.Update(Int32 id, FilterUpdateDto updateDto) in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 112
   at Social.WebApi.Controllers.FilterController.PutFilter(Int32 id, FilterUpdateDto createDto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 89
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-15 17:46:05,502 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,502 [13] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-15 17:46:05,502 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,502 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:46:05,502 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:46:05,502 [13] DEBUG Social.Domain.SiteDataContext - -- p0: '1' (Type = Int32)

2017-08-15 17:46:05,502 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,506 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 17:46:05,506 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,506 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,506 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,507 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-08-15 17:46:05,507 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,507 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:46:05,507 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:46:05,507 [13] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1' (Type = Int32, IsNullable = false)

2017-08-15 17:46:05,507 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,514 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-15 17:46:05,515 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,516 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,517 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,519 [13] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] IN (1))
2017-08-15 17:46:05,519 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,519 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-15 17:46:05,519 [13] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-15 17:46:05,519 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,524 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-15 17:46:05,524 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,524 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,590 [13] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,723 [13] DEBUG Social.Domain.SiteDataContext - UPDATE [dbo].[t_Social_Filter]
SET [Name] = @0, [Index] = @1, [IfPublic] = @2, [Type] = @3, [LogicalExpression] = @4, [CreatedBy] = @5, [CreatedTime] = @6, [SiteId] = @7
WHERE ([Id] = @8)

2017-08-15 17:46:05,724 [13] DEBUG Social.Domain.SiteDataContext - -- @0: 'string' (Type = String, Size = 200)

2017-08-15 17:46:05,724 [13] DEBUG Social.Domain.SiteDataContext - -- @1: '0' (Type = Int32)

2017-08-15 17:46:05,724 [13] DEBUG Social.Domain.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-08-15 17:46:05,724 [13] DEBUG Social.Domain.SiteDataContext - -- @3: '0' (Type = Int16)

2017-08-15 17:46:05,724 [13] DEBUG Social.Domain.SiteDataContext - -- @4: 'string' (Type = String, Size = 200)

2017-08-15 17:46:05,724 [13] DEBUG Social.Domain.SiteDataContext - -- @5: '0' (Type = Int32)

2017-08-15 17:46:05,724 [13] DEBUG Social.Domain.SiteDataContext - -- @6: '8/14/2017 2:45:59 PM' (Type = DateTime2)

2017-08-15 17:46:05,724 [13] DEBUG Social.Domain.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-08-15 17:46:05,724 [13] DEBUG Social.Domain.SiteDataContext - -- @8: '1' (Type = Int32)

2017-08-15 17:46:05,724 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,740 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 14 ms with result: 1

2017-08-15 17:46:05,740 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,741 [13] DEBUG Social.Domain.SiteDataContext - DELETE [dbo].[t_Social_FilterCondition]
WHERE ([Id] = @0)
2017-08-15 17:46:05,741 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,741 [13] DEBUG Social.Domain.SiteDataContext - -- @0: '1' (Type = Int32)

2017-08-15 17:46:05,741 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,749 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: 1

2017-08-15 17:46:05,749 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,749 [13] DEBUG Social.Domain.SiteDataContext - DELETE [dbo].[t_Social_FilterCondition]
WHERE ([Id] = @0)
2017-08-15 17:46:05,749 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,749 [13] DEBUG Social.Domain.SiteDataContext - -- @0: '2' (Type = Int32)

2017-08-15 17:46:05,749 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,750 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: 1

2017-08-15 17:46:05,750 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,756 [13] DEBUG Social.Domain.SiteDataContext - INSERT [dbo].[t_Social_FilterCondition]([FilterId], [FieldId], [MatchType], [Value], [Index], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5)
SELECT [Id]
FROM [dbo].[t_Social_FilterCondition]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-08-15 17:46:05,756 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,756 [13] DEBUG Social.Domain.SiteDataContext - -- @0: '1' (Type = Int32)

2017-08-15 17:46:05,756 [13] DEBUG Social.Domain.SiteDataContext - -- @1: '1' (Type = Int32)

2017-08-15 17:46:05,756 [13] DEBUG Social.Domain.SiteDataContext - -- @2: '1' (Type = Int16)

2017-08-15 17:46:05,756 [13] DEBUG Social.Domain.SiteDataContext - -- @3: 'string' (Type = String, Size = 200)

2017-08-15 17:46:05,756 [13] DEBUG Social.Domain.SiteDataContext - -- @4: '0' (Type = Int32)

2017-08-15 17:46:05,756 [13] DEBUG Social.Domain.SiteDataContext - -- @5: '10000' (Type = Int32)

2017-08-15 17:46:05,756 [13] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/15/2017 5:46:05 PM +08:00

2017-08-15 17:46:05,760 [13] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-15 17:46:05,760 [13] DEBUG Social.Domain.SiteDataContext - 

2017-08-15 17:46:05,768 [13] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/15/2017 5:46:05 PM +08:00

2017-08-15 18:06:29,169 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 18:06:30,018 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-15 18:08:23,433 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-15 18:08:25,482 [1] INFO  System.Web.HttpApplication - Application started...
