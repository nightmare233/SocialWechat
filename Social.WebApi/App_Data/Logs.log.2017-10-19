2017-10-19 15:24:14,676 [1] INFO  System.Web.HttpApplication - Application starting...
2017-10-19 15:24:17,620 [1] INFO  System.Web.HttpApplication - Application started...
2017-10-19 15:24:47,104 [14] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:24:47 PM +08:00

2017-10-19 15:24:48,073 [14] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:24:48,073 [14] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:24:48,076 [14] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 15:24:48,076 [14] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:24:48 PM +08:00

2017-10-19 15:24:48,199 [14] DEBUG Social.Domain.Core.SiteDataContext - -- Failed in 118 ms with error: Invalid object name 'dbo.t_LiveChat_Config'.

2017-10-19 15:24:48,199 [14] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:24:48,209 [14] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:24:48 PM +08:00

2017-10-19 15:26:11,234 [1] INFO  System.Web.HttpApplication - Application starting...
2017-10-19 15:26:13,758 [1] INFO  System.Web.HttpApplication - Application started...
2017-10-19 15:26:34,263 [12] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Site id is required.
Framework.Core.ExceptionWithCode: Site id is required.
   at Framework.WebApi.HttpRequestMessageExtensions.CheckSiteId(HttpRequestMessage request) in F:\social\social_20170728\Social\Framework\Framework.WebApi\HttpRequestMessageExtensions.cs:line 30
   at Framework.WebApi.SiteIdRequiredAttribute.<>c__DisplayClass0_0.<OnAuthorizationAsync>b__0() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\SiteIdRequiredAttribute.cs:line 21
   at System.Threading.Tasks.Task.InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-10-19 15:26:46,784 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:26:46 PM +08:00

2017-10-19 15:26:47,802 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:26:47,802 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:47,805 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 15:26:47,806 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:26:47 PM +08:00

2017-10-19 15:26:47,909 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 100 ms with result: SqlDataReader

2017-10-19 15:26:47,909 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:47,985 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:26:47 PM +08:00

2017-10-19 15:26:48,750 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:26:48 PM +08:00

2017-10-19 15:26:49,064 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name] AS [Name], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index] AS [Index], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[IfSystem] AS [IfSystem], 
        [Extent1].[DataType] AS [DataType], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[Name] AS [Name1], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_ConversationField] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_ConversationFieldOption] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FieldId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE ([Extent1].[SiteId] = @DynamicFilterParam_000001) 
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-10-19 15:26:49,064 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,064 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 15:26:49,064 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:26:49,064 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,146 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 81 ms with result: SqlDataReader

2017-10-19 15:26:49,146 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,229 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,234 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,254 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfAdmin] AS [IfAdmin]
    FROM [dbo].[t_User100014500] AS [Extent1]
    WHERE (1 = [Extent1].[UserType]) AND ([Extent1].[IfActive] = 1) AND (0 = [Extent1].[IfDeleted])
2017-10-19 15:26:49,254 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,254 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,330 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 75 ms with result: SqlDataReader

2017-10-19 15:26:49,330 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,332 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,349 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,365 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[IfVisible] AS [IfVisible], 
    [Extent1].[IfDeleted] AS [IfDeleted], 
    [Extent1].[OrderId] AS [OrderId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_LiveChat_CustomAwayStatus] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SiteId] = @p__linq__0) AND (0 = [Extent1].[IfDeleted])
2017-10-19 15:26:49,365 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,365 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 15:26:49,365 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:26:49,365 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 15:26:49,365 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,444 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 78 ms with result: SqlDataReader

2017-10-19 15:26:49,444 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,450 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,526 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,527 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:26:49,527 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,527 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 15:26:49,527 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,603 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 75 ms with result: SqlDataReader

2017-10-19 15:26:49,603 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,603 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,692 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,726 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[BackupDepartmentId] AS [BackupDepartmentId], 
    [Extent1].[IfDeleted] AS [IfDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_LiveChat_Department] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IfDeleted])
2017-10-19 15:26:49,726 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,726 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 15:26:49,726 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:26:49,727 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,803 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 76 ms with result: SqlDataReader

2017-10-19 15:26:49,803 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,819 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,834 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,864 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[Type])
2017-10-19 15:26:49,864 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,864 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 15:26:49,864 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:26:49,864 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:26:49,942 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 78 ms with result: SqlDataReader

2017-10-19 15:26:49,942 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:26:49,951 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:26:49 PM +08:00

2017-10-19 15:28:01,700 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:28:01 PM +08:00

2017-10-19 15:28:01,700 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:28:01,700 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:01,700 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:28:01,700 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:28:01 PM +08:00

2017-10-19 15:28:01,774 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 73 ms with result: SqlDataReader

2017-10-19 15:28:01,774 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:01,774 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:28:01 PM +08:00

2017-10-19 15:28:01,926 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:28:01 PM +08:00

2017-10-19 15:28:01,962 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name] AS [Name], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index] AS [Index], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[IfSystem] AS [IfSystem], 
        [Extent1].[DataType] AS [DataType], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[Name] AS [Name1], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_ConversationField] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_ConversationFieldOption] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FieldId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ( NOT ([Extent1].[Name] LIKE N'%Department%'))
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-10-19 15:28:01,962 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:01,962 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014504' (Type = Int32)

2017-10-19 15:28:01,962 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:28:01,962 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:28:01 PM +08:00

2017-10-19 15:28:02,047 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 85 ms with result: SqlDataReader

2017-10-19 15:28:02,047 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:02,048 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,049 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,051 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfAdmin] AS [IfAdmin]
    FROM [dbo].[t_User100014504] AS [Extent1]
    WHERE (1 = [Extent1].[UserType]) AND ([Extent1].[IfActive] = 1) AND (0 = [Extent1].[IfDeleted])
2017-10-19 15:28:02,051 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:02,051 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,128 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 77 ms with result: SqlDataReader

2017-10-19 15:28:02,128 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:02,128 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,129 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,130 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[IfVisible] AS [IfVisible], 
    [Extent1].[IfDeleted] AS [IfDeleted], 
    [Extent1].[OrderId] AS [OrderId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_LiveChat_CustomAwayStatus] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SiteId] = @p__linq__0) AND (0 = [Extent1].[IfDeleted])
2017-10-19 15:28:02,130 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:02,130 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014504' (Type = Int32)

2017-10-19 15:28:02,130 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:28:02,130 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:28:02,130 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,206 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 75 ms with result: SqlDataReader

2017-10-19 15:28:02,206 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:02,207 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,281 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,281 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:28:02,281 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:02,281 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:28:02,281 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,356 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 74 ms with result: SqlDataReader

2017-10-19 15:28:02,356 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:02,356 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,434 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,435 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[Type])
2017-10-19 15:28:02,435 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:02,435 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014504' (Type = Int32)

2017-10-19 15:28:02,435 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:28:02,435 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:28:02,512 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 76 ms with result: SqlDataReader

2017-10-19 15:28:02,512 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:28:02,512 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:28:02 PM +08:00

2017-10-19 15:35:53,682 [1] INFO  System.Web.HttpApplication - Application starting...
2017-10-19 15:35:56,210 [1] INFO  System.Web.HttpApplication - Application started...
2017-10-19 15:36:13,437 [11] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:36:13 PM +08:00

2017-10-19 15:36:14,519 [11] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:36:14,520 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:36:14,523 [11] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:36:14,523 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:36:14 PM +08:00

2017-10-19 15:36:14,643 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 115 ms with result: SqlDataReader

2017-10-19 15:36:14,643 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:36:14,729 [11] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:36:14 PM +08:00

2017-10-19 15:36:15,536 [11] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:36:15 PM +08:00

2017-10-19 15:36:15,849 [11] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name] AS [Name], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index] AS [Index], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[IfSystem] AS [IfSystem], 
        [Extent1].[DataType] AS [DataType], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[Name] AS [Name1], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_ConversationField] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_ConversationFieldOption] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FieldId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE ([Extent1].[SiteId] = @DynamicFilterParam_000001) 
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-10-19 15:36:15,849 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:36:15,849 [11] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014504' (Type = Int32)

2017-10-19 15:36:15,849 [11] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:36:15,849 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:36:15 PM +08:00

2017-10-19 15:36:15,932 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 83 ms with result: SqlDataReader

2017-10-19 15:36:15,933 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:36:16,015 [11] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:36:16 PM +08:00

2017-10-19 15:36:16,021 [11] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:36:16 PM +08:00

2017-10-19 15:36:16,035 [11] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[BackupDepartmentId] AS [BackupDepartmentId], 
    [Extent1].[IfDeleted] AS [IfDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_LiveChat_Department] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IfDeleted])
2017-10-19 15:36:16,035 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:36:16,035 [11] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014504' (Type = Int32)

2017-10-19 15:36:16,035 [11] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:36:16,035 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:36:16 PM +08:00

2017-10-19 15:36:16,114 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 77 ms with result: SqlDataReader

2017-10-19 15:36:16,114 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:36:16,114 [11] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:36:16 PM +08:00

2017-10-19 15:37:00,111 [1] INFO  System.Web.HttpApplication - Application starting...
2017-10-19 15:37:02,612 [1] INFO  System.Web.HttpApplication - Application started...
2017-10-19 15:37:25,964 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:37:25 PM +08:00

2017-10-19 15:37:26,895 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:37:26,895 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:26,898 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:37:26,898 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:37:26 PM +08:00

2017-10-19 15:37:27,004 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 102 ms with result: SqlDataReader

2017-10-19 15:37:27,005 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:27,090 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:37:27 PM +08:00

2017-10-19 15:37:27,860 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:37:27 PM +08:00

2017-10-19 15:37:28,134 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name] AS [Name], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index] AS [Index], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[IfSystem] AS [IfSystem], 
        [Extent1].[DataType] AS [DataType], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[Name] AS [Name1], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_ConversationField] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_ConversationFieldOption] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FieldId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE ([Extent1].[SiteId] = @DynamicFilterParam_000001) 
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-10-19 15:37:28,134 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:28,134 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014504' (Type = Int32)

2017-10-19 15:37:28,134 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:37:28,134 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,215 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 81 ms with result: SqlDataReader

2017-10-19 15:37:28,215 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:28,264 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,269 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,291 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfAdmin] AS [IfAdmin]
    FROM [dbo].[t_User100014504] AS [Extent1]
    WHERE (1 = [Extent1].[UserType]) AND ([Extent1].[IfActive] = 1) AND (0 = [Extent1].[IfDeleted])
2017-10-19 15:37:28,291 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:28,291 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,368 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 77 ms with result: SqlDataReader

2017-10-19 15:37:28,368 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:28,369 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,375 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,383 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[IfVisible] AS [IfVisible], 
    [Extent1].[IfDeleted] AS [IfDeleted], 
    [Extent1].[OrderId] AS [OrderId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_LiveChat_CustomAwayStatus] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SiteId] = @p__linq__0) AND (0 = [Extent1].[IfDeleted])
2017-10-19 15:37:28,383 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:28,383 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014504' (Type = Int32)

2017-10-19 15:37:28,383 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:37:28,383 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:37:28,383 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,460 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 76 ms with result: SqlDataReader

2017-10-19 15:37:28,460 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:28,463 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,540 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,543 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:37:28,543 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:28,543 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:37:28,543 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,621 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 77 ms with result: SqlDataReader

2017-10-19 15:37:28,621 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:28,621 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,703 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,726 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[Type])
2017-10-19 15:37:28,726 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:28,726 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014504' (Type = Int32)

2017-10-19 15:37:28,726 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:37:28,726 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:37:28,804 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 78 ms with result: SqlDataReader

2017-10-19 15:37:28,805 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:37:28,805 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:37:28 PM +08:00

2017-10-19 15:45:16,873 [1] INFO  System.Web.HttpApplication - Application starting...
2017-10-19 15:45:19,443 [1] INFO  System.Web.HttpApplication - Application started...
2017-10-19 15:45:33,862 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:45:33 PM +08:00

2017-10-19 15:45:35,087 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name] AS [Name], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index] AS [Index], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[IfSystem] AS [IfSystem], 
        [Extent1].[DataType] AS [DataType], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[Name] AS [Name1], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_ConversationField] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_ConversationFieldOption] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FieldId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE ([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-10-19 15:45:35,088 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:35,091 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-10-19 15:45:35,091 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:45:35,091 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:45:35 PM +08:00

2017-10-19 15:45:35,218 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 124 ms with result: SqlDataReader

2017-10-19 15:45:35,218 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:35,314 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:45:35 PM +08:00

2017-10-19 15:45:35,902 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:45:35 PM +08:00

2017-10-19 15:45:35,951 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:45:35,951 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:35,951 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:45:35,951 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:45:35 PM +08:00

2017-10-19 15:45:36,041 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 89 ms with result: SqlDataReader

2017-10-19 15:45:36,041 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:36,094 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:36,268 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:36,295 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfAdmin] AS [IfAdmin]
    FROM [dbo].[t_User100014504] AS [Extent1]
    WHERE (1 = [Extent1].[UserType]) AND ([Extent1].[IfActive] = 1) AND (0 = [Extent1].[IfDeleted])
2017-10-19 15:45:36,295 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:36,295 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:36,386 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 15:45:36,387 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:36,389 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:36,493 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:36,496 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:45:36,496 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:36,496 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:45:36,496 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:36,587 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 15:45:36,587 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:36,588 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:36,772 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:36,773 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:45:36,773 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:36,773 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:45:36,773 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:36,863 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 89 ms with result: SqlDataReader

2017-10-19 15:45:36,863 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:36,864 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:36,959 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:36,971 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[IfVisible] AS [IfVisible], 
    [Extent1].[IfDeleted] AS [IfDeleted], 
    [Extent1].[OrderId] AS [OrderId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_LiveChat_CustomAwayStatus] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SiteId] = @p__linq__0) AND (0 = [Extent1].[IfDeleted])
2017-10-19 15:45:36,972 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:36,972 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-10-19 15:45:36,972 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:45:36,972 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:45:36,972 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:45:36 PM +08:00

2017-10-19 15:45:37,063 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 15:45:37,063 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:37,068 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:45:37 PM +08:00

2017-10-19 15:45:37,159 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:45:37 PM +08:00

2017-10-19 15:45:37,160 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 15:45:37,160 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:37,160 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014504' (Type = Int32, IsNullable = false)

2017-10-19 15:45:37,160 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:45:37 PM +08:00

2017-10-19 15:45:37,251 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 15:45:37,251 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:37,251 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:45:37 PM +08:00

2017-10-19 15:45:37,358 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 3:45:37 PM +08:00

2017-10-19 15:45:37,386 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[Type])
2017-10-19 15:45:37,386 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:37,386 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-10-19 15:45:37,386 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 15:45:37,386 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 3:45:37 PM +08:00

2017-10-19 15:45:37,480 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 15:45:37,480 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 15:45:37,480 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 3:45:37 PM +08:00

2017-10-19 18:19:28,092 [1] INFO  System.Web.HttpApplication - Application starting...
2017-10-19 18:19:30,569 [1] INFO  System.Web.HttpApplication - Application started...
2017-10-19 18:20:18,629 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:18 PM +08:00

2017-10-19 18:20:19,931 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[Index] AS [Index], 
    [Project1].[IfPublic] AS [IfPublic], 
    [Project1].[Type] AS [Type], 
    [Project1].[LogicalExpression] AS [LogicalExpression], 
    [Project1].[CreatedBy] AS [CreatedBy], 
    [Project1].[CreatedTime] AS [CreatedTime], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FilterId] AS [FilterId], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[MatchType] AS [MatchType], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index1] AS [Index1], 
    [Project1].[SiteId1] AS [SiteId1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[SiteId2] AS [SiteId2]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Index] AS [Index], 
        [Extent1].[IfPublic] AS [IfPublic], 
        [Extent1].[Type] AS [Type], 
        [Extent1].[LogicalExpression] AS [LogicalExpression], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[SiteId] AS [SiteId], 
        [Join1].[Id1] AS [Id1], 
        [Join1].[FilterId] AS [FilterId], 
        [Join1].[FieldId] AS [FieldId], 
        [Join1].[MatchType] AS [MatchType], 
        [Join1].[Value] AS [Value], 
        [Join1].[Index] AS [Index1], 
        [Join1].[SiteId1] AS [SiteId1], 
        [Join1].[Id2] AS [Id2], 
        [Join1].[IfSystem] AS [IfSystem], 
        [Join1].[DataType] AS [DataType], 
        [Join1].[Name] AS [Name1], 
        [Join1].[SiteId2] AS [SiteId2], 
        CASE WHEN ([Join1].[Id1] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_Filter] AS [Extent1]
        LEFT OUTER JOIN  (SELECT [Extent2].[Id] AS [Id1], [Extent2].[FilterId] AS [FilterId], [Extent2].[FieldId] AS [FieldId], [Extent2].[MatchType] AS [MatchType], [Extent2].[Value] AS [Value], [Extent2].[Index] AS [Index], [Extent2].[SiteId] AS [SiteId1], [Extent3].[Id] AS [Id2], [Extent3].[IfSystem] AS [IfSystem], [Extent3].[DataType] AS [DataType], [Extent3].[Name] AS [Name], [Extent3].[SiteId] AS [SiteId2]
            FROM  [dbo].[t_Social_FilterCondition] AS [Extent2]
            LEFT OUTER JOIN [dbo].[t_Social_ConversationField] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent2].[FieldId] = [Extent3].[Id]) ) AS [Join1] ON ([Extent1].[Id] = [Join1].[FilterId]) AND (([Join1].[SiteId1] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[IfPublic] = 1 OR [Extent1].[CreatedBy] = @p__linq__0)
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-10-19 18:20:19,931 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:19,934 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-10-19 18:20:19,934 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:20:19,934 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:20:19,934 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:19 PM +08:00

2017-10-19 18:20:20,150 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 214 ms with result: SqlDataReader

2017-10-19 18:20:20,150 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,290 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,343 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,413 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (4 <> [Extent1].[Status]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:20,414 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,414 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-10-19 18:20:20,414 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,511 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 97 ms with result: SqlDataReader

2017-10-19 18:20:20,511 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,515 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,522 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,533 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_LiveChat_Department] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IfDeleted]) AND ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_LiveChat_DepartmentMember] AS [Extent2]
        WHERE ([Extent1].[Id] = [Extent2].[DepartmentId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent2].[RelatedId] = @p__linq__0) AND (0 = [Extent2].[Type])
    ))
2017-10-19 18:20:20,533 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,533 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-10-19 18:20:20,533 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:20:20,533 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:20:20,534 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,625 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:20:20,625 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,626 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,628 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,655 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
        WHERE 1 = 0
    )  AS [GroupBy1]
2017-10-19 18:20:20,655 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,656 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,746 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:20:20,746 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,746 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,754 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,786 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Distinct1].[RelatedId] AS [RelatedId]
    FROM ( SELECT DISTINCT 
        [Extent2].[RelatedId] AS [RelatedId]
        FROM  [dbo].[t_LiveChat_Department] AS [Extent1]
        INNER JOIN [dbo].[t_LiveChat_DepartmentMember] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[DepartmentId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IfDeleted]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_LiveChat_DepartmentMember] AS [Extent3]
            WHERE ([Extent1].[Id] = [Extent3].[DepartmentId]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent3].[RelatedId] = @p__linq__0) AND (0 = [Extent3].[Type])
        )) AND ([Extent2].[RelatedId] <> @p__linq__1)
    )  AS [Distinct1]
2017-10-19 18:20:20,786 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,786 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-10-19 18:20:20,786 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:20:20,786 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:20:20,786 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:20:20,786 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,880 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:20:20,880 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,880 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,884 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,902 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
        WHERE 1 = 0
    )  AS [GroupBy1]
2017-10-19 18:20:20,902 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,902 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,993 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:20:20,993 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,993 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,994 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:20,998 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (4 <> [Extent1].[Status])
    )  AS [GroupBy1]
2017-10-19 18:20:20,998 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:20,998 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:20 PM +08:00

2017-10-19 18:20:21,091 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:20:21,091 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,091 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,092 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,093 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NULL) AND ([Extent1].[DepartmentId] IS NULL)
    )  AS [GroupBy1]
2017-10-19 18:20:21,094 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,094 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,188 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:20:21,188 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,188 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,188 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,189 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead])
    )  AS [GroupBy1]
2017-10-19 18:20:21,189 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,189 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,282 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:20:21,282 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,282 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,287 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,316 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy2].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM ( SELECT 
            (SELECT 
                COUNT(1) AS [A1]
                FROM [dbo].[t_Social_Message100014500] AS [Extent2]
                WHERE [Extent1].[Id] = [Extent2].[ConversationId]) AS [C1]
            FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead])
        )  AS [Project1]
        WHERE [Project1].[C1] = @p__linq__0
    )  AS [GroupBy2]
2017-10-19 18:20:21,316 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,317 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:20:21,317 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,414 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 96 ms with result: SqlDataReader

2017-10-19 18:20:21,414 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,414 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,418 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,433 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND ([Extent2].[Content] IS NOT NULL) AND (([Extent2].[Content] = @p__linq__0) OR (([Extent2].[Content] IS NULL) AND (@p__linq__0 IS NULL)))
        ))
    )  AS [GroupBy1]
2017-10-19 18:20:21,433 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,433 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: 'vico' (Type = String, Size = 4000)

2017-10-19 18:20:21,433 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,534 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 99 ms with result: SqlDataReader

2017-10-19 18:20:21,534 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,534 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,535 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,562 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( CAST( DATEDIFF (minute, [Extent1].[LastMessageSentTime], SysDateTime()) AS float) = @p__linq__0)
    )  AS [GroupBy1]
2017-10-19 18:20:21,562 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,562 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '35' (Type = Double, IsNullable = false)

2017-10-19 18:20:21,562 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,656 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:20:21,657 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,657 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,661 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,688 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND ([Extent2].[Content] IS NOT NULL) AND ([Extent2].[Content] LIKE @p__linq__0 ESCAPE N'~')
        ))
    )  AS [GroupBy1]
2017-10-19 18:20:21,688 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,688 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '%??%' (Type = String, Size = 4000)

2017-10-19 18:20:21,688 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,796 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 107 ms with result: SqlDataReader

2017-10-19 18:20:21,796 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,797 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,800 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,804 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (((DATEPART (year, [Extent1].[CreatedTime])) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month, [Extent1].[CreatedTime])) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day, [Extent1].[CreatedTime])) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:21,804 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,804 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:21,804 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:21,804 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:21,804 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,902 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 97 ms with result: SqlDataReader

2017-10-19 18:20:21,902 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,902 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,903 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:21,908 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (3 = [Extent1].[Status])
    )  AS [GroupBy1]
2017-10-19 18:20:21,908 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:21,908 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:21 PM +08:00

2017-10-19 18:20:22,002 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 95 ms with result: SqlDataReader

2017-10-19 18:20:22,003 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,003 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,003 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,006 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[DepartmentId] IS NOT NULL) AND ([Extent1].[DepartmentId] = @p__linq__0)
    )  AS [GroupBy1]
2017-10-19 18:20:22,006 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,006 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:20:22,006 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,099 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:20:22,099 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,099 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,100 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,102 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
        WHERE 1 = 0
    )  AS [GroupBy1]
2017-10-19 18:20:22,102 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,102 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,194 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:20:22,194 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,194 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,195 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,197 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (((DATEPART (year, [Extent1].[LastMessageSentTime])) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month, [Extent1].[LastMessageSentTime])) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day, [Extent1].[LastMessageSentTime])) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:22,197 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,197 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:22,197 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:22,197 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:22,197 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,295 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 97 ms with result: SqlDataReader

2017-10-19 18:20:22,295 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,295 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,302 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,308 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[LastRepliedAgentId] IS NOT NULL) AND (([Extent1].[LastRepliedAgentId] = @p__linq__0) OR (([Extent1].[LastRepliedAgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:22,308 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,308 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '4' (Type = Int32)

2017-10-19 18:20:22,308 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,402 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:20:22,402 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,402 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,403 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,404 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (2 = [Extent1].[Priority])
    )  AS [GroupBy1]
2017-10-19 18:20:22,404 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,404 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,499 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 95 ms with result: SqlDataReader

2017-10-19 18:20:22,499 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,499 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,500 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,501 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:22,501 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,501 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '4' (Type = Int32)

2017-10-19 18:20:22,501 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,595 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:20:22,595 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,595 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,724 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,725 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (1 = [Extent1].[Source]) AND (1 <> [Extent1].[Source])
    )  AS [GroupBy1]
2017-10-19 18:20:22,725 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,725 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,819 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:20:22,819 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,819 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,819 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,822 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (4 = [Extent1].[Source])
    )  AS [GroupBy1]
2017-10-19 18:20:22,822 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,916 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:20:22,916 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,916 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,921 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:22,976 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM  [dbo].[t_Social_Message100014500] AS [Extent2]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON ([Extent2].[SenderId] = [Extent3].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND (([Extent3].[Name] = @p__linq__0) OR (([Extent3].[Name] IS NULL) AND (@p__linq__0 IS NULL)) OR (([Extent3].[Email] IS NOT NULL) AND (([Extent3].[Email] = @p__linq__1) OR (([Extent3].[Email] IS NULL) AND (@p__linq__1 IS NULL)))))
        ))
    )  AS [GroupBy1]
2017-10-19 18:20:22,976 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:22,976 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-10-19 18:20:22,976 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:20:22,976 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '???' (Type = String, Size = 4000)

2017-10-19 18:20:22,976 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '???' (Type = String, Size = 4000)

2017-10-19 18:20:22,976 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:22 PM +08:00

2017-10-19 18:20:23,087 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 110 ms with result: SqlDataReader

2017-10-19 18:20:23,087 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,087 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,089 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,091 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND (([Extent2].[SenderId] = @p__linq__0) OR (([Extent2].[ReceiverId] IS NOT NULL) AND ([Extent2].[ReceiverId] = @p__linq__1)))
        ))
    )  AS [GroupBy1]
2017-10-19 18:20:23,092 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,092 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:20:23,092 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:20:23,092 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,205 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 113 ms with result: SqlDataReader

2017-10-19 18:20:23,205 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,206 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,283 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,284 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead])
    )  AS [GroupBy1]
2017-10-19 18:20:23,284 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,284 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,373 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 89 ms with result: SqlDataReader

2017-10-19 18:20:23,373 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,373 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,379 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,384 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND ([Extent2].[SendAgentId] IS NOT NULL) AND (([Extent2].[SendAgentId] = @p__linq__0) OR (([Extent2].[SendAgentId] IS NULL) AND (@p__linq__0 IS NULL)))
        ))
    )  AS [GroupBy1]
2017-10-19 18:20:23,384 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,385 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '2' (Type = Int32)

2017-10-19 18:20:23,385 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,486 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 100 ms with result: SqlDataReader

2017-10-19 18:20:23,486 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,486 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,488 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,490 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[ModifiedTime] IS NOT NULL) AND (((DATEPART (year,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:23,490 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,490 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:23,490 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:23,490 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:23,490 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,589 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 99 ms with result: SqlDataReader

2017-10-19 18:20:23,589 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,589 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,592 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,602 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[t_Social_Conversation100014500] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[LastMessageSenderId] = [Extent2].[Id])
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent2].[Name] LIKE @p__linq__0 ESCAPE N'~')
    )  AS [GroupBy1]
2017-10-19 18:20:23,602 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,602 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-10-19 18:20:23,602 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:20:23,602 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '%vico%' (Type = String, Size = 4000)

2017-10-19 18:20:23,602 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,701 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 99 ms with result: SqlDataReader

2017-10-19 18:20:23,701 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,701 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,702 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,704 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (((DATEPART (year, [Extent1].[LastMessageSentTime])) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month, [Extent1].[LastMessageSentTime])) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day, [Extent1].[LastMessageSentTime])) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:23,704 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,704 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:23,704 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:23,704 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:23,704 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,795 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:20:23,796 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,796 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,796 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,798 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (((DATEPART (year, [Extent1].[CreatedTime])) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month, [Extent1].[CreatedTime])) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day, [Extent1].[CreatedTime])) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:23,798 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,798 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:23,798 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:23,798 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:23,798 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,891 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:20:23,891 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,891 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,893 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,902 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[t_Social_Conversation100014500] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[LastMessageSenderId] = [Extent2].[Id])
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (([Extent2].[Name] = @p__linq__0) OR (([Extent2].[Name] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:23,902 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,902 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-10-19 18:20:23,902 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:20:23,902 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: 'vico' (Type = String, Size = 4000)

2017-10-19 18:20:23,902 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:23,999 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 96 ms with result: SqlDataReader

2017-10-19 18:20:23,999 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:23,999 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:23 PM +08:00

2017-10-19 18:20:24,000 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,000 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[LastRepliedAgentId] IS NOT NULL) AND (([Extent1].[LastRepliedAgentId] = @p__linq__0) OR (([Extent1].[LastRepliedAgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:24,001 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,001 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '2' (Type = Int32)

2017-10-19 18:20:24,001 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,090 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:20:24,090 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,090 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,091 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,091 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (2 = [Extent1].[Priority])
    )  AS [GroupBy1]
2017-10-19 18:20:24,091 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,091 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,182 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 89 ms with result: SqlDataReader

2017-10-19 18:20:24,182 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,182 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,183 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,184 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[ModifiedTime] IS NOT NULL) AND (((DATEPART (year,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:24,184 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,184 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:24,184 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:24,184 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:24,184 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,275 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:20:24,275 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,275 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,276 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,280 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
        WHERE 1 = 0
    )  AS [GroupBy1]
2017-10-19 18:20:24,280 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,280 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,370 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:20:24,370 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,370 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,371 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,373 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:24,373 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,373 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '7' (Type = Int32)

2017-10-19 18:20:24,373 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,466 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:20:24,467 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,467 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,468 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,469 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:24,469 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,469 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '7' (Type = Int32)

2017-10-19 18:20:24,469 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,559 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:20:24,559 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,559 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,567 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,578 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND (([Extent2].[SenderId] = @p__linq__0) OR (([Extent2].[ReceiverId] IS NOT NULL) AND ([Extent2].[ReceiverId] = @p__linq__1)))
        )) OR ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent3]
            WHERE ([Extent1].[Id] = [Extent3].[ConversationId]) AND (([Extent3].[SenderId] = @p__linq__2) OR (([Extent3].[ReceiverId] IS NOT NULL) AND ([Extent3].[ReceiverId] = @p__linq__3)))
        )) OR (([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__4) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__4 IS NULL)))))
    )  AS [GroupBy1]
2017-10-19 18:20:24,578 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,578 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '4' (Type = Int32, IsNullable = false)

2017-10-19 18:20:24,578 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '4' (Type = Int32, IsNullable = false)

2017-10-19 18:20:24,578 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '80' (Type = Int32, IsNullable = false)

2017-10-19 18:20:24,578 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__3: '80' (Type = Int32, IsNullable = false)

2017-10-19 18:20:24,579 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__4: '3' (Type = Int32)

2017-10-19 18:20:24,579 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,686 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 107 ms with result: SqlDataReader

2017-10-19 18:20:24,687 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,687 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,687 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,689 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (2 = [Extent1].[Source])
    )  AS [GroupBy1]
2017-10-19 18:20:24,689 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,689 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,783 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:20:24,783 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,784 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,784 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,784 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:24,785 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,785 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-10-19 18:20:24,785 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,876 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:20:24,876 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,877 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,877 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,878 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:24,878 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,878 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-10-19 18:20:24,878 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,969 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:20:24,969 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,969 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,969 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:24,970 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead])
    )  AS [GroupBy1]
2017-10-19 18:20:24,970 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:24,970 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:24 PM +08:00

2017-10-19 18:20:25,066 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 95 ms with result: SqlDataReader

2017-10-19 18:20:25,066 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,067 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,076 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,080 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[CreatedTime] >= @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1)
    )  AS [GroupBy1]
2017-10-19 18:20:25,080 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,081 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '8/29/2017 5:08:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:25,081 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/28/2017 10:08:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:25,081 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,175 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:20:25,175 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,175 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,175 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,176 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (((DATEPART (year, [Extent1].[CreatedTime])) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month, [Extent1].[CreatedTime])) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day, [Extent1].[CreatedTime])) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:20:25,176 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,176 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '8/30/2017 4:10:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:25,176 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '8/30/2017 4:10:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:25,176 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '8/30/2017 4:10:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:25,176 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,273 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 96 ms with result: SqlDataReader

2017-10-19 18:20:25,273 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,273 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,273 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,274 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[CreatedTime] >= @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1)
    )  AS [GroupBy1]
2017-10-19 18:20:25,274 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,274 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '8/28/2017 4:10:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:25,274 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/4/2017 5:12:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:25,274 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,364 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:20:25,364 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,364 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,364 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,365 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (1 = [Extent1].[Source])
    )  AS [GroupBy1]
2017-10-19 18:20:25,365 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,367 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,459 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:20:25,459 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,460 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,464 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,475 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ((([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))) OR ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND ((([Extent2].[Content] IS NOT NULL) AND ( NOT (([Extent2].[Content] = @p__linq__1) AND ((CASE WHEN ([Extent2].[Content] IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END) = (CASE WHEN (@p__linq__1 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END))))) OR ([Extent2].[Content] IS NULL))
        )))
    )  AS [GroupBy1]
2017-10-19 18:20:25,475 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,476 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '3' (Type = Int32)

2017-10-19 18:20:25,476 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '22' (Type = String, Size = 4000)

2017-10-19 18:20:25,476 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,577 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 100 ms with result: SqlDataReader

2017-10-19 18:20:25,577 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,577 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,578 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,581 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ((([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))) OR ((((DATEPART (year, [Extent1].[CreatedTime])) = (DATEPART (year, @p__linq__1))) OR ((DATEPART (year, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (year, @p__linq__1) IS NULL))) AND (((DATEPART (month, [Extent1].[CreatedTime])) = (DATEPART (month, @p__linq__2))) OR ((DATEPART (month, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (month, @p__linq__2) IS NULL))) AND (((DATEPART (day, [Extent1].[CreatedTime])) = (DATEPART (day, @p__linq__3))) OR ((DATEPART (day, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (day, @p__linq__3) IS NULL)))))
    )  AS [GroupBy1]
2017-10-19 18:20:25,581 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,581 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-10-19 18:20:25,581 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:25,581 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:25,581 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__3: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:20:25,581 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,681 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 99 ms with result: SqlDataReader

2017-10-19 18:20:25,681 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,681 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,709 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,755 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfAdmin] AS [IfAdmin]
    FROM [dbo].[t_User100014500] AS [Extent1]
    WHERE (1 = [Extent1].[UserType]) AND ([Extent1].[IfActive] = 1) AND (0 = [Extent1].[IfDeleted])
2017-10-19 18:20:25,755 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,755 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:20:25,844 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:20:25,845 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:20:25,846 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:20:25 PM +08:00

2017-10-19 18:21:02,162 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:02 PM +08:00

2017-10-19 18:21:02,163 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfAdmin] AS [IfAdmin]
    FROM [dbo].[t_User100014500] AS [Extent1]
    WHERE (1 = [Extent1].[UserType]) AND ([Extent1].[IfActive] = 1) AND (0 = [Extent1].[IfDeleted])
2017-10-19 18:21:02,163 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:02,163 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:02 PM +08:00

2017-10-19 18:21:02,261 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 97 ms with result: SqlDataReader

2017-10-19 18:21:02,261 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:02,261 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:02 PM +08:00

2017-10-19 18:21:41,879 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:41 PM +08:00

2017-10-19 18:21:41,890 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[Index] AS [Index], 
    [Project1].[IfPublic] AS [IfPublic], 
    [Project1].[Type] AS [Type], 
    [Project1].[LogicalExpression] AS [LogicalExpression], 
    [Project1].[CreatedBy] AS [CreatedBy], 
    [Project1].[CreatedTime] AS [CreatedTime], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FilterId] AS [FilterId], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[MatchType] AS [MatchType], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index1] AS [Index1], 
    [Project1].[SiteId1] AS [SiteId1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[SiteId2] AS [SiteId2]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Index] AS [Index], 
        [Extent1].[IfPublic] AS [IfPublic], 
        [Extent1].[Type] AS [Type], 
        [Extent1].[LogicalExpression] AS [LogicalExpression], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[SiteId] AS [SiteId], 
        [Join1].[Id1] AS [Id1], 
        [Join1].[FilterId] AS [FilterId], 
        [Join1].[FieldId] AS [FieldId], 
        [Join1].[MatchType] AS [MatchType], 
        [Join1].[Value] AS [Value], 
        [Join1].[Index] AS [Index1], 
        [Join1].[SiteId1] AS [SiteId1], 
        [Join1].[Id2] AS [Id2], 
        [Join1].[IfSystem] AS [IfSystem], 
        [Join1].[DataType] AS [DataType], 
        [Join1].[Name] AS [Name1], 
        [Join1].[SiteId2] AS [SiteId2], 
        CASE WHEN ([Join1].[Id1] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_Filter] AS [Extent1]
        LEFT OUTER JOIN  (SELECT [Extent2].[Id] AS [Id1], [Extent2].[FilterId] AS [FilterId], [Extent2].[FieldId] AS [FieldId], [Extent2].[MatchType] AS [MatchType], [Extent2].[Value] AS [Value], [Extent2].[Index] AS [Index], [Extent2].[SiteId] AS [SiteId1], [Extent3].[Id] AS [Id2], [Extent3].[IfSystem] AS [IfSystem], [Extent3].[DataType] AS [DataType], [Extent3].[Name] AS [Name], [Extent3].[SiteId] AS [SiteId2]
            FROM  [dbo].[t_Social_FilterCondition] AS [Extent2]
            LEFT OUTER JOIN [dbo].[t_Social_ConversationField] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent2].[FieldId] = [Extent3].[Id]) ) AS [Join1] ON ([Extent1].[Id] = [Join1].[FilterId]) AND (([Join1].[SiteId1] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[IfPublic] = 1 OR [Extent1].[CreatedBy] = @p__linq__0)
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-10-19 18:21:41,890 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:41,890 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:21:41,890 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:21:41,890 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:21:41,890 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:41 PM +08:00

2017-10-19 18:21:41,990 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 99 ms with result: SqlDataReader

2017-10-19 18:21:41,990 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:41,994 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:41 PM +08:00

2017-10-19 18:21:41,995 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:41 PM +08:00

2017-10-19 18:21:41,996 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (4 <> [Extent1].[Status]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:41,996 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:41,996 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-10-19 18:21:41,996 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:41 PM +08:00

2017-10-19 18:21:42,088 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:42,088 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,088 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,089 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,091 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_LiveChat_Department] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IfDeleted]) AND ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_LiveChat_DepartmentMember] AS [Extent2]
        WHERE ([Extent1].[Id] = [Extent2].[DepartmentId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent2].[RelatedId] = @p__linq__0) AND (0 = [Extent2].[Type])
    ))
2017-10-19 18:21:42,091 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,091 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:21:42,091 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:21:42,091 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:21:42,091 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,184 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:21:42,184 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,185 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,185 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,186 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
        WHERE 1 = 0
    )  AS [GroupBy1]
2017-10-19 18:21:42,186 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,186 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,276 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:42,276 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,277 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,279 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,284 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Distinct1].[RelatedId] AS [RelatedId]
    FROM ( SELECT DISTINCT 
        [Extent2].[RelatedId] AS [RelatedId]
        FROM  [dbo].[t_LiveChat_Department] AS [Extent1]
        INNER JOIN [dbo].[t_LiveChat_DepartmentMember] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[DepartmentId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IfDeleted]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_LiveChat_DepartmentMember] AS [Extent3]
            WHERE ([Extent1].[Id] = [Extent3].[DepartmentId]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent3].[RelatedId] = @p__linq__0) AND (0 = [Extent3].[Type])
        )) AND ([Extent2].[RelatedId] <> @p__linq__1)
    )  AS [Distinct1]
2017-10-19 18:21:42,284 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,284 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:21:42,284 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:21:42,284 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:21:42,284 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:21:42,284 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,379 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:21:42,379 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,379 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,380 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,386 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
        WHERE 1 = 0
    )  AS [GroupBy1]
2017-10-19 18:21:42,386 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,387 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,477 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 89 ms with result: SqlDataReader

2017-10-19 18:21:42,477 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,477 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,478 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,480 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (4 <> [Extent1].[Status])
    )  AS [GroupBy1]
2017-10-19 18:21:42,480 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,480 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,571 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:21:42,571 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,571 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,572 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,574 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NULL) AND ([Extent1].[DepartmentId] IS NULL)
    )  AS [GroupBy1]
2017-10-19 18:21:42,574 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,574 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,664 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:21:42,664 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,664 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,664 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,665 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead])
    )  AS [GroupBy1]
2017-10-19 18:21:42,665 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,665 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,758 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:21:42,758 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,758 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,759 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,762 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy2].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM ( SELECT 
            (SELECT 
                COUNT(1) AS [A1]
                FROM [dbo].[t_Social_Message100014500] AS [Extent2]
                WHERE [Extent1].[Id] = [Extent2].[ConversationId]) AS [C1]
            FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead])
        )  AS [Project1]
        WHERE [Project1].[C1] = @p__linq__0
    )  AS [GroupBy2]
2017-10-19 18:21:42,762 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,762 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:21:42,762 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,854 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:42,854 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,854 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,855 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,857 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND ([Extent2].[Content] IS NOT NULL) AND (([Extent2].[Content] = @p__linq__0) OR (([Extent2].[Content] IS NULL) AND (@p__linq__0 IS NULL)))
        ))
    )  AS [GroupBy1]
2017-10-19 18:21:42,857 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,857 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: 'vico' (Type = String, Size = 4000)

2017-10-19 18:21:42,857 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,950 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:21:42,950 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,950 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,951 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:42,954 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( CAST( DATEDIFF (minute, [Extent1].[LastMessageSentTime], SysDateTime()) AS float) = @p__linq__0)
    )  AS [GroupBy1]
2017-10-19 18:21:42,954 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:42,954 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '35' (Type = Double, IsNullable = false)

2017-10-19 18:21:42,954 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:42 PM +08:00

2017-10-19 18:21:43,046 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:43,046 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,046 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,047 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,049 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND ([Extent2].[Content] IS NOT NULL) AND ([Extent2].[Content] LIKE @p__linq__0 ESCAPE N'~')
        ))
    )  AS [GroupBy1]
2017-10-19 18:21:43,049 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,049 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '%??%' (Type = String, Size = 4000)

2017-10-19 18:21:43,049 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,145 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 95 ms with result: SqlDataReader

2017-10-19 18:21:43,145 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,145 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,147 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,150 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (((DATEPART (year, [Extent1].[CreatedTime])) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month, [Extent1].[CreatedTime])) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day, [Extent1].[CreatedTime])) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:43,150 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,150 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:43,150 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:43,150 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:43,150 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,243 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:21:43,243 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,243 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,244 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,246 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (3 = [Extent1].[Status])
    )  AS [GroupBy1]
2017-10-19 18:21:43,246 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,246 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,336 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:21:43,337 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,337 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,337 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,338 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[DepartmentId] IS NOT NULL) AND ([Extent1].[DepartmentId] = @p__linq__0)
    )  AS [GroupBy1]
2017-10-19 18:21:43,338 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,338 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:21:43,338 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,429 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:21:43,429 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,429 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,430 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,432 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
        WHERE 1 = 0
    )  AS [GroupBy1]
2017-10-19 18:21:43,432 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,432 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,522 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:21:43,522 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,522 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,523 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,527 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (((DATEPART (year, [Extent1].[LastMessageSentTime])) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month, [Extent1].[LastMessageSentTime])) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day, [Extent1].[LastMessageSentTime])) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:43,527 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,527 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:43,527 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:43,528 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:43,528 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,623 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 95 ms with result: SqlDataReader

2017-10-19 18:21:43,623 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,624 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,624 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,627 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[LastRepliedAgentId] IS NOT NULL) AND (([Extent1].[LastRepliedAgentId] = @p__linq__0) OR (([Extent1].[LastRepliedAgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:43,627 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,627 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '4' (Type = Int32)

2017-10-19 18:21:43,627 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,719 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:43,719 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,720 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,720 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,722 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (2 = [Extent1].[Priority])
    )  AS [GroupBy1]
2017-10-19 18:21:43,722 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,722 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,813 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:21:43,813 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,813 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,815 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,816 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:43,816 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,817 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '4' (Type = Int32)

2017-10-19 18:21:43,817 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,913 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 95 ms with result: SqlDataReader

2017-10-19 18:21:43,913 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,913 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,916 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:43,918 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (1 = [Extent1].[Source]) AND (1 <> [Extent1].[Source])
    )  AS [GroupBy1]
2017-10-19 18:21:43,918 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:43,918 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:43 PM +08:00

2017-10-19 18:21:44,009 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:44,009 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,009 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,011 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,013 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (4 = [Extent1].[Source])
    )  AS [GroupBy1]
2017-10-19 18:21:44,013 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,013 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,110 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 96 ms with result: SqlDataReader

2017-10-19 18:21:44,110 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,110 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,111 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,113 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM  [dbo].[t_Social_Message100014500] AS [Extent2]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON ([Extent2].[SenderId] = [Extent3].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND (([Extent3].[Name] = @p__linq__0) OR (([Extent3].[Name] IS NULL) AND (@p__linq__0 IS NULL)) OR (([Extent3].[Email] IS NOT NULL) AND (([Extent3].[Email] = @p__linq__1) OR (([Extent3].[Email] IS NULL) AND (@p__linq__1 IS NULL)))))
        ))
    )  AS [GroupBy1]
2017-10-19 18:21:44,114 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,114 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:21:44,114 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:21:44,114 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '???' (Type = String, Size = 4000)

2017-10-19 18:21:44,114 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '???' (Type = String, Size = 4000)

2017-10-19 18:21:44,114 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,208 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:21:44,208 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,208 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,209 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,212 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND (([Extent2].[SenderId] = @p__linq__0) OR (([Extent2].[ReceiverId] IS NOT NULL) AND ([Extent2].[ReceiverId] = @p__linq__1)))
        ))
    )  AS [GroupBy1]
2017-10-19 18:21:44,212 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,212 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:21:44,212 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1' (Type = Int32, IsNullable = false)

2017-10-19 18:21:44,212 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,305 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:21:44,305 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,305 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,350 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,350 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead])
    )  AS [GroupBy1]
2017-10-19 18:21:44,350 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,351 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,441 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:21:44,441 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,441 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,442 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,443 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND ([Extent2].[SendAgentId] IS NOT NULL) AND (([Extent2].[SendAgentId] = @p__linq__0) OR (([Extent2].[SendAgentId] IS NULL) AND (@p__linq__0 IS NULL)))
        ))
    )  AS [GroupBy1]
2017-10-19 18:21:44,443 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,443 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '2' (Type = Int32)

2017-10-19 18:21:44,443 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,534 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:21:44,535 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,535 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,536 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,540 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[ModifiedTime] IS NOT NULL) AND (((DATEPART (year,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:44,540 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,540 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:44,540 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:44,540 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:44,540 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,635 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:21:44,635 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,636 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,636 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,640 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[t_Social_Conversation100014500] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[LastMessageSenderId] = [Extent2].[Id])
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent2].[Name] LIKE @p__linq__0 ESCAPE N'~')
    )  AS [GroupBy1]
2017-10-19 18:21:44,640 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,640 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:21:44,640 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:21:44,640 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '%vico%' (Type = String, Size = 4000)

2017-10-19 18:21:44,640 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,732 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:44,732 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,732 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,733 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,737 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (((DATEPART (year, [Extent1].[LastMessageSentTime])) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month, [Extent1].[LastMessageSentTime])) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day, [Extent1].[LastMessageSentTime])) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day, [Extent1].[LastMessageSentTime]) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:44,737 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,737 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:44,737 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:44,737 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:44,737 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,832 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:21:44,832 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,832 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,832 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,833 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (((DATEPART (year, [Extent1].[CreatedTime])) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month, [Extent1].[CreatedTime])) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day, [Extent1].[CreatedTime])) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:44,833 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,833 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:44,833 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:44,833 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:44,833 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,925 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:21:44,925 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,926 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,927 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:44,929 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[t_Social_Conversation100014500] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[LastMessageSenderId] = [Extent2].[Id])
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (([Extent2].[Name] = @p__linq__0) OR (([Extent2].[Name] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:44,929 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:44,929 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:21:44,929 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:21:44,929 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: 'vico' (Type = String, Size = 4000)

2017-10-19 18:21:44,929 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:44 PM +08:00

2017-10-19 18:21:45,020 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:21:45,020 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,020 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,021 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,022 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[LastRepliedAgentId] IS NOT NULL) AND (([Extent1].[LastRepliedAgentId] = @p__linq__0) OR (([Extent1].[LastRepliedAgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:45,022 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,022 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '2' (Type = Int32)

2017-10-19 18:21:45,022 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,115 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:21:45,115 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,115 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,116 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,118 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (2 = [Extent1].[Priority])
    )  AS [GroupBy1]
2017-10-19 18:21:45,118 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,118 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,210 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:45,210 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,210 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,211 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,215 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[ModifiedTime] IS NOT NULL) AND (((DATEPART (year,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day,  CAST( [Extent1].[ModifiedTime] AS datetime2))) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day,  CAST( [Extent1].[ModifiedTime] AS datetime2)) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:45,215 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,216 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:45,216 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:45,216 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:45,216 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,310 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:21:45,310 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,310 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,311 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,316 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
        WHERE 1 = 0
    )  AS [GroupBy1]
2017-10-19 18:21:45,316 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,316 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,408 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:45,408 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,409 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,410 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,414 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:45,414 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,414 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '7' (Type = Int32)

2017-10-19 18:21:45,414 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,506 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:45,506 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,506 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,507 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,509 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:45,509 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,509 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '7' (Type = Int32)

2017-10-19 18:21:45,509 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,601 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:45,601 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,601 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,603 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,607 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND (([Extent2].[SenderId] = @p__linq__0) OR (([Extent2].[ReceiverId] IS NOT NULL) AND ([Extent2].[ReceiverId] = @p__linq__1)))
        )) OR ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent3]
            WHERE ([Extent1].[Id] = [Extent3].[ConversationId]) AND (([Extent3].[SenderId] = @p__linq__2) OR (([Extent3].[ReceiverId] IS NOT NULL) AND ([Extent3].[ReceiverId] = @p__linq__3)))
        )) OR (([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__4) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__4 IS NULL)))))
    )  AS [GroupBy1]
2017-10-19 18:21:45,607 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,607 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '4' (Type = Int32, IsNullable = false)

2017-10-19 18:21:45,607 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '4' (Type = Int32, IsNullable = false)

2017-10-19 18:21:45,607 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '80' (Type = Int32, IsNullable = false)

2017-10-19 18:21:45,607 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__3: '80' (Type = Int32, IsNullable = false)

2017-10-19 18:21:45,607 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__4: '3' (Type = Int32)

2017-10-19 18:21:45,607 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,701 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:21:45,701 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,702 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,702 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,704 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (2 = [Extent1].[Source])
    )  AS [GroupBy1]
2017-10-19 18:21:45,704 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,704 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,795 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:21:45,795 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,796 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,797 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,799 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:45,799 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,799 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-10-19 18:21:45,799 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,890 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:45,890 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,890 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,890 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,892 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:45,893 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,893 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-10-19 18:21:45,893 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,985 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:45,985 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,985 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,985 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:45,986 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead])
    )  AS [GroupBy1]
2017-10-19 18:21:45,986 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:45,986 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:45 PM +08:00

2017-10-19 18:21:46,080 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:21:46,080 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,080 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,080 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,081 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[CreatedTime] >= @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1)
    )  AS [GroupBy1]
2017-10-19 18:21:46,081 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '8/29/2017 5:08:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:46,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/28/2017 10:08:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:46,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,171 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:21:46,171 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,171 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,172 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,173 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (((DATEPART (year, [Extent1].[CreatedTime])) = (DATEPART (year, @p__linq__0))) OR ((DATEPART (year, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (year, @p__linq__0) IS NULL))) AND (((DATEPART (month, [Extent1].[CreatedTime])) = (DATEPART (month, @p__linq__1))) OR ((DATEPART (month, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (month, @p__linq__1) IS NULL))) AND (((DATEPART (day, [Extent1].[CreatedTime])) = (DATEPART (day, @p__linq__2))) OR ((DATEPART (day, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (day, @p__linq__2) IS NULL)))
    )  AS [GroupBy1]
2017-10-19 18:21:46,173 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,173 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '8/30/2017 4:10:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:46,173 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '8/30/2017 4:10:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:46,173 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '8/30/2017 4:10:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:46,173 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,264 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:21:46,264 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,264 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,264 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,265 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[CreatedTime] >= @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1)
    )  AS [GroupBy1]
2017-10-19 18:21:46,265 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,265 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '8/28/2017 4:10:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:46,265 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/4/2017 5:12:00 PM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:46,265 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,357 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:21:46,357 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,357 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,358 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,360 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (1 = [Extent1].[Source])
    )  AS [GroupBy1]
2017-10-19 18:21:46,360 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,360 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,459 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 98 ms with result: SqlDataReader

2017-10-19 18:21:46,459 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,459 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,460 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,463 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ((([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))) OR ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message100014500] AS [Extent2]
            WHERE ([Extent1].[Id] = [Extent2].[ConversationId]) AND ((([Extent2].[Content] IS NOT NULL) AND ( NOT (([Extent2].[Content] = @p__linq__1) AND ((CASE WHEN ([Extent2].[Content] IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END) = (CASE WHEN (@p__linq__1 IS NULL) THEN cast(1 as bit) ELSE cast(0 as bit) END))))) OR ([Extent2].[Content] IS NULL))
        )))
    )  AS [GroupBy1]
2017-10-19 18:21:46,463 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,463 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '3' (Type = Int32)

2017-10-19 18:21:46,463 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '22' (Type = String, Size = 4000)

2017-10-19 18:21:46,463 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,557 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:21:46,557 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,557 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,558 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,562 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation100014500] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ((([Extent1].[AgentId] IS NOT NULL) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))) OR ((((DATEPART (year, [Extent1].[CreatedTime])) = (DATEPART (year, @p__linq__1))) OR ((DATEPART (year, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (year, @p__linq__1) IS NULL))) AND (((DATEPART (month, [Extent1].[CreatedTime])) = (DATEPART (month, @p__linq__2))) OR ((DATEPART (month, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (month, @p__linq__2) IS NULL))) AND (((DATEPART (day, [Extent1].[CreatedTime])) = (DATEPART (day, @p__linq__3))) OR ((DATEPART (day, [Extent1].[CreatedTime]) IS NULL) AND (DATEPART (day, @p__linq__3) IS NULL)))))
    )  AS [GroupBy1]
2017-10-19 18:21:46,562 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,563 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-10-19 18:21:46,563 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:46,563 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:46,563 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__3: '10/19/2017 12:00:00 AM' (Type = DateTime2, IsNullable = false)

2017-10-19 18:21:46,563 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,655 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:46,655 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,655 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,655 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,656 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfAdmin] AS [IfAdmin]
    FROM [dbo].[t_User100014500] AS [Extent1]
    WHERE (1 = [Extent1].[UserType]) AND ([Extent1].[IfActive] = 1) AND (0 = [Extent1].[IfDeleted])
2017-10-19 18:21:46,656 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,656 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:21:46,747 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:21:46,747 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:21:46,748 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:21:46 PM +08:00

2017-10-19 18:22:54,035 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:54,085 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-10-19 18:22:54,085 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:54,085 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:22:54,085 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:22:54,085 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '231' (Type = Int32)

2017-10-19 18:22:54,085 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:54,177 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:22:54,177 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:54,178 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:54,206 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:54,232 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-10-19 18:22:54,232 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:54,232 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:22:54,232 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:22:54,232 [21] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '231' (Type = Int32, IsNullable = false)

2017-10-19 18:22:54,232 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:54,323 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:22:54,323 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:54,327 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:54,370 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:54,375 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] IN (1))
2017-10-19 18:22:54,375 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:54,375 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:22:54,375 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:22:54,375 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:54,467 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:22:54,467 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:54,467 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:54,484 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:54,533 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name] AS [Name], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index] AS [Index], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[IfSystem] AS [IfSystem], 
        [Extent1].[DataType] AS [DataType], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[Name] AS [Name1], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_ConversationField] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_ConversationFieldOption] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FieldId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE ([Extent1].[SiteId] = @DynamicFilterParam_000001) 
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-10-19 18:22:54,533 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:54,533 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:22:54,533 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:22:54,533 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:54,634 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 101 ms with result: SqlDataReader

2017-10-19 18:22:54,635 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:54,653 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:54 PM +08:00

2017-10-19 18:22:58,311 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:58 PM +08:00

2017-10-19 18:22:58,319 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 18:22:58,319 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:58,319 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 18:22:58,319 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:58 PM +08:00

2017-10-19 18:22:58,413 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:22:58,413 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:58,415 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:58 PM +08:00

2017-10-19 18:22:58,507 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:58 PM +08:00

2017-10-19 18:22:58,508 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfAdmin] AS [IfAdmin]
    FROM [dbo].[t_User100014500] AS [Extent1]
    WHERE (1 = [Extent1].[UserType]) AND ([Extent1].[IfActive] = 1) AND (0 = [Extent1].[IfDeleted])
2017-10-19 18:22:58,508 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:58,508 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:58 PM +08:00

2017-10-19 18:22:58,599 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:22:58,599 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:58,600 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:58 PM +08:00

2017-10-19 18:22:58,696 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:58 PM +08:00

2017-10-19 18:22:58,697 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 18:22:58,697 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:58,697 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 18:22:58,697 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:58 PM +08:00

2017-10-19 18:22:58,790 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:22:58,790 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:58,791 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:58 PM +08:00

2017-10-19 18:22:58,971 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:58 PM +08:00

2017-10-19 18:22:58,971 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 18:22:58,971 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:58,971 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 18:22:58,971 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:58 PM +08:00

2017-10-19 18:22:59,063 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:22:59,063 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:59,063 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,165 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,188 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[IfVisible] AS [IfVisible], 
    [Extent1].[IfDeleted] AS [IfDeleted], 
    [Extent1].[OrderId] AS [OrderId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_LiveChat_CustomAwayStatus] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SiteId] = @p__linq__0) AND (0 = [Extent1].[IfDeleted])
2017-10-19 18:22:59,188 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:59,188 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:22:59,188 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:22:59,188 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 18:22:59,188 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,283 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:22:59,283 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:59,285 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,378 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,378 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 18:22:59,378 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:59,378 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 18:22:59,378 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,468 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:22:59,468 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:59,468 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,564 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,583 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[BackupDepartmentId] AS [BackupDepartmentId], 
    [Extent1].[IfDeleted] AS [IfDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_LiveChat_Department] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IfDeleted])
2017-10-19 18:22:59,583 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:59,583 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:22:59,583 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:22:59,583 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,675 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:22:59,675 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:59,687 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,701 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,729 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[Type])
2017-10-19 18:22:59,729 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:59,729 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:22:59,729 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:22:59,729 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:22:59,825 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 96 ms with result: SqlDataReader

2017-10-19 18:22:59,825 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:22:59,842 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:22:59 PM +08:00

2017-10-19 18:23:00,779 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:00 PM +08:00

2017-10-19 18:23:00,779 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfAdmin] AS [IfAdmin]
    FROM [dbo].[t_User100014500] AS [Extent1]
    WHERE (1 = [Extent1].[UserType]) AND ([Extent1].[IfActive] = 1) AND (0 = [Extent1].[IfDeleted])
2017-10-19 18:23:00,779 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:00,779 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:00 PM +08:00

2017-10-19 18:23:00,894 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 114 ms with result: SqlDataReader

2017-10-19 18:23:00,894 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:00,895 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:00 PM +08:00

2017-10-19 18:23:00,953 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:00 PM +08:00

2017-10-19 18:23:01,080 [21] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Filter]
SET [Name] = @0, [Index] = @1, [IfPublic] = @2, [Type] = @3, [LogicalExpression] = @4, [CreatedBy] = @5, [CreatedTime] = @6, [SiteId] = @7
WHERE ([Id] = @8)

2017-10-19 18:23:01,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @0: 'test01' (Type = String, Size = 200)

2017-10-19 18:23:01,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '0' (Type = Int32)

2017-10-19 18:23:01,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'False' (Type = Boolean)

2017-10-19 18:23:01,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '0' (Type = Int16)

2017-10-19 18:23:01,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @4: 'string' (Type = String, Size = 200)

2017-10-19 18:23:01,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '1' (Type = Int32)

2017-10-19 18:23:01,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '10/10/2017 11:31:17 AM' (Type = DateTime2)

2017-10-19 18:23:01,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '100014500' (Type = Int32)

2017-10-19 18:23:01,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @8: '231' (Type = Int32)

2017-10-19 18:23:01,081 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:01 PM +08:00

2017-10-19 18:23:01,182 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 99 ms with result: 1

2017-10-19 18:23:01,182 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:01,185 [21] DEBUG Social.Domain.Core.SiteDataContext - DELETE [dbo].[t_Social_FilterCondition]
WHERE ([Id] = @0)
2017-10-19 18:23:01,185 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:01,185 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '593' (Type = Int32)

2017-10-19 18:23:01,185 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:01 PM +08:00

2017-10-19 18:23:01,278 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: 1

2017-10-19 18:23:01,278 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:01,278 [21] DEBUG Social.Domain.Core.SiteDataContext - DELETE [dbo].[t_Social_FilterCondition]
WHERE ([Id] = @0)
2017-10-19 18:23:01,279 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:01,279 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '594' (Type = Int32)

2017-10-19 18:23:01,279 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:01 PM +08:00

2017-10-19 18:23:01,369 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: 1

2017-10-19 18:23:01,369 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:01,381 [21] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_FilterCondition]([FilterId], [FieldId], [MatchType], [Value], [Index], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5)
SELECT [Id]
FROM [dbo].[t_Social_FilterCondition]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-10-19 18:23:01,381 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:01,381 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '231' (Type = Int32)

2017-10-19 18:23:01,381 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '1' (Type = Int32)

2017-10-19 18:23:01,381 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @2: '1' (Type = Int16)

2017-10-19 18:23:01,381 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '1' (Type = String, Size = 200)

2017-10-19 18:23:01,381 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '0' (Type = Int32)

2017-10-19 18:23:01,381 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '100014500' (Type = Int32)

2017-10-19 18:23:01,381 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:01 PM +08:00

2017-10-19 18:23:01,480 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 97 ms with result: SqlDataReader

2017-10-19 18:23:01,480 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:01,488 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:01 PM +08:00

2017-10-19 18:23:27,481 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,483 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-10-19 18:23:27,483 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:27,483 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:23:27,483 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:23:27,483 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '163' (Type = Int32)

2017-10-19 18:23:27,483 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,576 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:23:27,576 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:27,576 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,576 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,577 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-10-19 18:23:27,577 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:27,577 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:23:27,577 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:23:27,578 [21] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '163' (Type = Int32, IsNullable = false)

2017-10-19 18:23:27,578 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,669 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:23:27,669 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:27,669 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,670 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,674 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] IN (1))
2017-10-19 18:23:27,674 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:27,674 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:23:27,674 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:23:27,674 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,766 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:23:27,766 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:27,767 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,767 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,771 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name] AS [Name], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index] AS [Index], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[IfSystem] AS [IfSystem], 
        [Extent1].[DataType] AS [DataType], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[Name] AS [Name1], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_ConversationField] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_ConversationFieldOption] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FieldId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE ([Extent1].[SiteId] = @DynamicFilterParam_000001) 
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-10-19 18:23:27,771 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:27,771 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:23:27,771 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:23:27,771 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,864 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 93 ms with result: SqlDataReader

2017-10-19 18:23:27,864 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:27,865 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,956 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:27,957 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 18:23:27,957 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:27,957 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 18:23:27,957 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:27 PM +08:00

2017-10-19 18:23:28,046 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:23:28,046 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:28,047 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,139 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,140 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfAdmin] AS [IfAdmin]
    FROM [dbo].[t_User100014500] AS [Extent1]
    WHERE (1 = [Extent1].[UserType]) AND ([Extent1].[IfActive] = 1) AND (0 = [Extent1].[IfDeleted])
2017-10-19 18:23:28,140 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:28,140 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,232 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:23:28,232 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:28,233 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,325 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,326 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 18:23:28,326 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:28,326 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 18:23:28,326 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,415 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-10-19 18:23:28,415 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:28,416 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,602 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,602 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 18:23:28,602 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:28,602 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 18:23:28,602 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,692 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 89 ms with result: SqlDataReader

2017-10-19 18:23:28,692 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:28,693 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,783 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,784 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[IfVisible] AS [IfVisible], 
    [Extent1].[IfDeleted] AS [IfDeleted], 
    [Extent1].[OrderId] AS [OrderId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_LiveChat_CustomAwayStatus] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SiteId] = @p__linq__0) AND (0 = [Extent1].[IfDeleted])
2017-10-19 18:23:28,784 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:28,784 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:23:28,784 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:23:28,784 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 18:23:28,784 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,877 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-10-19 18:23:28,877 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:28,877 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,969 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:28,970 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[IfCustomAwayEnable] AS [IfCustomAwayEnable], 
    [Extent1].[IfDepartmentEnable] AS [IfDepartmentEnable]
    FROM [dbo].[t_LiveChat_Config] AS [Extent1]
    WHERE [Extent1].[SiteId] = @p__linq__0
2017-10-19 18:23:28,970 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:28,970 [21] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '100014500' (Type = Int32, IsNullable = false)

2017-10-19 18:23:28,970 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:28 PM +08:00

2017-10-19 18:23:29,059 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 89 ms with result: SqlDataReader

2017-10-19 18:23:29,060 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:29,060 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,152 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,152 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[BackupDepartmentId] AS [BackupDepartmentId], 
    [Extent1].[IfDeleted] AS [IfDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_LiveChat_Department] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IfDeleted])
2017-10-19 18:23:29,153 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:29,153 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:23:29,153 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:23:29,153 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,245 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-10-19 18:23:29,245 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:29,246 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,246 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,249 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[Type])
2017-10-19 18:23:29,249 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:29,249 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014500' (Type = Int32)

2017-10-19 18:23:29,250 [21] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-10-19 18:23:29,250 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,344 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:23:29,344 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:29,345 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,687 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,688 [21] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[IfAdmin] AS [IfAdmin]
    FROM [dbo].[t_User100014500] AS [Extent1]
    WHERE (1 = [Extent1].[UserType]) AND ([Extent1].[IfActive] = 1) AND (0 = [Extent1].[IfDeleted])
2017-10-19 18:23:29,689 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:29,689 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,783 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-10-19 18:23:29,784 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:29,784 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,785 [21] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,786 [21] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Filter]
SET [Name] = @0, [Index] = @1, [IfPublic] = @2, [Type] = @3, [LogicalExpression] = @4, [CreatedBy] = @5, [CreatedTime] = @6, [SiteId] = @7
WHERE ([Id] = @8)

2017-10-19 18:23:29,786 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @0: 'test01' (Type = String, Size = 200)

2017-10-19 18:23:29,786 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '0' (Type = Int32)

2017-10-19 18:23:29,786 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'False' (Type = Boolean)

2017-10-19 18:23:29,786 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '0' (Type = Int16)

2017-10-19 18:23:29,786 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @4: 'string' (Type = String, Size = 200)

2017-10-19 18:23:29,786 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '1' (Type = Int32)

2017-10-19 18:23:29,786 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '9/26/2017 3:36:03 AM' (Type = DateTime2)

2017-10-19 18:23:29,786 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '100014500' (Type = Int32)

2017-10-19 18:23:29,786 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @8: '163' (Type = Int32)

2017-10-19 18:23:29,786 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,887 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 101 ms with result: 1

2017-10-19 18:23:29,887 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:29,888 [21] DEBUG Social.Domain.Core.SiteDataContext - DELETE [dbo].[t_Social_FilterCondition]
WHERE ([Id] = @0)
2017-10-19 18:23:29,888 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:29,888 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '428' (Type = Int32)

2017-10-19 18:23:29,888 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:29,988 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 100 ms with result: 1

2017-10-19 18:23:29,988 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:29,989 [21] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_FilterCondition]([FilterId], [FieldId], [MatchType], [Value], [Index], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5)
SELECT [Id]
FROM [dbo].[t_Social_FilterCondition]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-10-19 18:23:29,989 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:29,989 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '163' (Type = Int32)

2017-10-19 18:23:29,989 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '1' (Type = Int32)

2017-10-19 18:23:29,989 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @2: '1' (Type = Int16)

2017-10-19 18:23:29,990 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '1' (Type = String, Size = 200)

2017-10-19 18:23:29,990 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '0' (Type = Int32)

2017-10-19 18:23:29,990 [21] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '100014500' (Type = Int32)

2017-10-19 18:23:29,990 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 10/19/2017 6:23:29 PM +08:00

2017-10-19 18:23:30,130 [21] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 139 ms with result: SqlDataReader

2017-10-19 18:23:30,130 [21] DEBUG Social.Domain.Core.SiteDataContext - 

2017-10-19 18:23:30,130 [21] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 10/19/2017 6:23:30 PM +08:00

