2017-08-10 09:22:39,655 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 09:22:41,842 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-10 09:27:25,898 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:25 AM +08:00

2017-08-10 09:27:27,426 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 09:27:27,427 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:27,429 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:27,429 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:27,429 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '146141792636838' (Type = String, Size = 4000)

2017-08-10 09:27:27,430 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:27 AM +08:00

2017-08-10 09:27:27,479 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 48 ms with result: SqlDataReader

2017-08-10 09:27:27,479 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:27,558 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:27 AM +08:00

2017-08-10 09:27:31,332 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,370 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 09:27:31,370 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,370 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,370 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,370 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '7' (Type = Int32, IsNullable = false)

2017-08-10 09:27:31,370 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '7' (Type = Int32, IsNullable = false)

2017-08-10 09:27:31,370 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,375 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-10 09:27:31,375 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,381 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,449 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,547 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:31,547 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,547 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,547 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,547 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1002' (Type = Int32)

2017-08-10 09:27:31,548 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,558 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-08-10 09:27:31,558 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,612 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,616 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,618 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:31,618 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,618 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,618 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,618 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1003' (Type = Int32)

2017-08-10 09:27:31,618 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,619 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 09:27:31,619 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,621 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,621 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,622 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:31,622 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,622 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,622 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,622 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1004' (Type = Int32)

2017-08-10 09:27:31,622 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,623 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 09:27:31,623 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,624 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,624 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,624 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:31,624 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,624 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,624 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,624 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-08-10 09:27:31,624 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,625 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:27:31,625 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,625 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,626 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,626 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:31,626 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,626 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,626 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,626 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1006' (Type = Int32)

2017-08-10 09:27:31,626 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,627 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:27:31,627 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,627 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,627 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,627 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:31,627 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,627 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,627 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,627 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1009' (Type = Int32)

2017-08-10 09:27:31,627 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,628 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:27:31,628 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,628 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,629 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,629 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:31,629 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,629 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,629 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,629 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1010' (Type = Int32)

2017-08-10 09:27:31,629 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,630 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:27:31,630 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,630 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,630 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,630 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:31,630 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,630 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,630 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,630 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1014' (Type = Int32)

2017-08-10 09:27:31,630 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,631 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:27:31,631 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,632 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,632 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,632 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:31,632 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,632 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,632 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,632 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1015' (Type = Int32)

2017-08-10 09:27:31,632 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,633 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:27:31,633 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,633 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,633 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,633 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:31,633 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,634 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,634 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,634 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1016' (Type = Int32)

2017-08-10 09:27:31,634 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,634 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:27:31,634 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,634 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,635 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,635 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:31,635 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,635 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:31,635 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:31,635 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '2018' (Type = Int32)

2017-08-10 09:27:31,635 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:31,636 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:27:31,636 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:31,636 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:31 AM +08:00

2017-08-10 09:27:49,746 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:49 AM +08:00

2017-08-10 09:27:49,782 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 09:27:49,782 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:49,782 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:49,782 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:49,782 [16] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1002' (Type = Int32, IsNullable = false)

2017-08-10 09:27:49,782 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:49 AM +08:00

2017-08-10 09:27:49,785 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-10 09:27:49,785 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:49,805 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:49 AM +08:00

2017-08-10 09:27:53,143 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:27:53 AM +08:00

2017-08-10 09:27:53,173 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:27:53,173 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:53,173 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:27:53,173 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:27:53,173 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '6' (Type = Int32)

2017-08-10 09:27:53,173 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:27:53 AM +08:00

2017-08-10 09:27:53,180 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-10 09:27:53,180 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:27:53,189 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:27:53 AM +08:00

2017-08-10 09:29:08,844 [16] ERROR Social.Infrastructure.Logger - Get user info from facebook failed.token=EAAHEVNVxMtUBAB1gQ7sYSTlFWDgtoJRZBgaLNt5noVfMJbdf4y80kfkRsYbhYkkNnndOj3b7LpiqLVgr9xukE5LiPvr1Q7ZA3mqF4DcZCitjy0ZBpUvQxdP3ZATb2pLLnZCn5Bvnbz9iRtoYv3eWRg9imTcBIZBSICiSljLw2DM5wZDZD,url=/146141792636838?fields=id,name,link,picture
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 'System.Threading.Tasks.Task<object>' does not contain a definition for 'id'
   at CallSite.Target(Closure , CallSite , Object )
   at System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0)
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 163
2017-08-10 09:29:15,327 [16] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - 'System.Threading.Tasks.Task<object>' does not contain a definition for 'id'
Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 'System.Threading.Tasks.Task<object>' does not contain a definition for 'id'
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 182
   at Social.Domain.DomainServices.UserInfoService.GetFacebookInfo(String OriginalId, Conversation conversation, Int32 userId) in F:\social\social_20170728\Social\Social.Domain\DomainServices\UserInfoService.cs:line 64
   at Social.Application.AppServices.UserInfoAppService.Find(String OriginalId) in F:\social\social_20170728\Social\Social.Application\AppServices\UserInfoAppService.cs:line 38
   at Social.WebApi.Controllers.UserInfoController.GetUserInfo(String OriginalId) in F:\social\social_20170728\Social\Social.WebApi\Controllers\UserInfoController.cs:line 24
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 09:29:29,744 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:29:29 AM +08:00

2017-08-10 09:29:29,744 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 09:29:29,745 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:29,745 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:29:29,745 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:29:29,745 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '889423259170619392' (Type = String, Size = 4000)

2017-08-10 09:29:29,745 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:29:29 AM +08:00

2017-08-10 09:29:29,766 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 21 ms with result: SqlDataReader

2017-08-10 09:29:29,767 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:29,767 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:29:29 AM +08:00

2017-08-10 09:29:31,048 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:29:31 AM +08:00

2017-08-10 09:29:31,049 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 09:29:31,049 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:31,049 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:29:31,049 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:29:31,049 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '13' (Type = Int32, IsNullable = false)

2017-08-10 09:29:31,049 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '13' (Type = Int32, IsNullable = false)

2017-08-10 09:29:31,049 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:29:31 AM +08:00

2017-08-10 09:29:31,062 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 13 ms with result: SqlDataReader

2017-08-10 09:29:31,062 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:31,062 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:29:31 AM +08:00

2017-08-10 09:29:31,063 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:29:31 AM +08:00

2017-08-10 09:29:31,063 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 09:29:31,063 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:31,063 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:29:31,063 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:29:31,063 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1019' (Type = Int32)

2017-08-10 09:29:31,063 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:29:31 AM +08:00

2017-08-10 09:29:31,066 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 09:29:31,066 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:31,066 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:29:31 AM +08:00

2017-08-10 09:29:31,066 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:29:31 AM +08:00

2017-08-10 09:29:31,067 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 09:29:31,067 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:31,067 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:29:31,067 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:29:31,067 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1020' (Type = Int32)

2017-08-10 09:29:31,067 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:29:31 AM +08:00

2017-08-10 09:29:31,068 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 09:29:31,068 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:31,068 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:29:31 AM +08:00

2017-08-10 09:29:39,426 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:29:39 AM +08:00

2017-08-10 09:29:39,426 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 09:29:39,426 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:39,426 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:29:39,426 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:29:39,426 [16] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1019' (Type = Int32, IsNullable = false)

2017-08-10 09:29:39,426 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:29:39 AM +08:00

2017-08-10 09:29:39,430 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-10 09:29:39,430 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:39,431 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:29:39 AM +08:00

2017-08-10 09:29:42,779 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:29:42 AM +08:00

2017-08-10 09:29:42,779 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 09:29:42,779 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:42,779 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:29:42,779 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:29:42,779 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '15' (Type = Int32)

2017-08-10 09:29:42,779 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:29:42 AM +08:00

2017-08-10 09:29:42,801 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 22 ms with result: SqlDataReader

2017-08-10 09:29:42,802 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:29:42,802 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:29:42 AM +08:00

2017-08-10 09:30:20,168 [16] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Social.Domain.DomainServices.TwitterService.GetUser(SocialAccount socialAccount, Int64 userId) in F:\social\social_20170728\Social\Social.Domain\DomainServices\Twitter\TwitterService.cs:line 74
   at Social.Domain.DomainServices.UserInfoService.GetTwitterInfo(String OriginalId, Conversation conversation, Int32 userId) in F:\social\social_20170728\Social\Social.Domain\DomainServices\UserInfoService.cs:line 77
   at Social.Application.AppServices.UserInfoAppService.Find(String OriginalId) in F:\social\social_20170728\Social\Social.Application\AppServices\UserInfoAppService.cs:line 43
   at Social.WebApi.Controllers.UserInfoController.GetUserInfo(String OriginalId) in F:\social\social_20170728\Social\Social.WebApi\Controllers\UserInfoController.cs:line 24
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 09:30:25,317 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:25,317 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 09:30:25,317 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:30:25,317 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:30:25,317 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:30:25,317 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '889423259170619392' (Type = String, Size = 4000)

2017-08-10 09:30:25,317 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:25,320 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 09:30:25,320 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:30:25,320 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:25,887 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:25,889 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 09:30:25,889 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:30:25,889 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:30:25,889 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:30:25,889 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '13' (Type = Int32, IsNullable = false)

2017-08-10 09:30:25,889 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '13' (Type = Int32, IsNullable = false)

2017-08-10 09:30:25,889 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:25,898 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 9 ms with result: SqlDataReader

2017-08-10 09:30:25,898 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:30:25,898 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:25,899 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:25,899 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 09:30:25,899 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:30:25,899 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:30:25,899 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:30:25,899 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1019' (Type = Int32)

2017-08-10 09:30:25,899 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:25,901 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 09:30:25,901 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:30:25,901 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:25,902 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:25,902 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 09:30:25,902 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:30:25,902 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:30:25,902 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:30:25,902 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1020' (Type = Int32)

2017-08-10 09:30:25,902 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:25,906 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-10 09:30:25,907 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:30:25,907 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:30:25 AM +08:00

2017-08-10 09:30:44,964 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:30:44 AM +08:00

2017-08-10 09:30:44,964 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 09:30:44,964 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:30:44,964 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:30:44,964 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:30:44,964 [16] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1019' (Type = Int32, IsNullable = false)

2017-08-10 09:30:44,965 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:30:44 AM +08:00

2017-08-10 09:30:44,980 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 14 ms with result: SqlDataReader

2017-08-10 09:30:44,980 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:30:44,980 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:30:44 AM +08:00

2017-08-10 09:31:37,488 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:31:37 AM +08:00

2017-08-10 09:31:37,489 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 09:31:37,489 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:37,489 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:31:37,489 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:31:37,489 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '15' (Type = Int32)

2017-08-10 09:31:37,489 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:31:37 AM +08:00

2017-08-10 09:31:37,556 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 66 ms with result: SqlDataReader

2017-08-10 09:31:37,556 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:37,556 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:31:37 AM +08:00

2017-08-10 09:31:39,223 [16] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Social.Domain.DomainServices.TwitterService.GetUser(SocialAccount socialAccount, Int64 userId) in F:\social\social_20170728\Social\Social.Domain\DomainServices\Twitter\TwitterService.cs:line 74
   at Social.Domain.DomainServices.UserInfoService.GetTwitterInfo(String OriginalId, Conversation conversation, Int32 userId) in F:\social\social_20170728\Social\Social.Domain\DomainServices\UserInfoService.cs:line 77
   at Social.Application.AppServices.UserInfoAppService.Find(String OriginalId) in F:\social\social_20170728\Social\Social.Application\AppServices\UserInfoAppService.cs:line 43
   at Social.WebApi.Controllers.UserInfoController.GetUserInfo(String OriginalId) in F:\social\social_20170728\Social\Social.WebApi\Controllers\UserInfoController.cs:line 24
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 09:31:46,562 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:46,563 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 09:31:46,564 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:46,564 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:31:46,564 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:31:46,564 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '880620227460866048' (Type = String, Size = 4000)

2017-08-10 09:31:46,564 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:46,578 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 14 ms with result: SqlDataReader

2017-08-10 09:31:46,579 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:46,580 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:46,581 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:46,585 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 09:31:46,585 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:46,585 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:31:46,585 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:31:46,585 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '15' (Type = Int32, IsNullable = false)

2017-08-10 09:31:46,585 [16] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '15' (Type = Int32, IsNullable = false)

2017-08-10 09:31:46,585 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:46,594 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-08-10 09:31:46,594 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:46,594 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:46,594 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:46,595 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 09:31:46,595 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:46,595 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:31:46,595 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:31:46,595 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1019' (Type = Int32)

2017-08-10 09:31:46,595 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:46,599 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-10 09:31:46,599 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:46,600 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:46,600 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:46,601 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 09:31:46,601 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:46,601 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:31:46,601 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:31:46,601 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '1020' (Type = Int32)

2017-08-10 09:31:46,601 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:46,603 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 09:31:46,603 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:46,604 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:31:46 AM +08:00

2017-08-10 09:31:47,998 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:31:47 AM +08:00

2017-08-10 09:31:47,998 [16] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 09:31:47,998 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:47,998 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:31:47,998 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:31:47,998 [16] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1019' (Type = Int32, IsNullable = false)

2017-08-10 09:31:47,998 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:31:47 AM +08:00

2017-08-10 09:31:48,008 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-08-10 09:31:48,009 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:48,010 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:31:48 AM +08:00

2017-08-10 09:31:55,657 [16] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:31:55 AM +08:00

2017-08-10 09:31:55,658 [16] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 09:31:55,658 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:55,658 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:31:55,658 [16] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:31:55,658 [16] DEBUG Social.Domain.SiteDataContext - -- p0: '13' (Type = Int32)

2017-08-10 09:31:55,658 [16] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:31:55 AM +08:00

2017-08-10 09:31:55,661 [16] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-10 09:31:55,661 [16] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:31:55,661 [16] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:31:55 AM +08:00

2017-08-10 09:41:11,436 [24] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 09:41:12,867 [24] INFO  System.Web.HttpApplication - Application started...
2017-08-10 09:41:40,626 [55] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:41:40 AM +08:00

2017-08-10 09:41:42,015 [55] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 09:41:42,015 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,016 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:41:42,016 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:41:42,016 [55] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '107813689896561' (Type = String, Size = 4000)

2017-08-10 09:41:42,017 [55] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,035 [55] DEBUG Social.Domain.SiteDataContext - -- Completed in 17 ms with result: SqlDataReader

2017-08-10 09:41:42,036 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,105 [55] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,114 [55] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,150 [55] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 09:41:42,150 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,150 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:41:42,150 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:41:42,150 [55] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '8' (Type = Int32, IsNullable = false)

2017-08-10 09:41:42,150 [55] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '8' (Type = Int32, IsNullable = false)

2017-08-10 09:41:42,151 [55] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,157 [55] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-10 09:41:42,157 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,163 [55] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,230 [55] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,328 [55] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:41:42,328 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,328 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:41:42,328 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:41:42,328 [55] DEBUG Social.Domain.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-08-10 09:41:42,328 [55] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,338 [55] DEBUG Social.Domain.SiteDataContext - -- Completed in 9 ms with result: SqlDataReader

2017-08-10 09:41:42,338 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,365 [55] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,372 [55] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,374 [55] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:41:42,374 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,374 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:41:42,374 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:41:42,374 [55] DEBUG Social.Domain.SiteDataContext - -- p0: '1010' (Type = Int32)

2017-08-10 09:41:42,374 [55] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,376 [55] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 09:41:42,376 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,376 [55] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,376 [55] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,376 [55] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:41:42,377 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,377 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:41:42,377 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:41:42,377 [55] DEBUG Social.Domain.SiteDataContext - -- p0: '1013' (Type = Int32)

2017-08-10 09:41:42,377 [55] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,377 [55] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:41:42,378 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,400 [55] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,400 [55] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,402 [55] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:41:42,402 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,402 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:41:42,402 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:41:42,402 [55] DEBUG Social.Domain.SiteDataContext - -- p0: '2019' (Type = Int32)

2017-08-10 09:41:42,402 [55] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:42,403 [55] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 09:41:42,403 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:42,406 [55] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:41:42 AM +08:00

2017-08-10 09:41:45,492 [55] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:41:45 AM +08:00

2017-08-10 09:41:45,535 [55] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 09:41:45,535 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:45,535 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:41:45,536 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:41:45,536 [55] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1005' (Type = Int32, IsNullable = false)

2017-08-10 09:41:45,536 [55] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:41:45 AM +08:00

2017-08-10 09:41:45,540 [55] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-10 09:41:45,540 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:45,564 [55] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:41:45 AM +08:00

2017-08-10 09:41:49,482 [55] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:41:49 AM +08:00

2017-08-10 09:41:49,509 [55] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:41:49,509 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:49,509 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:41:49,509 [55] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:41:49,509 [55] DEBUG Social.Domain.SiteDataContext - -- p0: '6' (Type = Int32)

2017-08-10 09:41:49,509 [55] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:41:49 AM +08:00

2017-08-10 09:41:49,512 [55] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 09:41:49,512 [55] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:41:49,524 [55] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:41:49 AM +08:00

2017-08-10 09:42:28,944 [55] ERROR Social.Infrastructure.Logger - Get user info from facebook failed.token=EAAHEVNVxMtUBAB1gQ7sYSTlFWDgtoJRZBgaLNt5noVfMJbdf4y80kfkRsYbhYkkNnndOj3b7LpiqLVgr9xukE5LiPvr1Q7ZA3mqF4DcZCitjy0ZBpUvQxdP3ZATb2pLLnZCn5Bvnbz9iRtoYv3eWRg9imTcBIZBSICiSljLw2DM5wZDZD,url=/107813689896561?fields=id,name,link,picture
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenRead()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Get(String path, Object parameters, Type resultType)
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 161
2017-08-10 09:42:30,200 [55] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 182
   at Social.Domain.DomainServices.UserInfoService.GetFacebookInfo(String OriginalId, Conversation conversation, Int32 userId) in F:\social\social_20170728\Social\Social.Domain\DomainServices\UserInfoService.cs:line 64
   at Social.Application.AppServices.UserInfoAppService.Find(String OriginalId) in F:\social\social_20170728\Social\Social.Application\AppServices\UserInfoAppService.cs:line 38
   at Social.WebApi.Controllers.UserInfoController.GetUserInfo(String OriginalId) in F:\social\social_20170728\Social\Social.WebApi\Controllers\UserInfoController.cs:line 24
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 09:45:23,858 [49] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 9:45:23 AM +08:00

2017-08-10 09:45:23,882 [49] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 09:45:23,882 [49] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:45:23,882 [49] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 09:45:23,882 [49] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 9:45:23 AM +08:00

2017-08-10 09:45:23,944 [34] DEBUG Social.Domain.SiteDataContext - -- Completed in 61 ms with result: SqlDataReader

2017-08-10 09:45:23,944 [34] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:45:23,963 [34] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:45:23 AM +08:00

2017-08-10 09:45:27,300 [63] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 9:45:27 AM +08:00

2017-08-10 09:45:27,513 [63] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 09:45:27,513 [63] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:45:27,513 [63] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:45:27,513 [63] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:45:27,513 [63] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 09:45:27,513 [63] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 09:45:27,513 [63] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 9:45:27 AM +08:00

2017-08-10 09:45:27,522 [27] DEBUG Social.Domain.SiteDataContext - -- Completed in 9 ms with result: SqlDataReader

2017-08-10 09:45:27,522 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:45:27,530 [27] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:45:27 AM +08:00

2017-08-10 09:45:30,729 [63] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:45:30 AM +08:00

2017-08-10 09:45:30,767 [63] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Source] = @p__linq__0) AND ([Extent1].[OriginalId] = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-10 09:45:30,767 [63] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:45:30,767 [63] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:45:30,767 [63] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:45:30,767 [63] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: 'FacebookPost' (Type = Int16)

2017-08-10 09:45:30,767 [63] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '426763217705261_462433950804854' (Type = String, Size = 4000)

2017-08-10 09:45:30,767 [63] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:45:30 AM +08:00

2017-08-10 09:45:30,778 [63] DEBUG Social.Domain.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-08-10 09:45:30,778 [63] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:45:30,784 [63] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:45:30 AM +08:00

2017-08-10 09:46:00,430 [27] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 9:46:00 AM +08:00

2017-08-10 09:46:00,430 [27] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 09:46:00,430 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:00,430 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 09:46:00,430 [27] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 9:46:00 AM +08:00

2017-08-10 09:46:00,448 [49] DEBUG Social.Domain.SiteDataContext - -- Completed in 17 ms with result: SqlDataReader

2017-08-10 09:46:00,448 [49] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:00,448 [49] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:46:00 AM +08:00

2017-08-10 09:46:00,452 [36] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 9:46:00 AM +08:00

2017-08-10 09:46:00,452 [36] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 09:46:00,452 [36] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:00,452 [36] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:46:00,452 [36] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:46:00,452 [36] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 09:46:00,452 [36] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 09:46:00,452 [36] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 9:46:00 AM +08:00

2017-08-10 09:46:00,462 [36] DEBUG Social.Domain.SiteDataContext - -- Completed in 9 ms with result: SqlDataReader

2017-08-10 09:46:00,462 [36] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:00,462 [36] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:46:00 AM +08:00

2017-08-10 09:46:03,259 [35] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:46:03 AM +08:00

2017-08-10 09:46:03,260 [35] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Source] = @p__linq__0) AND ([Extent1].[OriginalId] = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-10 09:46:03,260 [35] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:03,260 [35] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:46:03,260 [35] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:46:03,260 [35] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: 'FacebookPost' (Type = Int16)

2017-08-10 09:46:03,260 [35] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '426763217705261_462433950804854' (Type = String, Size = 4000)

2017-08-10 09:46:03,260 [35] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:46:03 AM +08:00

2017-08-10 09:46:03,263 [35] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-10 09:46:03,263 [35] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:03,263 [35] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:46:03 AM +08:00

2017-08-10 09:46:54,362 [65] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 9:46:54 AM +08:00

2017-08-10 09:46:54,362 [65] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 09:46:54,362 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:54,362 [65] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 09:46:54,362 [65] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 9:46:54 AM +08:00

2017-08-10 09:46:54,526 [27] DEBUG Social.Domain.SiteDataContext - -- Completed in 164 ms with result: SqlDataReader

2017-08-10 09:46:54,526 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:54,526 [27] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:46:54 AM +08:00

2017-08-10 09:46:54,532 [27] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 9:46:54 AM +08:00

2017-08-10 09:46:54,533 [27] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 09:46:54,533 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:54,533 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:46:54,533 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:46:54,533 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 09:46:54,533 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 09:46:54,533 [27] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 9:46:54 AM +08:00

2017-08-10 09:46:54,543 [27] DEBUG Social.Domain.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-08-10 09:46:54,543 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:54,544 [27] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:46:54 AM +08:00

2017-08-10 09:46:54,547 [27] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:46:54 AM +08:00

2017-08-10 09:46:54,548 [27] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Source] = @p__linq__0) AND ([Extent1].[OriginalId] = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-10 09:46:54,548 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:54,548 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 09:46:54,548 [27] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:46:54,548 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: 'FacebookPost' (Type = Int16)

2017-08-10 09:46:54,548 [27] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '426763217705261_462433950804854' (Type = String, Size = 4000)

2017-08-10 09:46:54,548 [27] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:46:54 AM +08:00

2017-08-10 09:46:54,551 [27] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-10 09:46:54,551 [27] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:46:54,552 [27] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:46:54 AM +08:00

2017-08-10 09:48:10,497 [24] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 09:48:11,970 [24] INFO  System.Web.HttpApplication - Application started...
2017-08-10 09:48:24,280 [65] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:48:24 AM +08:00

2017-08-10 09:48:25,604 [65] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 09:48:25,604 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,607 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:48:25,607 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:48:25,607 [65] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '107813689896561' (Type = String, Size = 4000)

2017-08-10 09:48:25,607 [65] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,615 [65] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-10 09:48:25,615 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,683 [65] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,692 [65] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,728 [65] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 09:48:25,728 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,728 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:48:25,728 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:48:25,728 [65] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '8' (Type = Int32, IsNullable = false)

2017-08-10 09:48:25,728 [65] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '8' (Type = Int32, IsNullable = false)

2017-08-10 09:48:25,728 [65] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,730 [65] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 09:48:25,730 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,736 [65] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,799 [65] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,892 [65] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:48:25,892 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,892 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:48:25,892 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:48:25,892 [65] DEBUG Social.Domain.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-08-10 09:48:25,892 [65] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,894 [65] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 09:48:25,894 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,917 [65] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,925 [65] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,926 [65] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:48:25,927 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,927 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:48:25,927 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:48:25,927 [65] DEBUG Social.Domain.SiteDataContext - -- p0: '1010' (Type = Int32)

2017-08-10 09:48:25,927 [65] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,927 [65] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:48:25,927 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,927 [65] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,927 [65] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,928 [65] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:48:25,928 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,928 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:48:25,928 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:48:25,928 [65] DEBUG Social.Domain.SiteDataContext - -- p0: '1013' (Type = Int32)

2017-08-10 09:48:25,928 [65] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,928 [65] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:48:25,928 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,950 [65] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,951 [65] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,951 [65] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:48:25,951 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,951 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:48:25,951 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:48:25,951 [65] DEBUG Social.Domain.SiteDataContext - -- p0: '2019' (Type = Int32)

2017-08-10 09:48:25,951 [65] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,951 [65] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 09:48:25,951 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,952 [65] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,966 [65] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,996 [65] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 09:48:25,996 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:25,996 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:48:25,996 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:48:25,996 [65] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1005' (Type = Int32, IsNullable = false)

2017-08-10 09:48:25,996 [65] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:48:25 AM +08:00

2017-08-10 09:48:25,998 [65] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 09:48:25,998 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:26,017 [65] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:48:26 AM +08:00

2017-08-10 09:48:26,025 [65] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 9:48:26 AM +08:00

2017-08-10 09:48:26,051 [65] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 09:48:26,051 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:26,051 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 09:48:26,051 [65] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 09:48:26,051 [65] DEBUG Social.Domain.SiteDataContext - -- p0: '6' (Type = Int32)

2017-08-10 09:48:26,051 [65] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 9:48:26 AM +08:00

2017-08-10 09:48:26,053 [65] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 09:48:26,053 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 09:48:26,063 [65] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 9:48:26 AM +08:00

2017-08-10 09:48:28,126 [65] ERROR Social.Infrastructure.Logger - Get user info from facebook failed.token=EAAHEVNVxMtUBAB1gQ7sYSTlFWDgtoJRZBgaLNt5noVfMJbdf4y80kfkRsYbhYkkNnndOj3b7LpiqLVgr9xukE5LiPvr1Q7ZA3mqF4DcZCitjy0ZBpUvQxdP3ZATb2pLLnZCn5Bvnbz9iRtoYv3eWRg9imTcBIZBSICiSljLw2DM5wZDZD,url=/107813689896561?fields=id,name,link,picture
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenRead()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Get(String path, Object parameters, Type resultType)
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 161
2017-08-10 09:48:28,179 [65] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 182
   at Social.Domain.DomainServices.UserInfoService.GetFacebookInfo(String OriginalId, Conversation conversation, Int32 userId) in F:\social\social_20170728\Social\Social.Domain\DomainServices\UserInfoService.cs:line 64
   at Social.Application.AppServices.UserInfoAppService.Find(String OriginalId) in F:\social\social_20170728\Social\Social.Application\AppServices\UserInfoAppService.cs:line 38
   at Social.WebApi.Controllers.UserInfoController.GetUserInfo(String OriginalId) in F:\social\social_20170728\Social\Social.WebApi\Controllers\UserInfoController.cs:line 24
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 09:49:53,430 [36] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 10:09:20,987 [70] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:09:20 AM +08:00

2017-08-10 10:09:21,011 [70] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 10:09:21,011 [70] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:21,011 [70] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:09:21,011 [70] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:09:21 AM +08:00

2017-08-10 10:09:21,023 [71] DEBUG Social.Domain.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-08-10 10:09:21,023 [71] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:21,031 [71] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:09:21 AM +08:00

2017-08-10 10:09:22,064 [70] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:09:22 AM +08:00

2017-08-10 10:09:22,283 [70] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 10:09:22,283 [70] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:22,283 [70] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 10:09:22,283 [70] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 10:09:22,283 [70] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:09:22,283 [70] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 10:09:22,283 [70] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:09:22 AM +08:00

2017-08-10 10:09:22,304 [71] DEBUG Social.Domain.SiteDataContext - -- Completed in 19 ms with result: SqlDataReader

2017-08-10 10:09:22,304 [71] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:22,311 [71] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:09:22 AM +08:00

2017-08-10 10:09:22,330 [71] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 10:09:22 AM +08:00

2017-08-10 10:09:22,364 [71] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Source] = @p__linq__0) AND ([Extent1].[OriginalId] = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-10 10:09:22,364 [71] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:22,364 [71] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 10:09:22,364 [71] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 10:09:22,364 [71] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: 'FacebookPost' (Type = Int16)

2017-08-10 10:09:22,364 [71] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '426763217705261_462070730841176' (Type = String, Size = 4000)

2017-08-10 10:09:22,364 [71] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 10:09:22 AM +08:00

2017-08-10 10:09:22,366 [71] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 10:09:22,366 [71] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:22,372 [71] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:09:22 AM +08:00

2017-08-10 10:09:51,361 [36] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:09:51,362 [36] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 10:09:51,362 [36] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:51,362 [36] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:09:51,362 [36] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:09:51,597 [71] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:09:51,598 [71] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 10:09:51,598 [71] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:51,598 [71] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:09:51,598 [71] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:09:51,619 [65] DEBUG Social.Domain.SiteDataContext - -- Completed in 21 ms with result: SqlDataReader

2017-08-10 10:09:51,619 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:51,619 [65] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:09:51,619 [70] DEBUG Social.Domain.SiteDataContext - -- Completed in 21 ms with result: SqlDataReader

2017-08-10 10:09:51,619 [70] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:51,620 [70] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:09:51,622 [59] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:09:51,622 [59] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 10:09:51,622 [59] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:51,623 [59] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 10:09:51,623 [59] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 10:09:51,623 [59] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:09:51,623 [59] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 10:09:51,623 [59] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:09:51,654 [73] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:09:51,655 [73] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 10:09:51,655 [73] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:51,655 [73] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 10:09:51,655 [73] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 10:09:51,655 [73] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:09:51,655 [73] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 10:09:51,655 [73] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:09:51,847 [36] DEBUG Social.Domain.SiteDataContext - -- Completed in 192 ms with result: SqlDataReader

2017-08-10 10:09:51,847 [36] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:51,847 [36] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:09:51,857 [71] DEBUG Social.Domain.SiteDataContext - -- Completed in 192 ms with result: SqlDataReader

2017-08-10 10:09:51,857 [71] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:09:51,858 [71] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:09:51 AM +08:00

2017-08-10 10:10:07,318 [31] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:10:07 AM +08:00

2017-08-10 10:10:07,319 [31] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 10:10:07,319 [31] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:10:07,319 [31] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:10:07,319 [31] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:10:07 AM +08:00

2017-08-10 10:10:07,325 [71] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-10 10:10:07,325 [71] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:10:07,325 [71] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:10:07 AM +08:00

2017-08-10 10:10:07,332 [71] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:10:07 AM +08:00

2017-08-10 10:10:07,334 [71] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 10:10:07,334 [71] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:10:07,334 [71] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 10:10:07,335 [71] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 10:10:07,335 [71] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:10:07,335 [71] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 10:10:07,335 [71] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:10:07 AM +08:00

2017-08-10 10:10:07,355 [36] DEBUG Social.Domain.SiteDataContext - -- Completed in 20 ms with result: SqlDataReader

2017-08-10 10:10:07,355 [36] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:10:07,356 [36] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:10:07 AM +08:00

2017-08-10 10:10:07,372 [36] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 10:10:07 AM +08:00

2017-08-10 10:10:07,376 [36] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-10 10:10:07,376 [36] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:10:07,376 [36] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 10:10:07,376 [36] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 10:10:07,376 [36] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '462070730841176_462070844174498' (Type = String, Size = 4000)

2017-08-10 10:10:07,376 [36] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 10:10:07 AM +08:00

2017-08-10 10:10:07,387 [36] DEBUG Social.Domain.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-08-10 10:10:07,387 [36] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:10:07,387 [36] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:10:07 AM +08:00

2017-08-10 10:13:44,920 [65] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:13:44 AM +08:00

2017-08-10 10:13:44,921 [65] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 10:13:44,921 [65] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:13:44,921 [65] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:13:44,921 [65] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:13:44 AM +08:00

2017-08-10 10:13:44,927 [73] DEBUG Social.Domain.SiteDataContext - -- Completed in 6 ms with result: SqlDataReader

2017-08-10 10:13:44,927 [73] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:13:44,928 [73] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:13:44 AM +08:00

2017-08-10 10:13:44,934 [73] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:13:44 AM +08:00

2017-08-10 10:13:44,935 [73] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 10:13:44,936 [73] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:13:44,936 [73] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 10:13:44,936 [73] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 10:13:44,936 [73] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:13:44,936 [73] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 10:13:44,936 [73] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:13:44 AM +08:00

2017-08-10 10:13:44,945 [31] DEBUG Social.Domain.SiteDataContext - -- Completed in 9 ms with result: SqlDataReader

2017-08-10 10:13:44,946 [31] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:13:44,946 [31] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:13:44 AM +08:00

2017-08-10 10:16:05,534 [31] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:16:05 AM +08:00

2017-08-10 10:16:05,534 [31] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 10:16:05,534 [31] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:16:05,534 [31] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:16:05,534 [31] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:16:05 AM +08:00

2017-08-10 10:16:05,538 [70] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-10 10:16:05,539 [70] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:16:05,539 [70] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:16:05 AM +08:00

2017-08-10 10:16:05,544 [70] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 10:16:05 AM +08:00

2017-08-10 10:16:05,545 [70] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 10:16:05,545 [70] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:16:05,545 [70] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 10:16:05,545 [70] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 10:16:05,545 [70] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 10:16:05,545 [70] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 10:16:05,545 [70] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 10:16:05 AM +08:00

2017-08-10 10:16:05,556 [31] DEBUG Social.Domain.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-08-10 10:16:05,556 [31] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:16:05,557 [31] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:16:05 AM +08:00

2017-08-10 10:16:05,570 [31] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 10:16:05 AM +08:00

2017-08-10 10:16:05,571 [31] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Source] = @p__linq__0) AND ([Extent1].[OriginalId] = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-10 10:16:05,571 [31] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:16:05,571 [31] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 10:16:05,571 [31] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 10:16:05,571 [31] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: 'FacebookPost' (Type = Int16)

2017-08-10 10:16:05,571 [31] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '426763217705261_462071864174396' (Type = String, Size = 4000)

2017-08-10 10:16:05,571 [31] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 10:16:05 AM +08:00

2017-08-10 10:16:05,583 [31] DEBUG Social.Domain.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-08-10 10:16:05,583 [31] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 10:16:05,583 [31] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 10:16:05 AM +08:00

2017-08-10 11:32:19,806 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 11:32:20,758 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-10 11:32:24,942 [12] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 11:32:24 AM +08:00

2017-08-10 11:32:26,217 [12] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 11:32:26,217 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:32:26,220 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 11:32:26,223 [12] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 11:32:26 AM +08:00

2017-08-10 11:32:26,303 [11] DEBUG Social.Domain.SiteDataContext - -- Completed in 78 ms with result: SqlDataReader

2017-08-10 11:32:26,303 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:32:26,380 [11] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 11:32:26 AM +08:00

2017-08-10 11:32:28,637 [11] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 11:32:28 AM +08:00

2017-08-10 11:32:28,968 [11] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 11:32:28,968 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:32:28,968 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 11:32:28,968 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 11:32:28,968 [11] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 11:32:28,968 [11] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 11:32:28,968 [11] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 11:32:28 AM +08:00

2017-08-10 11:32:28,983 [14] DEBUG Social.Domain.SiteDataContext - -- Completed in 14 ms with result: SqlDataReader

2017-08-10 11:32:28,983 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:32:29,066 [14] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 11:32:29 AM +08:00

2017-08-10 11:32:29,090 [14] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 11:32:29 AM +08:00

2017-08-10 11:32:29,126 [14] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Source] = @p__linq__0) AND ([Extent1].[OriginalId] = @p__linq__1)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-10 11:32:29,126 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:32:29,126 [14] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 11:32:29,126 [14] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 11:32:29,126 [14] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: 'FacebookPost' (Type = Int16)

2017-08-10 11:32:29,126 [14] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '426763217705261_462090167505899' (Type = String, Size = 4000)

2017-08-10 11:32:29,126 [14] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 11:32:29 AM +08:00

2017-08-10 11:32:29,129 [14] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 11:32:29,129 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:32:29,133 [14] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 11:32:29 AM +08:00

2017-08-10 11:33:02,455 [17] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 11:33:02 AM +08:00

2017-08-10 11:33:02,458 [17] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 11:33:02,458 [17] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:33:02,458 [17] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 11:33:02,458 [17] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 11:33:02 AM +08:00

2017-08-10 11:33:02,739 [14] DEBUG Social.Domain.SiteDataContext - -- Completed in 281 ms with result: SqlDataReader

2017-08-10 11:33:02,739 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:33:02,739 [14] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 11:33:02 AM +08:00

2017-08-10 11:33:02,786 [14] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 11:33:02 AM +08:00

2017-08-10 11:33:02,787 [14] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 11:33:02,787 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:33:02,787 [14] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 11:33:02,787 [14] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 11:33:02,787 [14] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 11:33:02,787 [14] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 11:33:02,787 [14] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 11:33:02 AM +08:00

2017-08-10 11:33:03,014 [17] DEBUG Social.Domain.SiteDataContext - -- Completed in 227 ms with result: SqlDataReader

2017-08-10 11:33:03,014 [17] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:33:03,015 [17] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 11:33:03 AM +08:00

2017-08-10 11:33:03,022 [17] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 11:33:03 AM +08:00

2017-08-10 11:33:03,023 [17] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-10 11:33:03,023 [17] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:33:03,024 [17] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 11:33:03,024 [17] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 11:33:03,024 [17] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '462090167505899_462090427505873' (Type = String, Size = 4000)

2017-08-10 11:33:03,024 [17] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 11:33:03 AM +08:00

2017-08-10 11:33:03,089 [17] DEBUG Social.Domain.SiteDataContext - -- Completed in 65 ms with result: SqlDataReader

2017-08-10 11:33:03,089 [17] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:33:03,089 [17] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 11:33:03 AM +08:00

2017-08-10 11:34:12,577 [22] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 11:34:12 AM +08:00

2017-08-10 11:34:12,577 [22] DEBUG Social.Domain.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[SiteId] AS [SiteId], 
    [Extent1].[FacebookPageId] AS [FacebookPageId], 
    [Extent1].[TwitterUserId] AS [TwitterUserId]
    FROM [dbo].[t_Site_SocialAccount] AS [Extent1]
    WHERE ([Extent1].[FacebookPageId] = @p__linq__0) OR (([Extent1].[FacebookPageId] IS NULL) AND (@p__linq__0 IS NULL))
2017-08-10 11:34:12,577 [22] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:34:12,577 [22] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 11:34:12,577 [22] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 11:34:12 AM +08:00

2017-08-10 11:34:12,593 [14] DEBUG Social.Domain.SiteDataContext - -- Completed in 15 ms with result: SqlDataReader

2017-08-10 11:34:12,593 [14] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:34:12,593 [14] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 11:34:12 AM +08:00

2017-08-10 11:34:12,595 [12] DEBUG Social.Domain.SiteDataContext - Opened connection asynchronously at 8/10/2017 11:34:12 AM +08:00

2017-08-10 11:34:12,595 [12] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Token] AS [Token], 
    [Limit1].[TokenSecret] AS [TokenSecret], 
    [Limit1].[IfEnable] AS [IfEnable], 
    [Limit1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Limit1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Limit1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Limit1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Limit1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Limit1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Limit1].[CreatedTime] AS [CreatedTime], 
    [Limit1].[CreatedBy] AS [CreatedBy], 
    [Limit1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Limit1].[ConversationAgentId] AS [ConversationAgentId], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[ConversationPriority] AS [ConversationPriority], 
    [Limit1].[SiteId] AS [SiteId], 
    [Limit1].[Id1] AS [Id1], 
    [Limit1].[OriginalId] AS [OriginalId], 
    [Limit1].[OriginalLink] AS [OriginalLink], 
    [Limit1].[Source] AS [Source], 
    [Limit1].[Type] AS [Type], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[ScreenName] AS [ScreenName], 
    [Limit1].[Email] AS [Email], 
    [Limit1].[Avatar] AS [Avatar], 
    [Limit1].[IsDeleted1] AS [IsDeleted1], 
    [Limit1].[SiteId1] AS [SiteId1]
    FROM ( SELECT TOP (1) 
        [Filter1].[Id1] AS [Id], 
        [Filter1].[Token] AS [Token], 
        [Filter1].[TokenSecret] AS [TokenSecret], 
        [Filter1].[IfEnable] AS [IfEnable], 
        [Filter1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Filter1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Filter1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Filter1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Filter1].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Filter1].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Filter1].[CreatedTime] AS [CreatedTime], 
        [Filter1].[CreatedBy] AS [CreatedBy], 
        [Filter1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Filter1].[ConversationAgentId] AS [ConversationAgentId], 
        [Filter1].[IsDeleted1] AS [IsDeleted], 
        [Filter1].[ConversationPriority] AS [ConversationPriority], 
        [Filter1].[SiteId1] AS [SiteId], 
        [Extent3].[Id] AS [Id1], 
        [Extent3].[OriginalId] AS [OriginalId], 
        [Extent3].[OriginalLink] AS [OriginalLink], 
        [Extent3].[Source] AS [Source], 
        [Extent3].[Type] AS [Type], 
        [Extent3].[Name] AS [Name], 
        [Extent3].[ScreenName] AS [ScreenName], 
        [Extent3].[Email] AS [Email], 
        [Extent3].[Avatar] AS [Avatar], 
        [Extent3].[IsDeleted] AS [IsDeleted1], 
        [Extent3].[SiteId] AS [SiteId1]
        FROM   (SELECT [Extent1].[Id] AS [Id1], [Extent1].[Token] AS [Token], [Extent1].[TokenSecret] AS [TokenSecret], [Extent1].[IfEnable] AS [IfEnable], [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], [Extent1].[CreatedTime] AS [CreatedTime], [Extent1].[CreatedBy] AS [CreatedBy], [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], [Extent1].[ConversationAgentId] AS [ConversationAgentId], [Extent1].[IsDeleted] AS [IsDeleted1], [Extent1].[ConversationPriority] AS [ConversationPriority], [Extent1].[SiteId] AS [SiteId1], [Extent2].[OriginalId] AS [OriginalId], [Extent2].[Source] AS [Source]
            FROM  [dbo].[t_Social_Account] AS [Extent1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[IfEnable] = 1) AND (0 = [Extent1].[IsDeleted]) ) AS [Filter1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Filter1].[Id1] = [Extent3].[Id])
        WHERE (([Filter1].[SiteId1] = @DynamicFilterParam_000001) ) AND (([Filter1].[OriginalId] = @p__linq__0) OR (([Filter1].[OriginalId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Filter1].[Source] = @p__linq__1)
    )  AS [Limit1]
2017-08-10 11:34:12,595 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:34:12,595 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 11:34:12,596 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 11:34:12,596 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '426763217705261' (Type = String, Size = 4000)

2017-08-10 11:34:12,596 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'Facebook' (Type = Int16)

2017-08-10 11:34:12,596 [12] DEBUG Social.Domain.SiteDataContext - -- Executing asynchronously at 8/10/2017 11:34:12 AM +08:00

2017-08-10 11:34:12,608 [22] DEBUG Social.Domain.SiteDataContext - -- Completed in 12 ms with result: SqlDataReader

2017-08-10 11:34:12,608 [22] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:34:12,608 [22] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 11:34:12 AM +08:00

2017-08-10 11:34:12,611 [11] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 11:34:12 AM +08:00

2017-08-10 11:34:12,612 [11] DEBUG Social.Domain.SiteDataContext - SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[OriginalId] = @p__linq__0)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2017-08-10 11:34:12,612 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:34:12,612 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 11:34:12,612 [11] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 11:34:12,612 [11] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '462090167505899_462090584172524' (Type = String, Size = 4000)

2017-08-10 11:34:12,612 [11] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 11:34:12 AM +08:00

2017-08-10 11:34:12,614 [11] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 11:34:12,614 [11] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 11:34:12,614 [11] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 11:34:12 AM +08:00

2017-08-10 13:10:15,061 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 13:10:16,967 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-10 13:11:07,593 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:11:07 PM +08:00

2017-08-10 13:11:08,921 [12] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 13:11:08,921 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:08,923 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:11:08,923 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:11:08,923 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '107813689896561' (Type = String, Size = 4000)

2017-08-10 13:11:08,923 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:11:08 PM +08:00

2017-08-10 13:11:08,980 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 54 ms with result: SqlDataReader

2017-08-10 13:11:08,980 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:09,048 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:11:09 PM +08:00

2017-08-10 13:11:11,552 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,590 [12] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 13:11:11,590 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:11,590 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:11:11,590 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:11:11,590 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '8' (Type = Int32, IsNullable = false)

2017-08-10 13:11:11,590 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '8' (Type = Int32, IsNullable = false)

2017-08-10 13:11:11,590 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,601 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-08-10 13:11:11,601 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:11,606 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,667 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,756 [12] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 13:11:11,756 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:11,756 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:11:11,756 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:11:11,756 [12] DEBUG Social.Domain.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-08-10 13:11:11,757 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,767 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-08-10 13:11:11,767 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:11,794 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,803 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,804 [12] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 13:11:11,804 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:11,804 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:11:11,804 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:11:11,804 [12] DEBUG Social.Domain.SiteDataContext - -- p0: '1010' (Type = Int32)

2017-08-10 13:11:11,804 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,805 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:11:11,805 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:11,805 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,805 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,805 [12] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 13:11:11,805 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:11,805 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:11:11,805 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:11:11,805 [12] DEBUG Social.Domain.SiteDataContext - -- p0: '1013' (Type = Int32)

2017-08-10 13:11:11,805 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,806 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:11:11,806 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:11,825 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,825 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,826 [12] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 13:11:11,826 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:11,826 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:11:11,826 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:11:11,826 [12] DEBUG Social.Domain.SiteDataContext - -- p0: '2019' (Type = Int32)

2017-08-10 13:11:11,826 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:11,826 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:11:11,826 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:11,826 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:11:11 PM +08:00

2017-08-10 13:11:14,820 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:11:14 PM +08:00

2017-08-10 13:11:14,854 [12] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 13:11:14,855 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:14,855 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:11:14,855 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:11:14,855 [12] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1005' (Type = Int32, IsNullable = false)

2017-08-10 13:11:14,855 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:11:14 PM +08:00

2017-08-10 13:11:14,857 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 13:11:14,857 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:14,875 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:11:14 PM +08:00

2017-08-10 13:11:16,268 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:11:16 PM +08:00

2017-08-10 13:11:16,302 [12] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 13:11:16,302 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:16,302 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:11:16,302 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:11:16,302 [12] DEBUG Social.Domain.SiteDataContext - -- p0: '6' (Type = Int32)

2017-08-10 13:11:16,302 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:11:16 PM +08:00

2017-08-10 13:11:16,315 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 12 ms with result: SqlDataReader

2017-08-10 13:11:16,315 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:11:16,322 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:11:16 PM +08:00

2017-08-10 13:13:35,930 [12] ERROR Social.Infrastructure.Logger - Get user info from facebook failed.token=EAAHEVNVxMtUBAB1gQ7sYSTlFWDgtoJRZBgaLNt5noVfMJbdf4y80kfkRsYbhYkkNnndOj3b7LpiqLVgr9xukE5LiPvr1Q7ZA3mqF4DcZCitjy0ZBpUvQxdP3ZATb2pLLnZCn5Bvnbz9iRtoYv3eWRg9imTcBIZBSICiSljLw2DM5wZDZD,url=/107813689896561?fields=id,name,link,picture
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenRead()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Get(String path, Object parameters, Type resultType)
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 161
2017-08-10 13:13:35,989 [12] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 182
   at Social.Domain.DomainServices.UserInfoService.GetFacebookInfo(String OriginalId, Conversation conversation, Int32 userId) in F:\social\social_20170728\Social\Social.Domain\DomainServices\UserInfoService.cs:line 64
   at Social.Application.AppServices.UserInfoAppService.Find(String OriginalId) in F:\social\social_20170728\Social\Social.Application\AppServices\UserInfoAppService.cs:line 38
   at Social.WebApi.Controllers.UserInfoController.GetUserInfo(String OriginalId) in F:\social\social_20170728\Social\Social.WebApi\Controllers\UserInfoController.cs:line 24
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 13:16:19,458 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,458 [18] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 13:16:19,458 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,459 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 13:16:19,459 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:16:19,459 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '107813689896561' (Type = String, Size = 4000)

2017-08-10 13:16:19,459 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,473 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 13 ms with result: SqlDataReader

2017-08-10 13:16:19,473 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,473 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,474 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,476 [18] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 13:16:19,476 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,476 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 13:16:19,476 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:16:19,476 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '8' (Type = Int32, IsNullable = false)

2017-08-10 13:16:19,476 [18] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '8' (Type = Int32, IsNullable = false)

2017-08-10 13:16:19,476 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,486 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 9 ms with result: SqlDataReader

2017-08-10 13:16:19,486 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,486 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,486 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,487 [18] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 13:16:19,487 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,487 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 13:16:19,487 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:16:19,487 [18] DEBUG Social.Domain.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-08-10 13:16:19,487 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,490 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 13:16:19,490 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,490 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,490 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,491 [18] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 13:16:19,491 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,491 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 13:16:19,491 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:16:19,491 [18] DEBUG Social.Domain.SiteDataContext - -- p0: '1010' (Type = Int32)

2017-08-10 13:16:19,491 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,492 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:16:19,492 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,492 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,492 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,493 [18] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 13:16:19,493 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,493 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 13:16:19,493 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:16:19,493 [18] DEBUG Social.Domain.SiteDataContext - -- p0: '1013' (Type = Int32)

2017-08-10 13:16:19,493 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,493 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:16:19,493 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,494 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,494 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,494 [18] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 13:16:19,494 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,494 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 13:16:19,494 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:16:19,494 [18] DEBUG Social.Domain.SiteDataContext - -- p0: '2019' (Type = Int32)

2017-08-10 13:16:19,494 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:19,495 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:16:19,495 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:19,495 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:16:19 PM +08:00

2017-08-10 13:16:23,225 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:16:23 PM +08:00

2017-08-10 13:16:23,226 [18] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 13:16:23,226 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:23,226 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 13:16:23,226 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:16:23,226 [18] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1005' (Type = Int32, IsNullable = false)

2017-08-10 13:16:23,226 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:16:23 PM +08:00

2017-08-10 13:16:23,232 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-10 13:16:23,232 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:23,233 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:16:23 PM +08:00

2017-08-10 13:16:24,499 [18] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:16:24 PM +08:00

2017-08-10 13:16:24,503 [18] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 13:16:24,504 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:24,504 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 13:16:24,504 [18] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:16:24,504 [18] DEBUG Social.Domain.SiteDataContext - -- p0: '6' (Type = Int32)

2017-08-10 13:16:24,504 [18] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:16:24 PM +08:00

2017-08-10 13:16:24,521 [18] DEBUG Social.Domain.SiteDataContext - -- Completed in 17 ms with result: SqlDataReader

2017-08-10 13:16:24,521 [18] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:16:24,521 [18] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:16:24 PM +08:00

2017-08-10 13:18:23,809 [18] ERROR Social.Infrastructure.Logger - Get user info from facebook failed.token=EAAHEVNVxMtUBAB1gQ7sYSTlFWDgtoJRZBgaLNt5noVfMJbdf4y80kfkRsYbhYkkNnndOj3b7LpiqLVgr9xukE5LiPvr1Q7ZA3mqF4DcZCitjy0ZBpUvQxdP3ZATb2pLLnZCn5Bvnbz9iRtoYv3eWRg9imTcBIZBSICiSljLw2DM5wZDZD,url=/107813689896561?fields=id,name,link,picture
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenRead()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Get(String path, Object parameters, Type resultType)
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 161
2017-08-10 13:18:23,811 [18] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 182
   at Social.Domain.DomainServices.UserInfoService.GetFacebookInfo(String OriginalId, Conversation conversation, Int32 userId) in F:\social\social_20170728\Social\Social.Domain\DomainServices\UserInfoService.cs:line 64
   at Social.Application.AppServices.UserInfoAppService.Find(String OriginalId) in F:\social\social_20170728\Social\Social.Application\AppServices\UserInfoAppService.cs:line 38
   at Social.WebApi.Controllers.UserInfoController.GetUserInfo(String OriginalId) in F:\social\social_20170728\Social\Social.WebApi\Controllers\UserInfoController.cs:line 24
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 13:18:45,816 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 13:18:48,466 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-10 13:19:05,041 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:19:05 PM +08:00

2017-08-10 13:19:06,304 [9] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 13:19:06,304 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:06,306 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:19:06,306 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:19:06,306 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '107813689896561' (Type = String, Size = 4000)

2017-08-10 13:19:06,306 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:19:06 PM +08:00

2017-08-10 13:19:06,351 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 43 ms with result: SqlDataReader

2017-08-10 13:19:06,351 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:06,409 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:19:06 PM +08:00

2017-08-10 13:19:12,871 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:19:12 PM +08:00

2017-08-10 13:19:12,897 [9] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 13:19:12,897 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:12,897 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:19:12,897 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:19:12,897 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '8' (Type = Int32, IsNullable = false)

2017-08-10 13:19:12,897 [9] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '8' (Type = Int32, IsNullable = false)

2017-08-10 13:19:12,897 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:19:12 PM +08:00

2017-08-10 13:19:12,900 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-10 13:19:12,900 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:12,903 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:19:12 PM +08:00

2017-08-10 13:19:12,948 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:19:12 PM +08:00

2017-08-10 13:19:13,007 [9] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 13:19:13,007 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:13,007 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:19:13,007 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:19:13,007 [9] DEBUG Social.Domain.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-08-10 13:19:13,007 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:19:13 PM +08:00

2017-08-10 13:19:13,016 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-08-10 13:19:13,016 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:13,031 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:19:13 PM +08:00

2017-08-10 13:19:13,036 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:19:13 PM +08:00

2017-08-10 13:19:13,037 [9] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 13:19:13,037 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:13,037 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:19:13,037 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:19:13,037 [9] DEBUG Social.Domain.SiteDataContext - -- p0: '1010' (Type = Int32)

2017-08-10 13:19:13,037 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:19:13 PM +08:00

2017-08-10 13:19:13,037 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:19:13,037 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:13,037 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:19:13 PM +08:00

2017-08-10 13:19:13,037 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:19:13 PM +08:00

2017-08-10 13:19:13,038 [9] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 13:19:13,038 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:13,038 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:19:13,038 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:19:13,038 [9] DEBUG Social.Domain.SiteDataContext - -- p0: '1013' (Type = Int32)

2017-08-10 13:19:13,038 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:19:13 PM +08:00

2017-08-10 13:19:13,038 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:19:13,038 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:13,051 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:19:13 PM +08:00

2017-08-10 13:19:13,052 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:19:13 PM +08:00

2017-08-10 13:19:13,052 [9] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 13:19:13,052 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:13,052 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:19:13,052 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:19:13,052 [9] DEBUG Social.Domain.SiteDataContext - -- p0: '2019' (Type = Int32)

2017-08-10 13:19:13,052 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:19:13 PM +08:00

2017-08-10 13:19:13,052 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:19:13,052 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:13,052 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:19:13 PM +08:00

2017-08-10 13:19:16,250 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:19:16 PM +08:00

2017-08-10 13:19:16,315 [9] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 13:19:16,315 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:16,315 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:19:16,315 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:19:16,315 [9] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1005' (Type = Int32, IsNullable = false)

2017-08-10 13:19:16,315 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:19:16 PM +08:00

2017-08-10 13:19:16,317 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 13:19:16,317 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:16,330 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:19:16 PM +08:00

2017-08-10 13:19:18,154 [9] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:19:18 PM +08:00

2017-08-10 13:19:18,175 [9] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 13:19:18,175 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:18,175 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:19:18,175 [9] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:19:18,175 [9] DEBUG Social.Domain.SiteDataContext - -- p0: '6' (Type = Int32)

2017-08-10 13:19:18,175 [9] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:19:18 PM +08:00

2017-08-10 13:19:18,186 [9] DEBUG Social.Domain.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-08-10 13:19:18,186 [9] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:19:18,191 [9] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:19:18 PM +08:00

2017-08-10 13:20:36,224 [19] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 13:20:37,867 [19] INFO  System.Web.HttpApplication - Application started...
2017-08-10 13:22:21,012 [46] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 13:22:52,335 [46] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 13:26:39,488 [46] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 13:26:43,051 [46] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 13:27:20,675 [46] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 13:27:43,687 [46] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 13:27:51,251 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:51 PM +08:00

2017-08-10 13:27:52,728 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[Index] AS [Index], 
    [Project1].[IfPublic] AS [IfPublic], 
    [Project1].[Type] AS [Type], 
    [Project1].[LogicalExpression] AS [LogicalExpression], 
    [Project1].[CreatedBy] AS [CreatedBy], 
    [Project1].[CreatedTime] AS [CreatedTime], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FilterId] AS [FilterId], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[MatchType] AS [MatchType], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index1] AS [Index1], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Index] AS [Index], 
        [Extent1].[IfPublic] AS [IfPublic], 
        [Extent1].[Type] AS [Type], 
        [Extent1].[LogicalExpression] AS [LogicalExpression], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FilterId] AS [FilterId], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[MatchType] AS [MatchType], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index1], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_Filter] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_FilterCondition] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FilterId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[IfPublic] = 1 OR [Extent1].[CreatedBy] = @p__linq__0)
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-08-10 13:27:52,729 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:52,731 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:52,731 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:52,731 [38] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-08-10 13:27:52,731 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:52 PM +08:00

2017-08-10 13:27:52,901 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 167 ms with result: SqlDataReader

2017-08-10 13:27:52,901 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,043 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,107 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,168 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-08-10 13:27:53,168 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,168 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,168 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,168 [38] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '4' (Type = Int32, IsNullable = false)

2017-08-10 13:27:53,168 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,195 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 26 ms with result: SqlDataReader

2017-08-10 13:27:53,195 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,202 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,209 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,209 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-08-10 13:27:53,209 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,209 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,209 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,209 [38] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '2' (Type = Int32, IsNullable = false)

2017-08-10 13:27:53,209 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,210 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:27:53,210 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,210 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,224 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,323 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND (4 <> [Extent1].[Status]) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-08-10 13:27:53,324 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,324 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,324 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,324 [38] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-08-10 13:27:53,324 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,355 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 31 ms with result: SqlDataReader

2017-08-10 13:27:53,355 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,360 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,361 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,361 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-08-10 13:27:53,361 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,361 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,361 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,361 [38] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '3' (Type = Int32, IsNullable = false)

2017-08-10 13:27:53,361 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,361 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:27:53,361 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,361 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,363 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,366 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND (4 <> [Extent1].[Status]) AND (([Extent1].[DepartmentId] = @p__linq__0) OR (([Extent1].[DepartmentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-08-10 13:27:53,366 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,366 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,366 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,366 [38] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-08-10 13:27:53,366 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,368 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 13:27:53,368 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,368 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,369 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,378 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
        WHERE 1 = 0
    )  AS [GroupBy1]
2017-08-10 13:27:53,378 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,378 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,380 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 13:27:53,380 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,380 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,381 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,383 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND (4 <> [Extent1].[Status])
    )  AS [GroupBy1]
2017-08-10 13:27:53,383 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,383 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,383 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,383 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,384 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 13:27:53,384 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,384 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,385 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,387 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL))) AND (([Extent1].[DepartmentId] = @p__linq__1) OR (([Extent1].[DepartmentId] IS NULL) AND (@p__linq__1 IS NULL)))
    )  AS [GroupBy1]
2017-08-10 13:27:53,387 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,387 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,387 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,387 [38] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: 'null' (Type = Int32)

2017-08-10 13:27:53,387 [38] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: 'null' (Type = Int32)

2017-08-10 13:27:53,387 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,389 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 13:27:53,389 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,389 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,389 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,390 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted])
    )  AS [GroupBy1]
2017-08-10 13:27:53,390 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,390 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,390 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,390 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,391 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 13:27:53,391 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,391 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,392 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,392 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted])
    )  AS [GroupBy1]
2017-08-10 13:27:53,392 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,392 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,392 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,392 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,392 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:27:53,392 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,392 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,392 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted])
    )  AS [GroupBy1]
2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted])
    )  AS [GroupBy1]
2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,393 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted])
    )  AS [GroupBy1]
2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,394 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,395 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,395 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted])
    )  AS [GroupBy1]
2017-08-10 13:27:53,395 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,395 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,395 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,395 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,395 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:27:53,395 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,395 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,395 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted])
    )  AS [GroupBy1]
2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted])
    )  AS [GroupBy1]
2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,396 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,397 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,397 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:27:53,397 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,397 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,397 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,397 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted])
    )  AS [GroupBy1]
2017-08-10 13:27:53,397 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,397 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 13:27:53,397 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 13:27:53,397 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 1:27:53 PM +08:00

2017-08-10 13:27:53,398 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 13:27:53,398 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 13:27:53,398 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 1:27:53 PM +08:00

2017-08-10 14:38:42,527 [42] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 14:38:58,568 [38] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 14:41:41,130 [38] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 2:41:41 PM +08:00

2017-08-10 14:41:41,226 [38] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-10 14:41:41,227 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:41:41,227 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 14:41:41,227 [38] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 14:41:41,227 [38] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 2:41:41 PM +08:00

2017-08-10 14:41:41,246 [38] DEBUG Social.Domain.SiteDataContext - -- Completed in 18 ms with result: SqlDataReader

2017-08-10 14:41:41,246 [38] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:41:41,247 [38] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 2:41:41 PM +08:00

2017-08-10 14:43:32,560 [38] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 14:50:47,754 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 14:50:48,435 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-10 14:53:21,695 [68] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 2:53:21 PM +08:00

2017-08-10 14:53:23,074 [68] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 14:53:23,074 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,076 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 14:53:23,076 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 14:53:23,076 [68] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '107813689896561' (Type = String, Size = 4000)

2017-08-10 14:53:23,076 [68] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,093 [68] DEBUG Social.Domain.SiteDataContext - -- Completed in 15 ms with result: SqlDataReader

2017-08-10 14:53:23,093 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,160 [68] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,169 [68] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,204 [68] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 14:53:23,204 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,204 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 14:53:23,204 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 14:53:23,204 [68] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '8' (Type = Int32, IsNullable = false)

2017-08-10 14:53:23,204 [68] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '8' (Type = Int32, IsNullable = false)

2017-08-10 14:53:23,204 [68] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,216 [68] DEBUG Social.Domain.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-08-10 14:53:23,216 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,221 [68] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,283 [68] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,378 [68] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 14:53:23,378 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,378 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 14:53:23,378 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 14:53:23,378 [68] DEBUG Social.Domain.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-08-10 14:53:23,378 [68] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,382 [68] DEBUG Social.Domain.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-08-10 14:53:23,382 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,405 [68] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,411 [68] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,412 [68] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 14:53:23,412 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,412 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 14:53:23,412 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 14:53:23,412 [68] DEBUG Social.Domain.SiteDataContext - -- p0: '1010' (Type = Int32)

2017-08-10 14:53:23,412 [68] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,413 [68] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 14:53:23,413 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,413 [68] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,413 [68] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,413 [68] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 14:53:23,413 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,413 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 14:53:23,413 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 14:53:23,413 [68] DEBUG Social.Domain.SiteDataContext - -- p0: '1013' (Type = Int32)

2017-08-10 14:53:23,413 [68] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,414 [68] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 14:53:23,414 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,435 [68] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,436 [68] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,436 [68] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 14:53:23,436 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,436 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 14:53:23,436 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 14:53:23,436 [68] DEBUG Social.Domain.SiteDataContext - -- p0: '2019' (Type = Int32)

2017-08-10 14:53:23,436 [68] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:23,436 [68] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 14:53:23,436 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:23,436 [68] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 2:53:23 PM +08:00

2017-08-10 14:53:27,125 [68] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 2:53:27 PM +08:00

2017-08-10 14:53:27,156 [68] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 14:53:27,156 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:27,156 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 14:53:27,156 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 14:53:27,156 [68] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1005' (Type = Int32, IsNullable = false)

2017-08-10 14:53:27,156 [68] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 2:53:27 PM +08:00

2017-08-10 14:53:27,158 [68] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 14:53:27,158 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:27,176 [68] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 2:53:27 PM +08:00

2017-08-10 14:53:28,558 [68] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 2:53:28 PM +08:00

2017-08-10 14:53:28,588 [68] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 14:53:28,588 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:28,588 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 14:53:28,588 [68] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 14:53:28,588 [68] DEBUG Social.Domain.SiteDataContext - -- p0: '6' (Type = Int32)

2017-08-10 14:53:28,588 [68] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 2:53:28 PM +08:00

2017-08-10 14:53:28,600 [68] DEBUG Social.Domain.SiteDataContext - -- Completed in 12 ms with result: SqlDataReader

2017-08-10 14:53:28,600 [68] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 14:53:28,608 [68] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 2:53:28 PM +08:00

2017-08-10 14:55:27,759 [68] ERROR Social.Infrastructure.Logger - Get user info from facebook failed.token=EAAHEVNVxMtUBAB1gQ7sYSTlFWDgtoJRZBgaLNt5noVfMJbdf4y80kfkRsYbhYkkNnndOj3b7LpiqLVgr9xukE5LiPvr1Q7ZA3mqF4DcZCitjy0ZBpUvQxdP3ZATb2pLLnZCn5Bvnbz9iRtoYv3eWRg9imTcBIZBSICiSljLw2DM5wZDZD,url=/107813689896561?fields=id,name,link,picture
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenRead()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Get(String path, Object parameters, Type resultType)
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 161
2017-08-10 14:55:29,964 [68] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Social.Infrastructure.Facebook.FbClient.GetFacebookUserInfo(String token, String fbUserId) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 182
   at Social.Domain.DomainServices.UserInfoService.GetFacebookInfo(String OriginalId, Conversation conversation, Int32 userId) in F:\social\social_20170728\Social\Social.Domain\DomainServices\UserInfoService.cs:line 64
   at Social.Application.AppServices.UserInfoAppService.Find(String OriginalId) in F:\social\social_20170728\Social\Social.Application\AppServices\UserInfoAppService.cs:line 38
   at Social.WebApi.Controllers.UserInfoController.GetUserInfo(String OriginalId) in F:\social\social_20170728\Social\Social.WebApi\Controllers\UserInfoController.cs:line 24
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 15:01:06,746 [31] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 15:06:46,768 [23] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 15:07:28,093 [23] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Social.Domain.DomainServices.TwitterAuthService.InitAuthentication(String redirectUri) in F:\social\social_20170728\Social\Social.Domain\DomainServices\TwitterAuthService.cs:line 43
   at Social.Application.AppServices.TwitterAccountAppService.InitAuthentication(String redirectUri) in F:\social\social_20170728\Social\Social.Application\AppServices\TwitterAccountAppService.cs:line 51
   at Social.WebApi.Controllers.TwitterAccountsController.IntegrationRequest(String redirectUri) in F:\social\social_20170728\Social\Social.WebApi\Controllers\TwitterAccountsController.cs:line 46
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 15:11:24,402 [62] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 15:12:37,985 [137] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 15:16:03,707 [137] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:16:03 PM +08:00

2017-08-10 15:16:03,894 [137] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Avatar] AS [Avatar]
    FROM  [dbo].[t_Social_Account] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (0 = [Extent2].[Source])
2017-08-10 15:16:03,894 [137] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:16:03,894 [137] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:16:03,894 [137] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:16:03,894 [137] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:16:03 PM +08:00

2017-08-10 15:16:03,909 [137] DEBUG Social.Domain.SiteDataContext - -- Completed in 15 ms with result: SqlDataReader

2017-08-10 15:16:03,909 [137] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:16:03,910 [137] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:16:03 PM +08:00

2017-08-10 15:26:45,309 [155] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.GetUserToken(String code, String redirectUri) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 39
   at Social.Application.AppServices.FacebookAccountAppService.<GetPendingAddPagesAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\FacebookAccountAppService.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.FacebookAccountsController.<GetPendingAddPages>d__4.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FacebookAccountsController.cs:line 44
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 15:33:43,120 [139] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 15:33:44,624 [139] INFO  System.Web.HttpApplication - Application started...
2017-08-10 15:34:32,643 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:32 PM +08:00

2017-08-10 15:34:33,984 [124] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 15:34:33,985 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:33,987 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 15:34:33,987 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:33,987 [124] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '107813689896561' (Type = String, Size = 4000)

2017-08-10 15:34:33,987 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:33 PM +08:00

2017-08-10 15:34:33,995 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-10 15:34:33,995 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:34,060 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,068 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,102 [124] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 15:34:34,102 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:34,102 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 15:34:34,102 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:34,102 [124] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '8' (Type = Int32, IsNullable = false)

2017-08-10 15:34:34,102 [124] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '8' (Type = Int32, IsNullable = false)

2017-08-10 15:34:34,102 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,106 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-10 15:34:34,106 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:34,110 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,173 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,265 [124] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 15:34:34,265 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:34,266 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 15:34:34,266 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:34,266 [124] DEBUG Social.Domain.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-08-10 15:34:34,266 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,277 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-08-10 15:34:34,277 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:34,300 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,307 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,308 [124] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 15:34:34,308 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:34,308 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 15:34:34,308 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:34,308 [124] DEBUG Social.Domain.SiteDataContext - -- p0: '1010' (Type = Int32)

2017-08-10 15:34:34,308 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,308 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:34:34,308 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:34,309 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,309 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,309 [124] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 15:34:34,309 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:34,309 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 15:34:34,309 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:34,309 [124] DEBUG Social.Domain.SiteDataContext - -- p0: '1013' (Type = Int32)

2017-08-10 15:34:34,309 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,309 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:34:34,309 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:34,330 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,331 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,331 [124] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 15:34:34,331 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:34,331 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 15:34:34,331 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:34,331 [124] DEBUG Social.Domain.SiteDataContext - -- p0: '2019' (Type = Int32)

2017-08-10 15:34:34,331 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:34,331 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:34:34,331 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:34,331 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:34 PM +08:00

2017-08-10 15:34:36,366 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:36 PM +08:00

2017-08-10 15:34:36,406 [124] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 15:34:36,406 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:36,406 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 15:34:36,406 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:36,406 [124] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1005' (Type = Int32, IsNullable = false)

2017-08-10 15:34:36,406 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:36 PM +08:00

2017-08-10 15:34:36,408 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 15:34:36,408 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:36,425 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:36 PM +08:00

2017-08-10 15:34:36,431 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:36 PM +08:00

2017-08-10 15:34:36,467 [124] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 15:34:36,467 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:36,467 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 15:34:36,467 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:36,467 [124] DEBUG Social.Domain.SiteDataContext - -- p0: '6' (Type = Int32)

2017-08-10 15:34:36,467 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:36 PM +08:00

2017-08-10 15:34:36,470 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 15:34:36,470 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:36,477 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:36 PM +08:00

2017-08-10 15:34:56,846 [130] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,846 [130] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 15:34:56,846 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,847 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:34:56,847 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:56,847 [130] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '107813689896561' (Type = String, Size = 4000)

2017-08-10 15:34:56,847 [130] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,856 [130] DEBUG Social.Domain.SiteDataContext - -- Completed in 9 ms with result: SqlDataReader

2017-08-10 15:34:56,856 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,856 [130] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,857 [130] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,859 [130] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 15:34:56,859 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,859 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:34:56,859 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:56,859 [130] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '8' (Type = Int32, IsNullable = false)

2017-08-10 15:34:56,859 [130] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '8' (Type = Int32, IsNullable = false)

2017-08-10 15:34:56,859 [130] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,862 [130] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-10 15:34:56,862 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,862 [130] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,863 [130] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,863 [130] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 15:34:56,863 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,863 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:34:56,863 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:56,863 [130] DEBUG Social.Domain.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-08-10 15:34:56,863 [130] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,865 [130] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 15:34:56,865 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,865 [130] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,866 [130] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,866 [130] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 15:34:56,866 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,866 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:34:56,866 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:56,866 [130] DEBUG Social.Domain.SiteDataContext - -- p0: '1010' (Type = Int32)

2017-08-10 15:34:56,867 [130] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,867 [130] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:34:56,867 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,867 [130] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,868 [130] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,869 [130] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 15:34:56,869 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,869 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:34:56,869 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:56,869 [130] DEBUG Social.Domain.SiteDataContext - -- p0: '1013' (Type = Int32)

2017-08-10 15:34:56,869 [130] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,870 [130] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:34:56,870 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,870 [130] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,870 [130] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,871 [130] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 15:34:56,871 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,871 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:34:56,871 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:56,871 [130] DEBUG Social.Domain.SiteDataContext - -- p0: '2019' (Type = Int32)

2017-08-10 15:34:56,871 [130] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:56,871 [130] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:34:56,871 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:56,872 [130] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:56 PM +08:00

2017-08-10 15:34:58,370 [130] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:58 PM +08:00

2017-08-10 15:34:58,371 [130] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 15:34:58,371 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:58,371 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:34:58,371 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:58,371 [130] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1005' (Type = Int32, IsNullable = false)

2017-08-10 15:34:58,371 [130] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:58 PM +08:00

2017-08-10 15:34:58,373 [130] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 15:34:58,373 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:58,374 [130] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:58 PM +08:00

2017-08-10 15:34:58,374 [130] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:34:58 PM +08:00

2017-08-10 15:34:58,375 [130] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 15:34:58,375 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:58,375 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:34:58,375 [130] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:34:58,375 [130] DEBUG Social.Domain.SiteDataContext - -- p0: '6' (Type = Int32)

2017-08-10 15:34:58,375 [130] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:34:58 PM +08:00

2017-08-10 15:34:58,376 [130] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 15:34:58,376 [130] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:34:58,377 [130] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:34:58 PM +08:00

2017-08-10 15:35:02,940 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,941 [124] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 15:35:02,941 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,941 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:35:02,941 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:35:02,941 [124] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '107813689896561' (Type = String, Size = 4000)

2017-08-10 15:35:02,941 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,941 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:35:02,941 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,941 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,941 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,942 [124] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 15:35:02,942 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,942 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:35:02,942 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:35:02,943 [124] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '8' (Type = Int32, IsNullable = false)

2017-08-10 15:35:02,943 [124] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '8' (Type = Int32, IsNullable = false)

2017-08-10 15:35:02,943 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,943 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:35:02,943 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,943 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,943 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,944 [124] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 15:35:02,944 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,944 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:35:02,944 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:35:02,944 [124] DEBUG Social.Domain.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-08-10 15:35:02,944 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,944 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:35:02,944 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,944 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,944 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,945 [124] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 15:35:02,945 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,945 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:35:02,945 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:35:02,945 [124] DEBUG Social.Domain.SiteDataContext - -- p0: '1010' (Type = Int32)

2017-08-10 15:35:02,945 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,945 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:35:02,945 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,945 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,945 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,946 [124] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 15:35:02,946 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,946 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:35:02,946 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:35:02,946 [124] DEBUG Social.Domain.SiteDataContext - -- p0: '1013' (Type = Int32)

2017-08-10 15:35:02,946 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,946 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:35:02,946 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,946 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,946 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,947 [124] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 15:35:02,947 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,947 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:35:02,947 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:35:02,947 [124] DEBUG Social.Domain.SiteDataContext - -- p0: '2019' (Type = Int32)

2017-08-10 15:35:02,947 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:02,947 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:35:02,947 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:02,947 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:35:02 PM +08:00

2017-08-10 15:35:05,419 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:35:05 PM +08:00

2017-08-10 15:35:05,419 [124] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 15:35:05,419 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:05,419 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:35:05,419 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:35:05,419 [124] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1005' (Type = Int32, IsNullable = false)

2017-08-10 15:35:05,419 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:35:05 PM +08:00

2017-08-10 15:35:05,429 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 9 ms with result: SqlDataReader

2017-08-10 15:35:05,429 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:05,430 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:35:05 PM +08:00

2017-08-10 15:35:06,623 [124] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 3:35:06 PM +08:00

2017-08-10 15:35:06,624 [124] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 15:35:06,624 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:06,624 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 15:35:06,624 [124] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 15:35:06,624 [124] DEBUG Social.Domain.SiteDataContext - -- p0: '6' (Type = Int32)

2017-08-10 15:35:06,624 [124] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 3:35:06 PM +08:00

2017-08-10 15:35:06,624 [124] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 15:35:06,624 [124] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 15:35:06,624 [124] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 3:35:06 PM +08:00

2017-08-10 15:57:52,593 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 15:57:55,195 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-10 15:58:54,602 [12] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - A route named 'GetConversations' could not be found in the route collection.
Parameter name: name
System.ArgumentException: A route named 'GetConversations' could not be found in the route collection.
Parameter name: name
   at System.Web.Routing.RouteCollection.GetVirtualPath(RequestContext requestContext, String name, RouteValueDictionary values)
   at System.Web.Http.WebHost.Routing.HostedHttpRouteCollection.GetVirtualPath(HttpRequestMessage request, String name, IDictionary`2 values)
   at System.Web.Http.Routing.UrlHelper.GetVirtualPath(HttpRequestMessage request, String routeName, IDictionary`2 routeValues)
   at System.Web.Http.Routing.UrlHelper.Link(String routeName, IDictionary`2 routeValues)
   at System.Web.Http.Results.CreatedAtRouteNegotiatedContentResult`1.Execute()
   at System.Web.Http.Results.CreatedAtRouteNegotiatedContentResult`1.ExecuteAsync(CancellationToken cancellationToken)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 15:59:53,499 [15] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 15:59:54,904 [15] INFO  System.Web.HttpApplication - Application started...
2017-08-10 16:00:28,713 [14] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - A route named 'Conversations' could not be found in the route collection.
Parameter name: name
System.ArgumentException: A route named 'Conversations' could not be found in the route collection.
Parameter name: name
   at System.Web.Routing.RouteCollection.GetVirtualPath(RequestContext requestContext, String name, RouteValueDictionary values)
   at System.Web.Http.WebHost.Routing.HostedHttpRouteCollection.GetVirtualPath(HttpRequestMessage request, String name, IDictionary`2 values)
   at System.Web.Http.Routing.UrlHelper.GetVirtualPath(HttpRequestMessage request, String routeName, IDictionary`2 routeValues)
   at System.Web.Http.Routing.UrlHelper.Link(String routeName, IDictionary`2 routeValues)
   at System.Web.Http.Results.CreatedAtRouteNegotiatedContentResult`1.Execute()
   at System.Web.Http.Results.CreatedAtRouteNegotiatedContentResult`1.ExecuteAsync(CancellationToken cancellationToken)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 16:31:16,697 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 16:31:18,866 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-10 16:32:27,153 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 4:32:27 PM +08:00

2017-08-10 16:32:28,472 [12] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 16:32:28,472 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 16:32:28,474 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 16:32:28,474 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 16:32:28,474 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '107813689896561' (Type = String, Size = 4000)

2017-08-10 16:32:28,474 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 4:32:28 PM +08:00

2017-08-10 16:32:28,527 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 51 ms with result: SqlDataReader

2017-08-10 16:32:28,527 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 16:32:28,594 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 4:32:28 PM +08:00

2017-08-10 16:32:28,668 [12] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 4:32:28 PM +08:00

2017-08-10 16:32:28,916 [12] DEBUG Social.Domain.SiteDataContext - SELECT TOP (200) 
    [Project2].[Id] AS [Id], 
    [Project2].[Source] AS [Source], 
    [Project2].[OriginalId] AS [OriginalId], 
    [Project2].[IfRead] AS [IfRead], 
    [Project2].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Project2].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Project2].[Name] AS [Name], 
    [Project2].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Project2].[AgentId] AS [AgentId], 
    [Project2].[DepartmentId] AS [DepartmentId], 
    [Project2].[Status] AS [Status], 
    [Project2].[Subject] AS [Subject], 
    [Project2].[Priority] AS [Priority], 
    [Project2].[Note] AS [Note]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalId] AS [OriginalId], 
        [Extent1].[IfRead] AS [IfRead], 
        [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
        [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
        [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
        [Extent1].[AgentId] AS [AgentId], 
        [Extent1].[DepartmentId] AS [DepartmentId], 
        [Extent1].[Status] AS [Status], 
        [Extent1].[Subject] AS [Subject], 
        [Extent1].[Priority] AS [Priority], 
        [Extent1].[Note] AS [Note], 
        [Extent2].[Name] AS [Name]
        FROM  [dbo].[t_Social_Conversation] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[LastMessageSenderId] = [Extent2].[Id])
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND ([Extent1].[CreatedTime] >= @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM [dbo].[t_Social_Message] AS [Extent3]
            WHERE ([Extent1].[Id] = [Extent3].[ConversationId]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (([Extent3].[SenderId] = @p__linq__2) OR ([Extent3].[ReceiverId] = @p__linq__3) OR (([Extent3].[ReceiverId] IS NULL) AND (@p__linq__3 IS NULL)))
        ))
    )  AS [Project2]
    ORDER BY [Project2].[Id] DESC
2017-08-10 16:32:28,916 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 16:32:28,916 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 16:32:28,916 [12] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 16:32:28,916 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '5/10/2017 8:32:28 AM' (Type = DateTime2)

2017-08-10 16:32:28,916 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '8/10/2017 8:32:28 AM' (Type = DateTime2)

2017-08-10 16:32:28,916 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__2: '8' (Type = Int32)

2017-08-10 16:32:28,916 [12] DEBUG Social.Domain.SiteDataContext - -- p__linq__3: '8' (Type = Int32)

2017-08-10 16:32:28,916 [12] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 4:32:28 PM +08:00

2017-08-10 16:32:28,948 [12] DEBUG Social.Domain.SiteDataContext - -- Completed in 32 ms with result: SqlDataReader

2017-08-10 16:32:28,948 [12] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 16:32:28,955 [12] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 4:32:28 PM +08:00

2017-08-10 17:57:25,884 [1] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 17:57:28,217 [1] INFO  System.Web.HttpApplication - Application started...
2017-08-10 17:58:48,802 [6] INFO  System.Web.HttpApplication - Application starting...
2017-08-10 17:58:50,257 [6] INFO  System.Web.HttpApplication - Application started...
2017-08-10 17:59:21,323 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 5:59:21 PM +08:00

2017-08-10 17:59:22,743 [10] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 17:59:22,743 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:22,745 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 17:59:22,745 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 17:59:22,745 [10] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '107813689896561' (Type = String, Size = 4000)

2017-08-10 17:59:22,746 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 5:59:22 PM +08:00

2017-08-10 17:59:22,804 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 56 ms with result: SqlDataReader

2017-08-10 17:59:22,805 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:22,875 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 5:59:22 PM +08:00

2017-08-10 17:59:25,356 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,402 [10] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 17:59:25,402 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:25,402 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 17:59:25,402 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 17:59:25,402 [10] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '8' (Type = Int32, IsNullable = false)

2017-08-10 17:59:25,402 [10] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '8' (Type = Int32, IsNullable = false)

2017-08-10 17:59:25,402 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,409 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 7 ms with result: SqlDataReader

2017-08-10 17:59:25,409 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:25,414 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,479 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,599 [10] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 17:59:25,599 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:25,599 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 17:59:25,599 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 17:59:25,599 [10] DEBUG Social.Domain.SiteDataContext - -- p0: '1005' (Type = Int32)

2017-08-10 17:59:25,599 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,603 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-08-10 17:59:25,603 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:25,629 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,634 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,635 [10] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 17:59:25,635 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:25,635 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 17:59:25,635 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 17:59:25,635 [10] DEBUG Social.Domain.SiteDataContext - -- p0: '1010' (Type = Int32)

2017-08-10 17:59:25,635 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,635 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 17:59:25,635 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:25,636 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,636 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,636 [10] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 17:59:25,636 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:25,636 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 17:59:25,636 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 17:59:25,636 [10] DEBUG Social.Domain.SiteDataContext - -- p0: '1013' (Type = Int32)

2017-08-10 17:59:25,636 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,638 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-08-10 17:59:25,638 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:25,659 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,660 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,660 [10] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 17:59:25,660 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:25,660 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 17:59:25,660 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 17:59:25,660 [10] DEBUG Social.Domain.SiteDataContext - -- p0: '2019' (Type = Int32)

2017-08-10 17:59:25,660 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:25,660 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 17:59:25,660 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:25,661 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 5:59:25 PM +08:00

2017-08-10 17:59:34,568 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 5:59:34 PM +08:00

2017-08-10 17:59:34,603 [10] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 17:59:34,603 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:34,603 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 17:59:34,603 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 17:59:34,603 [10] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1005' (Type = Int32, IsNullable = false)

2017-08-10 17:59:34,603 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 5:59:34 PM +08:00

2017-08-10 17:59:34,606 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 17:59:34,606 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:34,624 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 5:59:34 PM +08:00

2017-08-10 17:59:36,693 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 5:59:36 PM +08:00

2017-08-10 17:59:36,722 [10] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-08-10 17:59:36,722 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:36,722 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-08-10 17:59:36,722 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 17:59:36,722 [10] DEBUG Social.Domain.SiteDataContext - -- p0: '6' (Type = Int32)

2017-08-10 17:59:36,722 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 5:59:36 PM +08:00

2017-08-10 17:59:36,734 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 12 ms with result: SqlDataReader

2017-08-10 17:59:36,734 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 17:59:36,743 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 5:59:36 PM +08:00

2017-08-10 18:02:28,995 [40] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 6:02:28 PM +08:00

2017-08-10 18:02:28,995 [40] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 18:02:28,995 [40] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:02:28,995 [40] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 18:02:28,995 [40] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 18:02:28,995 [40] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '92910149' (Type = String, Size = 4000)

2017-08-10 18:02:28,995 [40] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 6:02:28 PM +08:00

2017-08-10 18:02:29,007 [40] DEBUG Social.Domain.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-08-10 18:02:29,007 [40] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:02:29,007 [40] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 6:02:29 PM +08:00

2017-08-10 18:02:31,040 [40] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 6:02:31 PM +08:00

2017-08-10 18:02:31,042 [40] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 18:02:31,042 [40] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:02:31,042 [40] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 18:02:31,042 [40] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 18:02:31,042 [40] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '14' (Type = Int32, IsNullable = false)

2017-08-10 18:02:31,042 [40] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '14' (Type = Int32, IsNullable = false)

2017-08-10 18:02:31,042 [40] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 6:02:31 PM +08:00

2017-08-10 18:02:31,047 [40] DEBUG Social.Domain.SiteDataContext - -- Completed in 5 ms with result: SqlDataReader

2017-08-10 18:02:31,047 [40] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:02:31,047 [40] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 6:02:31 PM +08:00

2017-08-10 18:03:21,919 [40] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Sequence contains no elements
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Social.Application.AppServices.UserInfoAppService.Find(String OriginalId) in F:\social\social_20170728\Social\Social.Application\AppServices\UserInfoAppService.cs:line 47
   at Social.WebApi.Controllers.UserInfoController.GetUserInfo(String OriginalId) in F:\social\social_20170728\Social\Social.WebApi\Controllers\UserInfoController.cs:line 26
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-08-10 18:03:48,862 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 6:03:48 PM +08:00

2017-08-10 18:03:48,862 [10] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[OriginalId] = @p__linq__0)
2017-08-10 18:03:48,862 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:03:48,862 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 18:03:48,862 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 18:03:48,862 [10] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '880620227460866048' (Type = String, Size = 4000)

2017-08-10 18:03:48,862 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 6:03:48 PM +08:00

2017-08-10 18:03:48,877 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 14 ms with result: SqlDataReader

2017-08-10 18:03:48,877 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:03:48,877 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 6:03:48 PM +08:00

2017-08-10 18:03:51,684 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 6:03:51 PM +08:00

2017-08-10 18:03:51,685 [10] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Distinct1].[ConversationId] AS [ConversationId]
    FROM ( SELECT DISTINCT 
        [Extent1].[ConversationId] AS [ConversationId]
        FROM [dbo].[t_Social_Message] AS [Extent1]
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = @p__linq__0 OR [Extent1].[ReceiverId] = @p__linq__1)
    )  AS [Distinct1]
2017-08-10 18:03:51,685 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:03:51,685 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 18:03:51,685 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 18:03:51,685 [10] DEBUG Social.Domain.SiteDataContext - -- p__linq__0: '15' (Type = Int32, IsNullable = false)

2017-08-10 18:03:51,685 [10] DEBUG Social.Domain.SiteDataContext - -- p__linq__1: '15' (Type = Int32, IsNullable = false)

2017-08-10 18:03:51,685 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 6:03:51 PM +08:00

2017-08-10 18:03:51,699 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 13 ms with result: SqlDataReader

2017-08-10 18:03:51,699 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:03:51,699 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 6:03:51 PM +08:00

2017-08-10 18:03:51,699 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 6:03:51 PM +08:00

2017-08-10 18:03:51,700 [10] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 18:03:51,700 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:03:51,700 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 18:03:51,700 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 18:03:51,700 [10] DEBUG Social.Domain.SiteDataContext - -- p0: '1019' (Type = Int32)

2017-08-10 18:03:51,700 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 6:03:51 PM +08:00

2017-08-10 18:03:51,702 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 18:03:51,702 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:03:51,702 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 6:03:51 PM +08:00

2017-08-10 18:03:51,702 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 6:03:51 PM +08:00

2017-08-10 18:03:51,703 [10] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Conversation] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 18:03:51,703 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:03:51,703 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 18:03:51,703 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 18:03:51,703 [10] DEBUG Social.Domain.SiteDataContext - -- p0: '1020' (Type = Int32)

2017-08-10 18:03:51,703 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 6:03:51 PM +08:00

2017-08-10 18:03:51,703 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-08-10 18:03:51,703 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:03:51,703 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 6:03:51 PM +08:00

2017-08-10 18:04:08,076 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 6:04:08 PM +08:00

2017-08-10 18:04:08,077 [10] DEBUG Social.Domain.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Message] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[ConversationId] = @EntityKeyValue1)
2017-08-10 18:04:08,077 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:04:08,077 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 18:04:08,077 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 18:04:08,077 [10] DEBUG Social.Domain.SiteDataContext - -- EntityKeyValue1: '1019' (Type = Int32, IsNullable = false)

2017-08-10 18:04:08,077 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 6:04:08 PM +08:00

2017-08-10 18:04:08,079 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-08-10 18:04:08,079 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:04:08,079 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 6:04:08 PM +08:00

2017-08-10 18:04:16,284 [10] DEBUG Social.Domain.SiteDataContext - Opened connection at 8/10/2017 6:04:16 PM +08:00

2017-08-10 18:04:16,285 [10] DEBUG Social.Domain.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Token] AS [Token], 
    [Extent1].[TokenSecret] AS [TokenSecret], 
    [Extent1].[IfEnable] AS [IfEnable], 
    [Extent1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Extent1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Extent1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Extent1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Extent1].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Extent1].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Extent1].[ConversationAgentId] AS [ConversationAgentId], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[ConversationPriority] AS [ConversationPriority], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Account] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-08-10 18:04:16,285 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:04:16,285 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-08-10 18:04:16,285 [10] DEBUG Social.Domain.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-08-10 18:04:16,285 [10] DEBUG Social.Domain.SiteDataContext - -- p0: '13' (Type = Int32)

2017-08-10 18:04:16,285 [10] DEBUG Social.Domain.SiteDataContext - -- Executing at 8/10/2017 6:04:16 PM +08:00

2017-08-10 18:04:16,293 [10] DEBUG Social.Domain.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-08-10 18:04:16,293 [10] DEBUG Social.Domain.SiteDataContext - 

2017-08-10 18:04:16,294 [10] DEBUG Social.Domain.SiteDataContext - Closed connection at 8/10/2017 6:04:16 PM +08:00

