2017-11-03 11:07:02,778 [1] INFO  System.Web.HttpApplication - Application starting...
2017-11-03 11:07:04,253 [1] INFO  System.Web.HttpApplication - Application started...
2017-11-03 11:10:37,934 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:10:37 AM +08:00

2017-11-03 11:10:38,098 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014501] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-11-03 11:10:38,099 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:10:38,100 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '57' (Type = Int32, IsNullable = false)

2017-11-03 11:10:38,100 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-11-03 11:10:38,100 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:10:38 AM +08:00

2017-11-03 11:10:38,193 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-11-03 11:10:38,193 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:10:38,195 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:10:38 AM +08:00

2017-11-03 11:10:45,857 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:10:45 AM +08:00

2017-11-03 11:10:45,868 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014501] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:10:45,868 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:10:45,868 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '57' (Type = Int32, IsNullable = false)

2017-11-03 11:10:45,869 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:10:45 AM +08:00

2017-11-03 11:10:45,962 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 92 ms with result: SqlDataReader

2017-11-03 11:10:45,962 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:10:45,991 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:10:45 AM +08:00

2017-11-03 11:10:45,994 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:10:45 AM +08:00

2017-11-03 11:10:46,135 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014501] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014501] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014501] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:10:46,135 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:10:46,135 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014501' (Type = Int32)

2017-11-03 11:10:46,135 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:10:46,135 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '57' (Type = Int32, IsNullable = false)

2017-11-03 11:10:46,135 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:10:46 AM +08:00

2017-11-03 11:10:46,394 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 259 ms with result: SqlDataReader

2017-11-03 11:10:46,394 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:10:46,535 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:10:46 AM +08:00

2017-11-03 11:12:16,778 [1] INFO  System.Web.HttpApplication - Application starting...
2017-11-03 11:12:17,979 [1] INFO  System.Web.HttpApplication - Application started...
2017-11-03 11:12:40,398 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:12:40 AM +08:00

2017-11-03 11:12:40,532 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014501] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:12:40,532 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:12:40,532 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '57' (Type = Int32, IsNullable = false)

2017-11-03 11:12:40,532 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:12:40 AM +08:00

2017-11-03 11:12:40,619 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 87 ms with result: SqlDataReader

2017-11-03 11:12:40,619 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:12:40,652 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:12:40 AM +08:00

2017-11-03 11:12:40,656 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:12:40 AM +08:00

2017-11-03 11:12:40,803 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014501] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014501] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014501] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:12:40,803 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:12:40,803 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-11-03 11:12:40,803 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:12:40,803 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '57' (Type = Int32, IsNullable = false)

2017-11-03 11:12:40,803 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:12:40 AM +08:00

2017-11-03 11:12:41,021 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 217 ms with result: SqlDataReader

2017-11-03 11:12:41,021 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:12:41,154 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:12:41 AM +08:00

2017-11-03 11:13:07,381 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:13:07 AM +08:00

2017-11-03 11:13:07,386 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014501] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:13:07,386 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:13:07,387 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '57' (Type = Int32, IsNullable = false)

2017-11-03 11:13:07,387 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:13:07 AM +08:00

2017-11-03 11:13:07,471 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 84 ms with result: SqlDataReader

2017-11-03 11:13:07,471 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:13:07,471 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:13:07 AM +08:00

2017-11-03 11:13:07,472 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:13:07 AM +08:00

2017-11-03 11:13:07,485 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014501] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014501] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014501] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:13:07,486 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:13:07,486 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014501' (Type = Int32)

2017-11-03 11:13:07,486 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:13:07,486 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '57' (Type = Int32, IsNullable = false)

2017-11-03 11:13:07,486 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:13:07 AM +08:00

2017-11-03 11:13:07,594 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 107 ms with result: SqlDataReader

2017-11-03 11:13:07,594 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:13:07,596 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:13:07 AM +08:00

2017-11-03 11:14:17,402 [1] INFO  System.Web.HttpApplication - Application starting...
2017-11-03 11:14:18,774 [1] INFO  System.Web.HttpApplication - Application started...
2017-11-03 11:14:46,608 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:14:46 AM +08:00

2017-11-03 11:14:46,716 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014501] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:14:46,716 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:14:46,717 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '57' (Type = Int32, IsNullable = false)

2017-11-03 11:14:46,717 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:14:46 AM +08:00

2017-11-03 11:14:46,812 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 94 ms with result: SqlDataReader

2017-11-03 11:14:46,812 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:14:46,836 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:14:46 AM +08:00

2017-11-03 11:14:46,840 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:14:46 AM +08:00

2017-11-03 11:14:46,984 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014501] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014501] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014501] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:14:46,985 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:14:46,985 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-11-03 11:14:46,985 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:14:46,985 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '57' (Type = Int32, IsNullable = false)

2017-11-03 11:14:46,985 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:14:46 AM +08:00

2017-11-03 11:14:47,270 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 286 ms with result: SqlDataReader

2017-11-03 11:14:47,270 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:14:47,414 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:14:47 AM +08:00

2017-11-03 11:15:38,183 [1] INFO  System.Web.HttpApplication - Application starting...
2017-11-03 11:15:39,391 [1] INFO  System.Web.HttpApplication - Application started...
2017-11-03 11:16:17,874 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:16:17 AM +08:00

2017-11-03 11:16:17,993 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014501] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:16:17,993 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:16:17,994 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '57' (Type = Int32, IsNullable = false)

2017-11-03 11:16:17,994 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:16:17 AM +08:00

2017-11-03 11:16:18,086 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 91 ms with result: SqlDataReader

2017-11-03 11:16:18,086 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:16:18,107 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:16:18 AM +08:00

2017-11-03 11:16:18,112 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:16:18 AM +08:00

2017-11-03 11:16:18,251 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014501] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014501] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014501] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:16:18,251 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:16:18,251 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-11-03 11:16:18,251 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:16:18,251 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '57' (Type = Int32, IsNullable = false)

2017-11-03 11:16:18,251 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:16:18 AM +08:00

2017-11-03 11:16:18,458 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 205 ms with result: SqlDataReader

2017-11-03 11:16:18,458 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:16:18,611 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:16:18 AM +08:00

2017-11-03 11:17:03,848 [11] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:17:03 AM +08:00

2017-11-03 11:17:03,857 [11] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014501] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:17:03,858 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:17:03,858 [11] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '58' (Type = Int32, IsNullable = false)

2017-11-03 11:17:03,858 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:17:03 AM +08:00

2017-11-03 11:17:03,948 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-11-03 11:17:03,949 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:17:03,949 [11] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:17:03 AM +08:00

2017-11-03 11:17:03,950 [11] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:17:03 AM +08:00

2017-11-03 11:17:03,984 [11] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014501] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014501] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014501] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:17:03,985 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:17:03,985 [11] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014501' (Type = Int32)

2017-11-03 11:17:03,985 [11] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:17:03,985 [11] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '58' (Type = Int32, IsNullable = false)

2017-11-03 11:17:03,985 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:17:03 AM +08:00

2017-11-03 11:17:04,119 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 134 ms with result: SqlDataReader

2017-11-03 11:17:04,119 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:17:04,121 [11] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:17:04 AM +08:00

2017-11-03 11:18:20,360 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:18:20 AM +08:00

2017-11-03 11:18:20,363 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:18:20,363 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:18:20,363 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:18:20,363 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:18:20 AM +08:00

2017-11-03 11:18:21,998 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1634 ms with result: SqlDataReader

2017-11-03 11:18:21,999 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:18:21,999 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:18:21 AM +08:00

2017-11-03 11:18:21,999 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:18:21 AM +08:00

2017-11-03 11:18:22,015 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014502] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014502] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014502] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:18:22,015 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:18:22,015 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014502' (Type = Int32)

2017-11-03 11:18:22,015 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:18:22,015 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:18:22,015 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:18:22 AM +08:00

2017-11-03 11:18:26,621 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4607 ms with result: SqlDataReader

2017-11-03 11:18:26,621 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:18:28,535 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:18:28 AM +08:00

2017-11-03 11:21:05,594 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:21:05 AM +08:00

2017-11-03 11:21:05,597 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] = @p__linq__1)
2017-11-03 11:21:05,597 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:21:05,597 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:21:05,597 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'FacebookMessage' (Type = Int16)

2017-11-03 11:21:05,597 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:21:05 AM +08:00

2017-11-03 11:21:05,686 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 89 ms with result: SqlDataReader

2017-11-03 11:21:05,686 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:21:05,686 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:21:05 AM +08:00

2017-11-03 11:23:19,313 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:23:19 AM +08:00

2017-11-03 11:23:19,315 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:23:19,315 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:19,315 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:23:19,316 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:23:19 AM +08:00

2017-11-03 11:23:19,404 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 89 ms with result: SqlDataReader

2017-11-03 11:23:19,404 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:19,405 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:23:19 AM +08:00

2017-11-03 11:23:19,405 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:23:19 AM +08:00

2017-11-03 11:23:19,438 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014502] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014502] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014502] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:23:19,439 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:19,439 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014502' (Type = Int32)

2017-11-03 11:23:19,439 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:23:19,439 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:23:19,439 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:23:19 AM +08:00

2017-11-03 11:23:19,550 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 110 ms with result: SqlDataReader

2017-11-03 11:23:19,550 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:19,624 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:23:19 AM +08:00

2017-11-03 11:23:25,231 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:23:25 AM +08:00

2017-11-03 11:23:25,235 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:23:25,235 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:25,235 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:23:25,235 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:23:25 AM +08:00

2017-11-03 11:23:25,323 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 87 ms with result: SqlDataReader

2017-11-03 11:23:25,323 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:25,323 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:23:25 AM +08:00

2017-11-03 11:23:25,323 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:23:25 AM +08:00

2017-11-03 11:23:25,337 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014502] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014502] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014502] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:23:25,337 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:25,337 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014502' (Type = Int32)

2017-11-03 11:23:25,337 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:23:25,337 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:23:25,337 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:23:25 AM +08:00

2017-11-03 11:23:25,445 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 107 ms with result: SqlDataReader

2017-11-03 11:23:25,445 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:25,521 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:23:25 AM +08:00

2017-11-03 11:23:26,734 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:23:26 AM +08:00

2017-11-03 11:23:26,743 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:23:26,745 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:26,745 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:23:26,745 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:23:26 AM +08:00

2017-11-03 11:23:26,832 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 88 ms with result: SqlDataReader

2017-11-03 11:23:26,832 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:26,833 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:23:26 AM +08:00

2017-11-03 11:23:26,833 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:23:26 AM +08:00

2017-11-03 11:23:26,846 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014502] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014502] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014502] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:23:26,847 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:26,847 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014502' (Type = Int32)

2017-11-03 11:23:26,847 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:23:26,847 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:23:26,847 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:23:26 AM +08:00

2017-11-03 11:23:26,966 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 119 ms with result: SqlDataReader

2017-11-03 11:23:26,966 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:27,028 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:23:27 AM +08:00

2017-11-03 11:23:43,590 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:23:43 AM +08:00

2017-11-03 11:23:43,597 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:23:43,597 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:43,597 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:23:43,597 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:23:43 AM +08:00

2017-11-03 11:23:43,686 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 88 ms with result: SqlDataReader

2017-11-03 11:23:43,686 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:43,686 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:23:43 AM +08:00

2017-11-03 11:23:43,686 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:23:43 AM +08:00

2017-11-03 11:23:43,709 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014502] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014502] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014502] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:23:43,709 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:43,709 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014502' (Type = Int32)

2017-11-03 11:23:43,709 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:23:43,709 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:23:43,709 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:23:43 AM +08:00

2017-11-03 11:23:43,836 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 126 ms with result: SqlDataReader

2017-11-03 11:23:43,836 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:43,892 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:23:43 AM +08:00

2017-11-03 11:23:49,685 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:23:49 AM +08:00

2017-11-03 11:23:49,694 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:23:49,695 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:49,695 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:23:49,695 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:23:49 AM +08:00

2017-11-03 11:23:49,783 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 88 ms with result: SqlDataReader

2017-11-03 11:23:49,783 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:49,784 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:23:49 AM +08:00

2017-11-03 11:23:49,784 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:23:49 AM +08:00

2017-11-03 11:23:49,813 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014502] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014502] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014502] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:23:49,813 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:49,814 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014502' (Type = Int32)

2017-11-03 11:23:49,814 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:23:49,814 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:23:49,814 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:23:49 AM +08:00

2017-11-03 11:23:49,954 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 140 ms with result: SqlDataReader

2017-11-03 11:23:49,954 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:23:49,997 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:23:49 AM +08:00

2017-11-03 11:24:07,630 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:24:07 AM +08:00

2017-11-03 11:24:07,636 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:24:07,637 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:07,637 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:24:07,637 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:24:07 AM +08:00

2017-11-03 11:24:07,725 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 87 ms with result: SqlDataReader

2017-11-03 11:24:07,725 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:07,725 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:24:07 AM +08:00

2017-11-03 11:24:07,726 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:24:07 AM +08:00

2017-11-03 11:24:07,750 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014502] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014502] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014502] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:24:07,751 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:07,751 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014502' (Type = Int32)

2017-11-03 11:24:07,751 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:24:07,751 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:24:07,751 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:24:07 AM +08:00

2017-11-03 11:24:07,892 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 141 ms with result: SqlDataReader

2017-11-03 11:24:07,892 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:07,932 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:24:07 AM +08:00

2017-11-03 11:24:09,608 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:24:09 AM +08:00

2017-11-03 11:24:09,617 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:24:09,617 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:09,617 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:24:09,617 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:24:09 AM +08:00

2017-11-03 11:24:09,705 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 89 ms with result: SqlDataReader

2017-11-03 11:24:09,705 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:09,706 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:24:09 AM +08:00

2017-11-03 11:24:09,706 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:24:09 AM +08:00

2017-11-03 11:24:09,727 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014502] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014502] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014502] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:24:09,728 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:09,728 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014502' (Type = Int32)

2017-11-03 11:24:09,728 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:24:09,728 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:24:09,728 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:24:09 AM +08:00

2017-11-03 11:24:09,857 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 129 ms with result: SqlDataReader

2017-11-03 11:24:09,857 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:09,909 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:24:09 AM +08:00

2017-11-03 11:24:27,217 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:24:27 AM +08:00

2017-11-03 11:24:27,222 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:24:27,222 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:27,222 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:24:27,223 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:24:27 AM +08:00

2017-11-03 11:24:27,313 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 90 ms with result: SqlDataReader

2017-11-03 11:24:27,313 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:27,314 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:24:27 AM +08:00

2017-11-03 11:24:27,314 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:24:27 AM +08:00

2017-11-03 11:24:27,353 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014502] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014502] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014502] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:24:27,353 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:27,353 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014502' (Type = Int32)

2017-11-03 11:24:27,353 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:24:27,353 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:24:27,353 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:24:27 AM +08:00

2017-11-03 11:24:27,463 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 110 ms with result: SqlDataReader

2017-11-03 11:24:27,463 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:24:27,465 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:24:27 AM +08:00

2017-11-03 11:25:31,023 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:25:31 AM +08:00

2017-11-03 11:25:31,025 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:25:31,026 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:25:31,026 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:25:31,026 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:25:31 AM +08:00

2017-11-03 11:25:31,114 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 87 ms with result: SqlDataReader

2017-11-03 11:25:31,114 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:25:31,114 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:25:31 AM +08:00

2017-11-03 11:25:31,114 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:25:31 AM +08:00

2017-11-03 11:25:31,132 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014502] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014502] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014502] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:25:31,132 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:25:31,132 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '100014502' (Type = Int32)

2017-11-03 11:25:31,132 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:25:31,132 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:25:31,132 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:25:31 AM +08:00

2017-11-03 11:25:31,239 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 106 ms with result: SqlDataReader

2017-11-03 11:25:31,239 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:25:31,242 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:25:31 AM +08:00

2017-11-03 11:28:03,725 [1] INFO  System.Web.HttpApplication - Application starting...
2017-11-03 11:28:05,008 [1] INFO  System.Web.HttpApplication - Application started...
2017-11-03 11:28:22,678 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:28:22 AM +08:00

2017-11-03 11:28:22,821 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation100014502] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) AND ([Extent1].[IsHidden] <> 1) AND ([Extent1].[Source] IN (cast(2 as smallint), cast(3 as smallint)))
2017-11-03 11:28:22,821 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:28:22,821 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:28:22,821 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:28:22 AM +08:00

2017-11-03 11:28:22,906 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 84 ms with result: SqlDataReader

2017-11-03 11:28:22,906 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:28:22,918 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:28:22 AM +08:00

2017-11-03 11:28:22,921 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 11/3/2017 11:28:22 AM +08:00

2017-11-03 11:28:23,067 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id4] AS [Id], 
    [Project5].[Id7] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[Name] AS [Name], 
    [Project5].[UserType] AS [UserType], 
    [Project5].[IfActive] AS [IfActive], 
    [Project5].[IfDeleted] AS [IfDeleted], 
    [Project5].[IfAdmin] AS [IfAdmin], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id3] AS [Id5], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id6] AS [Id7], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id8] AS [Id8], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name3] AS [Name3], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl], 
    [Project5].[RawData] AS [RawData]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[Name] AS [Name], 
        [Project3].[UserType] AS [UserType], 
        [Project3].[IfActive] AS [IfActive], 
        [Project3].[IfDeleted] AS [IfDeleted], 
        [Project3].[IfAdmin] AS [IfAdmin], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[Id5] AS [Id5], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name2] AS [Name2], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id6], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id7], 
        [Extent9].[Id] AS [Id8], 
        [Extent9].[MessageId] AS [MessageId], 
        [Extent9].[OriginalId] AS [OriginalId3], 
        [Extent9].[OriginalLink] AS [OriginalLink3], 
        [Extent9].[Type] AS [Type2], 
        [Extent9].[Name] AS [Name3], 
        [Extent9].[MimeType] AS [MimeType], 
        [Extent9].[Size] AS [Size], 
        [Extent9].[Url] AS [Url], 
        [Extent9].[PreviewUrl] AS [PreviewUrl], 
        [Extent9].[RawData] AS [RawData], 
        CASE WHEN ([Extent9].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[Name] AS [Name], 
            [Project1].[UserType] AS [UserType], 
            [Project1].[IfActive] AS [IfActive], 
            [Project1].[IfDeleted] AS [IfDeleted], 
            [Project1].[IfAdmin] AS [IfAdmin], 
            [Project1].[Id2] AS [Id2], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name1] AS [Name1], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id3], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id4], 
            [Extent6].[Id] AS [Id5], 
            [Extent6].[OriginalId] AS [OriginalId2], 
            [Extent6].[OriginalLink] AS [OriginalLink2], 
            [Extent6].[Source] AS [Source2], 
            [Extent6].[Type] AS [Type1], 
            [Extent6].[Name] AS [Name2], 
            [Extent6].[ScreenName] AS [ScreenName1], 
            [Extent6].[Email] AS [Email1], 
            [Extent6].[Avatar] AS [Avatar1], 
            [Extent6].[IsDeleted] AS [IsDeleted3], 
            [Extent6].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[UserType] AS [UserType], 
                [Extent2].[IfActive] AS [IfActive], 
                [Extent2].[IfDeleted] AS [IfDeleted], 
                [Extent2].[IfAdmin] AS [IfAdmin], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[OriginalId] AS [OriginalId1], 
                [Extent3].[OriginalLink] AS [OriginalLink1], 
                [Extent3].[Source] AS [Source1], 
                [Extent3].[Type] AS [Type], 
                [Extent3].[Name] AS [Name1], 
                [Extent3].[ScreenName] AS [ScreenName], 
                [Extent3].[Email] AS [Email], 
                [Extent3].[Avatar] AS [Avatar], 
                [Extent3].[IsDeleted] AS [IsDeleted1], 
                [Extent3].[SiteId] AS [SiteId]
                FROM   [dbo].[t_Social_Message100014502] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_User100014502] AS [Extent2] ON [Extent1].[SendAgentId] = [Extent2].[Id]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent3].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent4].[Id] AS [Id], 
                [Extent4].[Token] AS [Token], 
                [Extent4].[TokenSecret] AS [TokenSecret], 
                [Extent4].[IfEnable] AS [IfEnable], 
                [Extent4].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent4].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent4].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent4].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent4].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent4].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent4].[CreatedTime] AS [CreatedTime], 
                [Extent4].[CreatedBy] AS [CreatedBy], 
                [Extent4].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent4].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent4].[IsDeleted] AS [IsDeleted], 
                [Extent4].[ConversationPriority] AS [ConversationPriority], 
                [Extent4].[SiteId] AS [SiteId], 
                [Extent5].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent4]
                INNER JOIN [dbo].[t_Social_User] AS [Extent5] ON [Extent5].[Id] = [Extent4].[Id]
                WHERE (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent5].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent6] ON (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent6].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent7].[Id] AS [Id], 
            [Extent7].[Token] AS [Token], 
            [Extent7].[TokenSecret] AS [TokenSecret], 
            [Extent7].[IfEnable] AS [IfEnable], 
            [Extent7].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent7].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent7].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent7].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent7].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent7].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent7].[CreatedTime] AS [CreatedTime], 
            [Extent7].[CreatedBy] AS [CreatedBy], 
            [Extent7].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent7].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent7].[IsDeleted] AS [IsDeleted], 
            [Extent7].[ConversationPriority] AS [ConversationPriority], 
            [Extent7].[SiteId] AS [SiteId], 
            [Extent8].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent7]
            INNER JOIN [dbo].[t_Social_User] AS [Extent8] ON [Extent8].[Id] = [Extent7].[Id]
            WHERE (([Extent8].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent8].[Id]) AND (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment100014502] AS [Extent9] ON [Project3].[Id] = [Extent9].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id4] ASC, [Project5].[Id7] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id3] ASC, [Project5].[Id5] ASC, [Project5].[Id6] ASC, [Project5].[C1] ASC
2017-11-03 11:28:23,067 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:28:23,067 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-11-03 11:28:23,067 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-11-03 11:28:23,067 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '52' (Type = Int32, IsNullable = false)

2017-11-03 11:28:23,068 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 11/3/2017 11:28:23 AM +08:00

2017-11-03 11:28:23,285 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 217 ms with result: SqlDataReader

2017-11-03 11:28:23,285 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-11-03 11:28:23,399 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 11/3/2017 11:28:23 AM +08:00

