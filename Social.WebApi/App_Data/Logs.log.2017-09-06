2017-09-06 15:04:18,532 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-06 15:04:21,697 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-06 15:05:11,826 [12] DEBUG Social.Domain.Core.SiteDataContext - Failed to open connection at 9/6/2017 3:05:11 PM +08:00 with error: Login failed for user 'shin'.

2017-09-06 15:05:55,750 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-06 15:05:58,324 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-06 15:06:11,261 [12] DEBUG Social.Domain.Core.SiteDataContext - Failed to open connection at 9/6/2017 3:06:11 PM +08:00 with error: A connection was successfully established with the server, but then an error occurred during the login process. (provider: Shared Memory Provider, error: 0 - No process is on the other end of the pipe.)

2017-09-06 15:07:50,638 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-06 15:07:51,650 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-06 15:07:52,617 [11] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The operation was canceled.
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-06 15:08:03,634 [7] DEBUG Social.Domain.Core.SiteDataContext - Failed to open connection at 9/6/2017 3:08:03 PM +08:00 with error: Login failed for user 'shin'.

2017-09-06 15:09:26,967 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-06 15:09:28,019 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-06 15:09:29,061 [8] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The operation was canceled.
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-06 15:09:45,075 [11] DEBUG Social.Domain.Core.SiteDataContext - Failed to open connection at 9/6/2017 3:09:45 PM +08:00 with error: A connection was successfully established with the server, but then an error occurred during the login process. (provider: Shared Memory Provider, error: 0 - No process is on the other end of the pipe.)

2017-09-06 15:09:49,596 [11] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy.
System.Data.Entity.Core.EntityException: An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy. ---> System.Data.Entity.Core.EntityException: The underlying provider failed on Open. ---> System.Data.Entity.Core.EntityException: An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy. ---> System.Data.SqlClient.SqlException: A connection was successfully established with the server, but then an error occurred during the login process. (provider: Shared Memory Provider, error: 0 - No process is on the other end of the pipe.) ---> System.ComponentModel.Win32Exception: No process is on the other end of the pipe
   --- End of inner exception stack trace ---
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at System.Data.Entity.Infrastructure.Interception.DbConnectionDispatcher.<Open>b__36(DbConnection t, DbConnectionInterceptionContext c)
   at System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext](TTarget target, Action`2 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   at System.Data.Entity.Infrastructure.Interception.DbConnectionDispatcher.Open(DbConnection connection, DbInterceptionContext interceptionContext)
   at System.Data.Entity.Core.EntityClient.EntityConnection.<Open>b__2()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.<>c__DisplayClass1.<Execute>b__0()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   --- End of inner exception stack trace ---
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute(Action operation)
   at System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   --- End of inner exception stack trace ---
   at System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   at System.Data.Entity.Core.Objects.ObjectContext.EnsureConnection(Boolean shouldMonitorTransactions)
   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.<>c__DisplayClass7.<GetResults>b__5()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   --- End of inner exception stack trace ---
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.GetResults(Nullable`1 forMergeOption)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.<System.Collections.Generic.IEnumerable<T>.GetEnumerator>b__0()
   at System.Data.Entity.Internal.LazyEnumerator`1.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Social.Application.AppServices.FilterAppService.FindAll() in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 52
   at Social.WebApi.Controllers.FilterController.GetFilters() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 41
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-06 15:12:02,340 [10] DEBUG Social.Domain.Core.SiteDataContext - Failed to open connection at 9/6/2017 3:12:02 PM +08:00 with error: Login failed for user 'shin'.

2017-09-06 15:12:07,576 [10] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The underlying provider failed on Open.
System.Data.Entity.Core.EntityException: The underlying provider failed on Open. ---> System.Data.SqlClient.SqlException: Login failed for user 'shin'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, DbConnectionPool pool, String accessToken, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at System.Data.Entity.Infrastructure.Interception.DbConnectionDispatcher.<Open>b__36(DbConnection t, DbConnectionInterceptionContext c)
   at System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext](TTarget target, Action`2 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   at System.Data.Entity.Infrastructure.Interception.DbConnectionDispatcher.Open(DbConnection connection, DbInterceptionContext interceptionContext)
   at System.Data.Entity.Core.EntityClient.EntityConnection.<Open>b__2()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.<>c__DisplayClass1.<Execute>b__0()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute(Action operation)
   at System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   --- End of inner exception stack trace ---
   at System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   at System.Data.Entity.Core.Objects.ObjectContext.EnsureConnection(Boolean shouldMonitorTransactions)
   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.<>c__DisplayClass7.<GetResults>b__5()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.GetResults(Nullable`1 forMergeOption)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.<System.Collections.Generic.IEnumerable<T>.GetEnumerator>b__0()
   at System.Data.Entity.Internal.LazyEnumerator`1.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Social.Application.AppServices.FilterAppService.FindAll() in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 52
   at Social.WebApi.Controllers.FilterController.GetFilters() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 41
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-06 15:12:30,141 [11] DEBUG Social.Domain.Core.SiteDataContext - Failed to open connection at 9/6/2017 3:12:27 PM +08:00 with error: Login failed for user 'shin'.

2017-09-06 15:12:37,699 [11] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - The underlying provider failed on Open.
System.Data.Entity.Core.EntityException: The underlying provider failed on Open. ---> System.Data.SqlClient.SqlException: Login failed for user 'shin'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, DbConnectionPool pool, String accessToken, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at System.Data.Entity.Infrastructure.Interception.DbConnectionDispatcher.<Open>b__36(DbConnection t, DbConnectionInterceptionContext c)
   at System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext](TTarget target, Action`2 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   at System.Data.Entity.Infrastructure.Interception.DbConnectionDispatcher.Open(DbConnection connection, DbInterceptionContext interceptionContext)
   at System.Data.Entity.Core.EntityClient.EntityConnection.<Open>b__2()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.<>c__DisplayClass1.<Execute>b__0()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute(Action operation)
   at System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   --- End of inner exception stack trace ---
   at System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   at System.Data.Entity.Core.Objects.ObjectContext.EnsureConnection(Boolean shouldMonitorTransactions)
   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.<>c__DisplayClass7.<GetResults>b__5()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.GetResults(Nullable`1 forMergeOption)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.<System.Collections.Generic.IEnumerable<T>.GetEnumerator>b__0()
   at System.Data.Entity.Internal.LazyEnumerator`1.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Social.Application.AppServices.FilterAppService.FindAll() in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 52
   at Social.WebApi.Controllers.FilterController.GetFilters() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 41
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-06 15:12:49,290 [11] DEBUG Social.Domain.Core.SiteDataContext - Failed to open connection at 9/6/2017 3:12:47 PM +08:00 with error: Login failed for user 'shin'.

2017-09-06 15:14:06,156 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-06 15:14:08,716 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-06 15:14:22,624 [6] DEBUG Social.Domain.Core.SiteDataContext - Failed to open connection at 9/6/2017 3:14:22 PM +08:00 with error: A connection was successfully established with the server, but then an error occurred during the login process. (provider: Shared Memory Provider, error: 0 - No process is on the other end of the pipe.)

2017-09-06 15:15:04,882 [6] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy.
System.Data.Entity.Core.EntityException: An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy. ---> System.Data.Entity.Core.EntityException: The underlying provider failed on Open. ---> System.Data.Entity.Core.EntityException: An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy. ---> System.Data.SqlClient.SqlException: A connection was successfully established with the server, but then an error occurred during the login process. (provider: Shared Memory Provider, error: 0 - No process is on the other end of the pipe.) ---> System.ComponentModel.Win32Exception: No process is on the other end of the pipe
   --- End of inner exception stack trace ---
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at System.Data.Entity.Infrastructure.Interception.DbConnectionDispatcher.<Open>b__36(DbConnection t, DbConnectionInterceptionContext c)
   at System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext](TTarget target, Action`2 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   at System.Data.Entity.Infrastructure.Interception.DbConnectionDispatcher.Open(DbConnection connection, DbInterceptionContext interceptionContext)
   at System.Data.Entity.Core.EntityClient.EntityConnection.<Open>b__2()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.<>c__DisplayClass1.<Execute>b__0()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   --- End of inner exception stack trace ---
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute(Action operation)
   at System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   --- End of inner exception stack trace ---
   at System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   at System.Data.Entity.Core.Objects.ObjectContext.EnsureConnection(Boolean shouldMonitorTransactions)
   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.<>c__DisplayClass7.<GetResults>b__5()
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   --- End of inner exception stack trace ---
   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.GetResults(Nullable`1 forMergeOption)
   at System.Data.Entity.Core.Objects.ObjectQuery`1.<System.Collections.Generic.IEnumerable<T>.GetEnumerator>b__0()
   at System.Data.Entity.Internal.LazyEnumerator`1.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Social.Application.AppServices.FilterAppService.FindAll() in F:\social\social_20170728\Social\Social.Application\AppServices\FilterAppService.cs:line 52
   at Social.WebApi.Controllers.FilterController.GetFilters() in F:\social\social_20170728\Social\Social.WebApi\Controllers\FilterController.cs:line 41
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-06 15:15:07,643 [10] DEBUG Social.Domain.Core.SiteDataContext - Failed to open connection at 9/6/2017 3:15:06 PM +08:00 with error: Login failed for user 'Shin'.

2017-09-06 15:25:30,349 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-06 15:25:32,983 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-06 15:25:49,691 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:49 PM +08:00

2017-09-06 15:25:50,995 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[Index] AS [Index], 
    [Project1].[IfPublic] AS [IfPublic], 
    [Project1].[Type] AS [Type], 
    [Project1].[LogicalExpression] AS [LogicalExpression], 
    [Project1].[CreatedBy] AS [CreatedBy], 
    [Project1].[CreatedTime] AS [CreatedTime], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FilterId] AS [FilterId], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[MatchType] AS [MatchType], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index1] AS [Index1], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Index] AS [Index], 
        [Extent1].[IfPublic] AS [IfPublic], 
        [Extent1].[Type] AS [Type], 
        [Extent1].[LogicalExpression] AS [LogicalExpression], 
        [Extent1].[CreatedBy] AS [CreatedBy], 
        [Extent1].[CreatedTime] AS [CreatedTime], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FilterId] AS [FilterId], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[MatchType] AS [MatchType], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index1], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_Filter] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_FilterCondition] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FilterId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[IfPublic] = 1 OR [Extent1].[CreatedBy] = @p__linq__0)
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-09-06 15:25:50,995 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:50,998 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 15:25:50,998 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:25:50,998 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 15:25:50,998 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:50 PM +08:00

2017-09-06 15:25:51,039 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 39 ms with result: SqlDataReader

2017-09-06 15:25:51,039 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,170 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,216 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,253 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 15:25:51,253 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,253 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 15:25:51,253 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:25:51,253 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '1' (Type = Int32, IsNullable = false)

2017-09-06 15:25:51,253 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,263 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-09-06 15:25:51,264 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,270 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,284 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,359 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (0 = [Extent1].[Source])
    )  AS [GroupBy1]
2017-09-06 15:25:51,359 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,359 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,362 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-06 15:25:51,363 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,366 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,367 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,368 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 15:25:51,368 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,368 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 15:25:51,368 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:25:51,368 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '4' (Type = Int32, IsNullable = false)

2017-09-06 15:25:51,368 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,369 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:25:51,369 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,369 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,370 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,370 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 15:25:51,370 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,370 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 15:25:51,370 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:25:51,370 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3' (Type = Int32, IsNullable = false)

2017-09-06 15:25:51,370 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,370 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:25:51,370 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,371 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,374 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,378 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (4 <> [Extent1].[Status]) AND ([Extent1].[DepartmentId] IS NOT NULL) AND (([Extent1].[DepartmentId] = @p__linq__0) OR (([Extent1].[DepartmentId] IS NULL) AND (@p__linq__0 IS NULL)))
    )  AS [GroupBy1]
2017-09-06 15:25:51,378 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,378 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-09-06 15:25:51,378 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,381 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 15:25:51,381 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,381 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,381 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,382 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 15:25:51,382 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,382 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 15:25:51,382 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:25:51,382 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '2' (Type = Int32, IsNullable = false)

2017-09-06 15:25:51,382 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,382 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:25:51,382 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,383 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,384 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,390 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
        WHERE 1 = 0
    )  AS [GroupBy1]
2017-09-06 15:25:51,390 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,390 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,391 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:25:51,391 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,391 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,392 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,393 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (4 <> [Extent1].[Status])
    )  AS [GroupBy1]
2017-09-06 15:25:51,393 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,393 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,396 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 15:25:51,396 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,396 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,397 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,399 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND (([Extent1].[AgentId] = @p__linq__0) OR (([Extent1].[AgentId] IS NULL) AND (@p__linq__0 IS NULL))) AND ([Extent1].[DepartmentId] IS NOT NULL) AND (([Extent1].[DepartmentId] = @p__linq__1) OR (([Extent1].[DepartmentId] IS NULL) AND (@p__linq__1 IS NULL)))
    )  AS [GroupBy1]
2017-09-06 15:25:51,399 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,399 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: 'null' (Type = Int32)

2017-09-06 15:25:51,399 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: 'null' (Type = Int32)

2017-09-06 15:25:51,399 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,400 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:25:51,400 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,400 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,401 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,402 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead])
    )  AS [GroupBy1]
2017-09-06 15:25:51,402 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,402 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,403 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:25:51,403 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,403 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,403 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,404 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 15:25:51,404 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,404 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 15:25:51,404 [7] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:25:51,404 [7] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '17' (Type = Int32, IsNullable = false)

2017-09-06 15:25:51,404 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,404 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:25:51,404 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,404 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,406 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,434 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ( CAST( DATEDIFF (minute, [Extent1].[LastMessageSentTime], SysDateTime()) AS float) < @p__linq__0)
    )  AS [GroupBy1]
2017-09-06 15:25:51,434 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,434 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '10' (Type = Double, IsNullable = false)

2017-09-06 15:25:51,434 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,436 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:25:51,436 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,436 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,559 [7] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,561 [7] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (0 = [Extent1].[IfRead]) AND ([Extent1].[DepartmentId] IS NOT NULL) AND (([Extent1].[DepartmentId] = @p__linq__0) OR (([Extent1].[DepartmentId] IS NULL) AND (@p__linq__0 IS NULL))) AND (4 <> [Extent1].[Status])
    )  AS [GroupBy1]
2017-09-06 15:25:51,561 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,561 [7] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32)

2017-09-06 15:25:51,561 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:25:51,587 [7] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 26 ms with result: SqlDataReader

2017-09-06 15:25:51,587 [7] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:25:51,587 [7] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:25:51 PM +08:00

2017-09-06 15:28:32,241 [20] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:32,267 [20] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-09-06 15:28:32,267 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:32,267 [20] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:28:32,267 [20] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:28:32,267 [20] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 15:28:32,267 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:32,269 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 15:28:32,269 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:32,269 [20] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:32,271 [20] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:32,286 [20] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 15:28:32,286 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:32,287 [20] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:28:32,287 [20] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:28:32,287 [20] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 15:28:32,287 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:32,289 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 15:28:32,289 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:32,290 [20] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:32,339 [20] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:32,348 [20] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] IN (12))
2017-09-06 15:28:32,348 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:32,348 [20] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:28:32,348 [20] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:28:32,348 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:32,351 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 15:28:32,351 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:32,351 [20] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:32,355 [20] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:32,383 [20] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name] AS [Name], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index] AS [Index], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[IfSystem] AS [IfSystem], 
        [Extent1].[DataType] AS [DataType], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[Name] AS [Name1], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_ConversationField] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_ConversationFieldOption] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FieldId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE ([Extent1].[SiteId] = @DynamicFilterParam_000001) 
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-09-06 15:28:32,383 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:32,383 [20] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:28:32,383 [20] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:28:32,383 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:32,400 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 16 ms with result: SqlDataReader

2017-09-06 15:28:32,400 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:32,405 [20] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:28:32 PM +08:00

2017-09-06 15:28:35,455 [20] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:28:35 PM +08:00

2017-09-06 15:28:35,475 [20] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[Type])
2017-09-06 15:28:35,475 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:35,475 [20] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:28:35,475 [20] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:28:35,475 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:28:35 PM +08:00

2017-09-06 15:28:35,477 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:28:35,477 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:35,483 [20] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:28:35 PM +08:00

2017-09-06 15:28:35,541 [20] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:28:35 PM +08:00

2017-09-06 15:28:35,684 [20] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Filter]
SET [Name] = @0, [Index] = @1, [IfPublic] = @2, [Type] = @3, [LogicalExpression] = @4, [CreatedBy] = @5, [CreatedTime] = @6, [SiteId] = @7
WHERE ([Id] = @8)

2017-09-06 15:28:35,685 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @0: 'test' (Type = String, Size = 200)

2017-09-06 15:28:35,685 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '0' (Type = Int32)

2017-09-06 15:28:35,685 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-09-06 15:28:35,685 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '1' (Type = Int16)

2017-09-06 15:28:35,685 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @4: 'string' (Type = String, Size = 200)

2017-09-06 15:28:35,685 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '1' (Type = Int32)

2017-09-06 15:28:35,685 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '8/18/2017 9:39:05 AM' (Type = DateTime2)

2017-09-06 15:28:35,685 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-09-06 15:28:35,685 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @8: '3004' (Type = Int32)

2017-09-06 15:28:35,685 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:28:35 PM +08:00

2017-09-06 15:28:35,691 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: 1

2017-09-06 15:28:35,691 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:35,692 [20] DEBUG Social.Domain.Core.SiteDataContext - DELETE [dbo].[t_Social_FilterCondition]
WHERE ([Id] = @0)
2017-09-06 15:28:35,692 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:35,692 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '6003' (Type = Int32)

2017-09-06 15:28:35,692 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:28:35 PM +08:00

2017-09-06 15:28:35,694 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: 1

2017-09-06 15:28:35,694 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:35,694 [20] DEBUG Social.Domain.Core.SiteDataContext - DELETE [dbo].[t_Social_FilterCondition]
WHERE ([Id] = @0)
2017-09-06 15:28:35,694 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:35,694 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '6004' (Type = Int32)

2017-09-06 15:28:35,694 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:28:35 PM +08:00

2017-09-06 15:28:35,695 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: 1

2017-09-06 15:28:35,695 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:35,702 [20] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_FilterCondition]([FilterId], [FieldId], [MatchType], [Value], [Index], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5)
SELECT [Id]
FROM [dbo].[t_Social_FilterCondition]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-06 15:28:35,702 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:35,702 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '3004' (Type = Int32)

2017-09-06 15:28:35,702 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '12' (Type = Int32)

2017-09-06 15:28:35,702 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @2: '5' (Type = Int16)

2017-09-06 15:28:35,702 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @3: 'Hollny' (Type = String, Size = 200)

2017-09-06 15:28:35,702 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '0' (Type = Int32)

2017-09-06 15:28:35,702 [20] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '10000' (Type = Int32)

2017-09-06 15:28:35,702 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:28:35 PM +08:00

2017-09-06 15:28:35,704 [20] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 15:28:35,705 [20] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:35,715 [20] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:28:35 PM +08:00

2017-09-06 15:28:52,314 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:28:52 PM +08:00

2017-09-06 15:28:52,315 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-09-06 15:28:52,315 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:52,315 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:28:52,315 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:28:52,315 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 15:28:52,315 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:28:52 PM +08:00

2017-09-06 15:28:52,315 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:28:52,315 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:52,315 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:28:52 PM +08:00

2017-09-06 15:28:52,316 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:28:52 PM +08:00

2017-09-06 15:28:52,316 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 15:28:52,316 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:52,316 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:28:52,316 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:28:52,316 [13] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 15:28:52,316 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:28:52 PM +08:00

2017-09-06 15:28:52,317 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:28:52,317 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:28:52,317 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:28:52 PM +08:00

2017-09-06 15:29:13,165 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:13,166 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-09-06 15:29:13,166 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:13,166 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:29:13,166 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:29:13,166 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 15:29:13,166 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:13,167 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:29:13,167 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:13,167 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:13,167 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:13,168 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 15:29:13,168 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:13,168 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:29:13,168 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:29:13,168 [13] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 15:29:13,168 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:13,169 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:29:13,169 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:13,169 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:13,169 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:13,169 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 15:29:13,169 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:13,169 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:29:13,169 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:29:13,169 [13] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '12' (Type = Int32, IsNullable = false)

2017-09-06 15:29:13,169 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:13,171 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:29:13,171 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:13,171 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:13,208 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:13,385 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (200) 
    [Project2].[Id] AS [Id], 
    [Project2].[Source] AS [Source], 
    [Project2].[OriginalId] AS [OriginalId], 
    [Project2].[IfRead] AS [IfRead], 
    [Project2].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Project2].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Project2].[Name] AS [Name], 
    [Project2].[Avatar] AS [Avatar], 
    [Project2].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Project2].[AgentId] AS [AgentId], 
    [Project2].[DepartmentId] AS [DepartmentId], 
    [Project2].[Status] AS [Status], 
    [Project2].[Subject] AS [Subject], 
    [Project2].[Priority] AS [Priority], 
    [Project2].[Note] AS [Note], 
    [Project2].[OriginalLink] AS [OriginalLink]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalId] AS [OriginalId], 
        [Extent1].[IfRead] AS [IfRead], 
        [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
        [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
        [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
        [Extent1].[AgentId] AS [AgentId], 
        [Extent1].[DepartmentId] AS [DepartmentId], 
        [Extent1].[Status] AS [Status], 
        [Extent1].[Subject] AS [Subject], 
        [Extent1].[Priority] AS [Priority], 
        [Extent1].[Note] AS [Note], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[Avatar] AS [Avatar]
        FROM  [dbo].[t_Social_Conversation10000] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[LastMessageSenderId] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[CreatedTime] > @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM  [dbo].[t_Social_Message10000] AS [Extent3]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent4] ON ([Extent3].[SenderId] = [Extent4].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[Id] = [Extent3].[ConversationId]) AND (([Extent4].[Name] LIKE @p__linq__2 ESCAPE N'~') OR (([Extent4].[Email] IS NOT NULL) AND ([Extent4].[Email] LIKE @p__linq__3 ESCAPE N'~')))
        ))
    )  AS [Project2]
    ORDER BY [Project2].[Id] DESC
2017-09-06 15:29:13,385 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:13,386 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:29:13,386 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:29:13,386 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6/6/2017 7:29:13 AM' (Type = DateTime2)

2017-09-06 15:29:13,386 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/6/2017 7:29:13 AM' (Type = DateTime2)

2017-09-06 15:29:13,386 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '%Hollny%' (Type = String, Size = 4000)

2017-09-06 15:29:13,386 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__3: '%Hollny%' (Type = String, Size = 4000)

2017-09-06 15:29:13,386 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:13,410 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 24 ms with result: SqlDataReader

2017-09-06 15:29:13,410 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:13,411 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:29:13 PM +08:00

2017-09-06 15:29:36,601 [22] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:29:36 PM +08:00

2017-09-06 15:29:36,601 [22] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-09-06 15:29:36,601 [22] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:36,601 [22] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:29:36,601 [22] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:29:36,601 [22] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 15:29:36,601 [22] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:29:36 PM +08:00

2017-09-06 15:29:36,603 [22] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:29:36,603 [22] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:36,603 [22] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:29:36 PM +08:00

2017-09-06 15:29:36,604 [22] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:29:36 PM +08:00

2017-09-06 15:29:36,604 [22] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 15:29:36,604 [22] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:36,604 [22] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:29:36,604 [22] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:29:36,604 [22] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 15:29:36,604 [22] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:29:36 PM +08:00

2017-09-06 15:29:36,606 [22] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:29:36,606 [22] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:36,606 [22] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:29:36 PM +08:00

2017-09-06 15:29:36,606 [22] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:29:36 PM +08:00

2017-09-06 15:29:36,606 [22] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 15:29:36,606 [22] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:36,606 [22] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:29:36,606 [22] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:29:36,606 [22] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '12' (Type = Int32, IsNullable = false)

2017-09-06 15:29:36,606 [22] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:29:36 PM +08:00

2017-09-06 15:29:36,608 [22] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:29:36,608 [22] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:29:36,608 [22] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:29:36 PM +08:00

2017-09-06 15:32:03,297 [22] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:32:03 PM +08:00

2017-09-06 15:32:03,303 [22] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (200) 
    [Project2].[Id] AS [Id], 
    [Project2].[Source] AS [Source], 
    [Project2].[OriginalId] AS [OriginalId], 
    [Project2].[IfRead] AS [IfRead], 
    [Project2].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Project2].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Project2].[Name] AS [Name], 
    [Project2].[Avatar] AS [Avatar], 
    [Project2].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Project2].[AgentId] AS [AgentId], 
    [Project2].[DepartmentId] AS [DepartmentId], 
    [Project2].[Status] AS [Status], 
    [Project2].[Subject] AS [Subject], 
    [Project2].[Priority] AS [Priority], 
    [Project2].[Note] AS [Note], 
    [Project2].[OriginalLink] AS [OriginalLink]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalId] AS [OriginalId], 
        [Extent1].[IfRead] AS [IfRead], 
        [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
        [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
        [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
        [Extent1].[AgentId] AS [AgentId], 
        [Extent1].[DepartmentId] AS [DepartmentId], 
        [Extent1].[Status] AS [Status], 
        [Extent1].[Subject] AS [Subject], 
        [Extent1].[Priority] AS [Priority], 
        [Extent1].[Note] AS [Note], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[Avatar] AS [Avatar]
        FROM  [dbo].[t_Social_Conversation10000] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[LastMessageSenderId] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[CreatedTime] > @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM  [dbo].[t_Social_Message10000] AS [Extent3]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent4] ON ([Extent3].[SenderId] = [Extent4].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[Id] = [Extent3].[ConversationId]) AND (([Extent4].[Name] LIKE @p__linq__2 ESCAPE N'~') OR (([Extent4].[Email] IS NOT NULL) AND ([Extent4].[Email] LIKE @p__linq__3 ESCAPE N'~')))
        ))
    )  AS [Project2]
    ORDER BY [Project2].[Id] DESC
2017-09-06 15:32:03,303 [22] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:32:03,303 [22] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:32:03,303 [22] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:32:03,304 [22] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6/6/2017 7:29:36 AM' (Type = DateTime2)

2017-09-06 15:32:03,304 [22] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/6/2017 7:29:36 AM' (Type = DateTime2)

2017-09-06 15:32:03,304 [22] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '%Hollny%' (Type = String, Size = 4000)

2017-09-06 15:32:03,304 [22] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__3: '%Hollny%' (Type = String, Size = 4000)

2017-09-06 15:32:03,304 [22] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:32:03 PM +08:00

2017-09-06 15:32:03,315 [22] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-09-06 15:32:03,315 [22] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:32:03,315 [22] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:32:03 PM +08:00

2017-09-06 15:44:07,306 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:07,307 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-09-06 15:44:07,307 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:07,307 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:07,307 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:07,307 [40] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 15:44:07,307 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:07,309 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:44:07,309 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:07,309 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:07,309 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:07,309 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 15:44:07,310 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:07,310 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:07,310 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:07,310 [40] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 15:44:07,310 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:07,311 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:44:07,311 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:07,312 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:07,313 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:07,316 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] IN (12))
2017-09-06 15:44:07,316 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:07,316 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:07,316 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:07,316 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:07,318 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 15:44:07,318 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:07,318 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:07,318 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:07,319 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name] AS [Name], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index] AS [Index], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[IfSystem] AS [IfSystem], 
        [Extent1].[DataType] AS [DataType], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[Name] AS [Name1], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_ConversationField] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_ConversationFieldOption] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FieldId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE ([Extent1].[SiteId] = @DynamicFilterParam_000001) 
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-09-06 15:44:07,320 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:07,320 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:07,320 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:07,320 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:07,331 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-09-06 15:44:07,331 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:07,332 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:07 PM +08:00

2017-09-06 15:44:10,777 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:10 PM +08:00

2017-09-06 15:44:10,780 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[Type])
2017-09-06 15:44:10,780 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:10,780 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:10,780 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:10,780 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:10 PM +08:00

2017-09-06 15:44:10,785 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-09-06 15:44:10,785 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:10,785 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:10 PM +08:00

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:10 PM +08:00

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Filter]
SET [Name] = @0, [Index] = @1, [IfPublic] = @2, [Type] = @3, [LogicalExpression] = @4, [CreatedBy] = @5, [CreatedTime] = @6, [SiteId] = @7
WHERE ([Id] = @8)

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @0: 'test' (Type = String, Size = 200)

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '0' (Type = Int32)

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '1' (Type = Int16)

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @4: 'string' (Type = String, Size = 200)

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '1' (Type = Int32)

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '8/18/2017 9:39:05 AM' (Type = DateTime2)

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @8: '3004' (Type = Int32)

2017-09-06 15:44:10,786 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:10 PM +08:00

2017-09-06 15:44:10,788 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: 1

2017-09-06 15:44:10,788 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:10,788 [40] DEBUG Social.Domain.Core.SiteDataContext - DELETE [dbo].[t_Social_FilterCondition]
WHERE ([Id] = @0)
2017-09-06 15:44:10,788 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:10,788 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '6005' (Type = Int32)

2017-09-06 15:44:10,788 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:10 PM +08:00

2017-09-06 15:44:10,789 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: 1

2017-09-06 15:44:10,789 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:10,790 [40] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_FilterCondition]([FilterId], [FieldId], [MatchType], [Value], [Index], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5)
SELECT [Id]
FROM [dbo].[t_Social_FilterCondition]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-06 15:44:10,790 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:10,790 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '3004' (Type = Int32)

2017-09-06 15:44:10,790 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '12' (Type = Int32)

2017-09-06 15:44:10,790 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @2: '1' (Type = Int16)

2017-09-06 15:44:10,790 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @3: 'Hollny Agentorda' (Type = String, Size = 200)

2017-09-06 15:44:10,790 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '0' (Type = Int32)

2017-09-06 15:44:10,790 [40] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '10000' (Type = Int32)

2017-09-06 15:44:10,790 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:10 PM +08:00

2017-09-06 15:44:10,799 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-09-06 15:44:10,799 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:10,799 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:10 PM +08:00

2017-09-06 15:44:18,725 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:18,725 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-09-06 15:44:18,725 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:18,725 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:18,725 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:18,725 [40] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 15:44:18,725 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:18,726 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:44:18,726 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:18,726 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:18,726 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:18,727 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 15:44:18,727 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:18,727 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:18,727 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:18,727 [40] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 15:44:18,727 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:18,728 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:44:18,728 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:18,728 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:18,728 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:18,729 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 15:44:18,729 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:18,729 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:18,729 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:18,729 [40] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '12' (Type = Int32, IsNullable = false)

2017-09-06 15:44:18,729 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:18,732 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-06 15:44:18,732 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:18,733 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:18,734 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:18,745 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (200) 
    [Project2].[Id] AS [Id], 
    [Project2].[Source] AS [Source], 
    [Project2].[OriginalId] AS [OriginalId], 
    [Project2].[IfRead] AS [IfRead], 
    [Project2].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Project2].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Project2].[Name] AS [Name], 
    [Project2].[Avatar] AS [Avatar], 
    [Project2].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Project2].[AgentId] AS [AgentId], 
    [Project2].[DepartmentId] AS [DepartmentId], 
    [Project2].[Status] AS [Status], 
    [Project2].[Subject] AS [Subject], 
    [Project2].[Priority] AS [Priority], 
    [Project2].[Note] AS [Note], 
    [Project2].[OriginalLink] AS [OriginalLink]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalId] AS [OriginalId], 
        [Extent1].[IfRead] AS [IfRead], 
        [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
        [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
        [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
        [Extent1].[AgentId] AS [AgentId], 
        [Extent1].[DepartmentId] AS [DepartmentId], 
        [Extent1].[Status] AS [Status], 
        [Extent1].[Subject] AS [Subject], 
        [Extent1].[Priority] AS [Priority], 
        [Extent1].[Note] AS [Note], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[Avatar] AS [Avatar]
        FROM  [dbo].[t_Social_Conversation10000] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[LastMessageSenderId] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[CreatedTime] > @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM  [dbo].[t_Social_Message10000] AS [Extent3]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent4] ON ([Extent3].[SenderId] = [Extent4].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[Id] = [Extent3].[ConversationId]) AND (([Extent4].[Name] = @p__linq__2) OR (([Extent4].[Name] IS NULL) AND (@p__linq__2 IS NULL)) OR (([Extent4].[Email] IS NOT NULL) AND (([Extent4].[Email] = @p__linq__3) OR (([Extent4].[Email] IS NULL) AND (@p__linq__3 IS NULL)))))
        ))
    )  AS [Project2]
    ORDER BY [Project2].[Id] DESC
2017-09-06 15:44:18,745 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:18,745 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:18,745 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:18,745 [40] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6/6/2017 7:44:18 AM' (Type = DateTime2)

2017-09-06 15:44:18,745 [40] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/6/2017 7:44:18 AM' (Type = DateTime2)

2017-09-06 15:44:18,745 [40] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: 'Hollny Agentorda' (Type = String, Size = 4000)

2017-09-06 15:44:18,745 [40] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__3: 'Hollny Agentorda' (Type = String, Size = 4000)

2017-09-06 15:44:18,745 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:18,769 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 24 ms with result: SqlDataReader

2017-09-06 15:44:18,769 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:18,769 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:18 PM +08:00

2017-09-06 15:44:20,177 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:44:20,178 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-09-06 15:44:20,178 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:20,178 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:20,178 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:20,178 [40] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 15:44:20,178 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:44:20,180 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 15:44:20,180 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:20,181 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:44:20,181 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:44:20,181 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 15:44:20,181 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:20,181 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:20,181 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:20,181 [40] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 15:44:20,181 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:44:20,182 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:44:20,182 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:20,183 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:44:20,183 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:44:20,183 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 15:44:20,183 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:20,183 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:20,183 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:20,183 [40] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '12' (Type = Int32, IsNullable = false)

2017-09-06 15:44:20,183 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:44:20,184 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 15:44:20,184 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:20,184 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:44:20,185 [40] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:44:20,187 [40] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (200) 
    [Project2].[Id] AS [Id], 
    [Project2].[Source] AS [Source], 
    [Project2].[OriginalId] AS [OriginalId], 
    [Project2].[IfRead] AS [IfRead], 
    [Project2].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Project2].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Project2].[Name] AS [Name], 
    [Project2].[Avatar] AS [Avatar], 
    [Project2].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Project2].[AgentId] AS [AgentId], 
    [Project2].[DepartmentId] AS [DepartmentId], 
    [Project2].[Status] AS [Status], 
    [Project2].[Subject] AS [Subject], 
    [Project2].[Priority] AS [Priority], 
    [Project2].[Note] AS [Note], 
    [Project2].[OriginalLink] AS [OriginalLink]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalId] AS [OriginalId], 
        [Extent1].[IfRead] AS [IfRead], 
        [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
        [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
        [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
        [Extent1].[AgentId] AS [AgentId], 
        [Extent1].[DepartmentId] AS [DepartmentId], 
        [Extent1].[Status] AS [Status], 
        [Extent1].[Subject] AS [Subject], 
        [Extent1].[Priority] AS [Priority], 
        [Extent1].[Note] AS [Note], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[Avatar] AS [Avatar]
        FROM  [dbo].[t_Social_Conversation10000] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[LastMessageSenderId] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[CreatedTime] > @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM  [dbo].[t_Social_Message10000] AS [Extent3]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent4] ON ([Extent3].[SenderId] = [Extent4].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[Id] = [Extent3].[ConversationId]) AND (([Extent4].[Name] = @p__linq__2) OR (([Extent4].[Name] IS NULL) AND (@p__linq__2 IS NULL)) OR (([Extent4].[Email] IS NOT NULL) AND (([Extent4].[Email] = @p__linq__3) OR (([Extent4].[Email] IS NULL) AND (@p__linq__3 IS NULL)))))
        ))
    )  AS [Project2]
    ORDER BY [Project2].[Id] DESC
2017-09-06 15:44:20,187 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:20,187 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:44:20,187 [40] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:44:20,187 [40] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6/6/2017 7:44:20 AM' (Type = DateTime2)

2017-09-06 15:44:20,187 [40] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/6/2017 7:44:20 AM' (Type = DateTime2)

2017-09-06 15:44:20,187 [40] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: 'Hollny Agentorda' (Type = String, Size = 4000)

2017-09-06 15:44:20,187 [40] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__3: 'Hollny Agentorda' (Type = String, Size = 4000)

2017-09-06 15:44:20,187 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:44:20,189 [40] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:44:20,189 [40] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:44:20,189 [40] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:44:20 PM +08:00

2017-09-06 15:57:07,084 [75] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,085 [75] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-09-06 15:57:07,085 [75] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:57:07,085 [75] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:57:07,085 [75] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:57:07,085 [75] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 15:57:07,085 [75] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,087 [75] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:57:07,087 [75] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:57:07,087 [75] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,087 [75] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,088 [75] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 15:57:07,088 [75] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:57:07,088 [75] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:57:07,088 [75] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:57:07,088 [75] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 15:57:07,088 [75] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,090 [75] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:57:07,090 [75] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:57:07,090 [75] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,090 [75] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,090 [75] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 15:57:07,090 [75] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:57:07,090 [75] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:57:07,090 [75] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:57:07,090 [75] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '12' (Type = Int32, IsNullable = false)

2017-09-06 15:57:07,090 [75] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,092 [75] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 15:57:07,092 [75] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:57:07,092 [75] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,092 [75] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,095 [75] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (200) 
    [Project2].[Id] AS [Id], 
    [Project2].[Source] AS [Source], 
    [Project2].[OriginalId] AS [OriginalId], 
    [Project2].[IfRead] AS [IfRead], 
    [Project2].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Project2].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Project2].[Name] AS [Name], 
    [Project2].[Avatar] AS [Avatar], 
    [Project2].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Project2].[AgentId] AS [AgentId], 
    [Project2].[DepartmentId] AS [DepartmentId], 
    [Project2].[Status] AS [Status], 
    [Project2].[Subject] AS [Subject], 
    [Project2].[Priority] AS [Priority], 
    [Project2].[Note] AS [Note], 
    [Project2].[OriginalLink] AS [OriginalLink]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalId] AS [OriginalId], 
        [Extent1].[IfRead] AS [IfRead], 
        [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
        [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
        [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
        [Extent1].[AgentId] AS [AgentId], 
        [Extent1].[DepartmentId] AS [DepartmentId], 
        [Extent1].[Status] AS [Status], 
        [Extent1].[Subject] AS [Subject], 
        [Extent1].[Priority] AS [Priority], 
        [Extent1].[Note] AS [Note], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[Avatar] AS [Avatar]
        FROM  [dbo].[t_Social_Conversation10000] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[LastMessageSenderId] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[CreatedTime] > @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM  [dbo].[t_Social_Message10000] AS [Extent3]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent4] ON ([Extent3].[SenderId] = [Extent4].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[Id] = [Extent3].[ConversationId]) AND (([Extent4].[Name] = @p__linq__2) OR (([Extent4].[Name] IS NULL) AND (@p__linq__2 IS NULL)) OR (([Extent4].[Email] IS NOT NULL) AND (([Extent4].[Email] = @p__linq__3) OR (([Extent4].[Email] IS NULL) AND (@p__linq__3 IS NULL)))))
        ))
    )  AS [Project2]
    ORDER BY [Project2].[Id] DESC
2017-09-06 15:57:07,095 [75] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:57:07,095 [75] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:57:07,095 [75] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:57:07,095 [75] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6/6/2017 7:57:07 AM' (Type = DateTime2)

2017-09-06 15:57:07,095 [75] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/6/2017 7:57:07 AM' (Type = DateTime2)

2017-09-06 15:57:07,095 [75] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: 'Hollny Agentorda' (Type = String, Size = 4000)

2017-09-06 15:57:07,095 [75] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__3: 'Hollny Agentorda' (Type = String, Size = 4000)

2017-09-06 15:57:07,095 [75] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,108 [75] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 13 ms with result: SqlDataReader

2017-09-06 15:57:07,108 [75] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:57:07,111 [75] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,114 [75] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,168 [75] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent2].[Id] AS [Id1], 
    [Extent2].[OriginalId] AS [OriginalId1], 
    [Extent2].[OriginalLink] AS [OriginalLink1], 
    [Extent2].[Source] AS [Source1], 
    [Extent2].[Type] AS [Type], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[ScreenName] AS [ScreenName], 
    [Extent2].[Email] AS [Email], 
    [Extent2].[Avatar] AS [Avatar], 
    [Extent2].[IsDeleted] AS [IsDeleted1], 
    [Extent2].[SiteId] AS [SiteId], 
    [Extent3].[Id] AS [Id2], 
    [Extent3].[OriginalId] AS [OriginalId2], 
    [Extent3].[OriginalLink] AS [OriginalLink2], 
    [Extent3].[Source] AS [Source2], 
    [Extent3].[Type] AS [Type1], 
    [Extent3].[Name] AS [Name1], 
    [Extent3].[ScreenName] AS [ScreenName1], 
    [Extent3].[Email] AS [Email1], 
    [Extent3].[Avatar] AS [Avatar1], 
    [Extent3].[IsDeleted] AS [IsDeleted2], 
    [Extent3].[SiteId] AS [SiteId1]
    FROM   [dbo].[t_Social_Message10000] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[ReceiverId] = [Extent3].[Id])
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] IN (1))
2017-09-06 15:57:07,168 [75] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:57:07,168 [75] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 15:57:07,168 [75] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 15:57:07,168 [75] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 3:57:07 PM +08:00

2017-09-06 15:57:07,185 [75] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 16 ms with result: SqlDataReader

2017-09-06 15:57:07,185 [75] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 15:57:07,194 [75] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 3:57:07 PM +08:00

2017-09-06 16:08:54,509 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-06 16:08:57,171 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-06 16:09:29,200 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:09:29 PM +08:00

2017-09-06 16:09:30,364 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-09-06 16:09:30,364 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:30,366 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 16:09:30,366 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:09:30,366 [6] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 16:09:30,366 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,395 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 27 ms with result: SqlDataReader

2017-09-06 16:09:30,396 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:30,463 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,486 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,507 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 16:09:30,507 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:30,507 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 16:09:30,507 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:09:30,507 [6] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 16:09:30,507 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,509 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 16:09:30,509 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:30,547 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,626 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,663 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] IN (12))
2017-09-06 16:09:30,663 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:30,663 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 16:09:30,663 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:09:30,663 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,664 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 16:09:30,664 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:30,667 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,680 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,841 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project1].[Id] AS [Id], 
    [Project1].[IfSystem] AS [IfSystem], 
    [Project1].[DataType] AS [DataType], 
    [Project1].[Name] AS [Name], 
    [Project1].[SiteId] AS [SiteId], 
    [Project1].[C1] AS [C1], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[FieldId] AS [FieldId], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[Value] AS [Value], 
    [Project1].[Index] AS [Index], 
    [Project1].[SiteId1] AS [SiteId1]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[IfSystem] AS [IfSystem], 
        [Extent1].[DataType] AS [DataType], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[SiteId] AS [SiteId], 
        [Extent2].[Id] AS [Id1], 
        [Extent2].[FieldId] AS [FieldId], 
        [Extent2].[Name] AS [Name1], 
        [Extent2].[Value] AS [Value], 
        [Extent2].[Index] AS [Index], 
        [Extent2].[SiteId] AS [SiteId1], 
        CASE WHEN ([Extent2].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM  [dbo].[t_Social_ConversationField] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_ConversationFieldOption] AS [Extent2] ON ([Extent1].[Id] = [Extent2].[FieldId]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE ([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)
    )  AS [Project1]
    ORDER BY [Project1].[Id] ASC, [Project1].[C1] ASC
2017-09-06 16:09:30,841 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:30,841 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 16:09:30,841 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:09:30,841 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,859 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 18 ms with result: SqlDataReader

2017-09-06 16:09:30,859 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:30,878 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,885 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,909 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[Type])
2017-09-06 16:09:30,909 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:30,909 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 16:09:30,909 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:09:30,909 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,911 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 16:09:30,911 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:30,916 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:30,981 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:09:30 PM +08:00

2017-09-06 16:09:31,104 [6] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Filter]
SET [Name] = @0, [Index] = @1, [IfPublic] = @2, [Type] = @3, [LogicalExpression] = @4, [CreatedBy] = @5, [CreatedTime] = @6, [SiteId] = @7
WHERE ([Id] = @8)

2017-09-06 16:09:31,105 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @0: 'test' (Type = String, Size = 200)

2017-09-06 16:09:31,105 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '0' (Type = Int32)

2017-09-06 16:09:31,105 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-09-06 16:09:31,105 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '1' (Type = Int16)

2017-09-06 16:09:31,105 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @4: 'string' (Type = String, Size = 200)

2017-09-06 16:09:31,105 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '1' (Type = Int32)

2017-09-06 16:09:31,105 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '8/18/2017 9:39:05 AM' (Type = DateTime2)

2017-09-06 16:09:31,105 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '10000' (Type = Int32)

2017-09-06 16:09:31,105 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @8: '3004' (Type = Int32)

2017-09-06 16:09:31,105 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:31 PM +08:00

2017-09-06 16:09:31,111 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: 1

2017-09-06 16:09:31,111 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:31,114 [6] DEBUG Social.Domain.Core.SiteDataContext - DELETE [dbo].[t_Social_FilterCondition]
WHERE ([Id] = @0)
2017-09-06 16:09:31,114 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:31,114 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '6006' (Type = Int32)

2017-09-06 16:09:31,114 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:31 PM +08:00

2017-09-06 16:09:31,115 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: 1

2017-09-06 16:09:31,115 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:31,120 [6] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_FilterCondition]([FilterId], [FieldId], [MatchType], [Value], [Index], [SiteId])
VALUES (@0, @1, @2, @3, @4, @5)
SELECT [Id]
FROM [dbo].[t_Social_FilterCondition]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-06 16:09:31,120 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:31,121 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '3004' (Type = Int32)

2017-09-06 16:09:31,121 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '12' (Type = Int32)

2017-09-06 16:09:31,121 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @2: '5' (Type = Int16)

2017-09-06 16:09:31,121 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @3: 'Hollny' (Type = String, Size = 200)

2017-09-06 16:09:31,121 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '0' (Type = Int32)

2017-09-06 16:09:31,121 [6] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '10000' (Type = Int32)

2017-09-06 16:09:31,121 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:31 PM +08:00

2017-09-06 16:09:31,123 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 16:09:31,123 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:31,131 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:09:31 PM +08:00

2017-09-06 16:09:42,373 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:09:42 PM +08:00

2017-09-06 16:09:42,374 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-09-06 16:09:42,374 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:42,374 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 16:09:42,374 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:09:42,374 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 16:09:42,374 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:42 PM +08:00

2017-09-06 16:09:42,375 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 16:09:42,375 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:42,375 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:09:42 PM +08:00

2017-09-06 16:09:42,377 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:09:42 PM +08:00

2017-09-06 16:09:42,377 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 16:09:42,378 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:42,378 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 16:09:42,378 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:09:42,378 [10] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 16:09:42,378 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:42 PM +08:00

2017-09-06 16:09:42,382 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 4 ms with result: SqlDataReader

2017-09-06 16:09:42,382 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:42,383 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:09:42 PM +08:00

2017-09-06 16:09:42,385 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:09:42 PM +08:00

2017-09-06 16:09:42,393 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 16:09:42,393 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:42,393 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 16:09:42,393 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:09:42,393 [10] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '12' (Type = Int32, IsNullable = false)

2017-09-06 16:09:42,393 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:42 PM +08:00

2017-09-06 16:09:42,394 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 16:09:42,394 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:42,397 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:09:42 PM +08:00

2017-09-06 16:09:46,262 [10] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:09:46 PM +08:00

2017-09-06 16:09:46,458 [10] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (200) 
    [Project2].[Id] AS [Id], 
    [Project2].[Source] AS [Source], 
    [Project2].[OriginalId] AS [OriginalId], 
    [Project2].[IfRead] AS [IfRead], 
    [Project2].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Project2].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Project2].[Name] AS [Name], 
    [Project2].[Avatar] AS [Avatar], 
    [Project2].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Project2].[AgentId] AS [AgentId], 
    [Project2].[DepartmentId] AS [DepartmentId], 
    [Project2].[Status] AS [Status], 
    [Project2].[Subject] AS [Subject], 
    [Project2].[Priority] AS [Priority], 
    [Project2].[Note] AS [Note], 
    [Project2].[OriginalLink] AS [OriginalLink]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalId] AS [OriginalId], 
        [Extent1].[IfRead] AS [IfRead], 
        [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
        [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
        [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
        [Extent1].[AgentId] AS [AgentId], 
        [Extent1].[DepartmentId] AS [DepartmentId], 
        [Extent1].[Status] AS [Status], 
        [Extent1].[Subject] AS [Subject], 
        [Extent1].[Priority] AS [Priority], 
        [Extent1].[Note] AS [Note], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[Avatar] AS [Avatar]
        FROM  [dbo].[t_Social_Conversation10000] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[LastMessageSenderId] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) )
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[CreatedTime] > @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM  [dbo].[t_Social_Message10000] AS [Extent3]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent4] ON ([Extent3].[SenderId] = [Extent4].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) )
            WHERE ([Extent1].[Id] = [Extent3].[ConversationId]) AND ((( CAST(CHARINDEX(N'%' + CASE WHEN (@p__linq__2 IS NULL) THEN N'' ELSE @p__linq__2 END + N'%', [Extent4].[Name]) AS int)) > 0) OR (([Extent4].[Email] IS NOT NULL) AND (( CAST(CHARINDEX(N'%' + CASE WHEN (@p__linq__3 IS NULL) THEN N'' ELSE @p__linq__3 END + N'%', [Extent4].[Email]) AS int)) > 0)))
        ))
    )  AS [Project2]
    ORDER BY [Project2].[Id] DESC
2017-09-06 16:09:46,458 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:46,458 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 16:09:46,458 [10] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:09:46,458 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6/6/2017 8:09:42 AM' (Type = DateTime2)

2017-09-06 16:09:46,458 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/6/2017 8:09:42 AM' (Type = DateTime2)

2017-09-06 16:09:46,458 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: 'Hollny' (Type = String, Size = 4000)

2017-09-06 16:09:46,458 [10] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__3: 'Hollny' (Type = String, Size = 4000)

2017-09-06 16:09:46,458 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:09:46 PM +08:00

2017-09-06 16:09:46,473 [10] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 15 ms with result: SqlDataReader

2017-09-06 16:09:46,473 [10] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:09:46,474 [10] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:09:46 PM +08:00

2017-09-06 16:32:38,325 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-06 16:32:41,166 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-06 16:32:59,738 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:32:59 PM +08:00

2017-09-06 16:33:01,161 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @p0)
2017-09-06 16:33:01,161 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:01,166 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 16:33:01,166 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:33:01,166 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 16:33:01,166 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:33:01 PM +08:00

2017-09-06 16:33:01,200 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 32 ms with result: SqlDataReader

2017-09-06 16:33:01,200 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:01,269 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:33:01 PM +08:00

2017-09-06 16:33:01,297 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:33:01 PM +08:00

2017-09-06 16:33:01,350 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 16:33:01,351 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:01,351 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 16:33:01,351 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:33:01,351 [9] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 16:33:01,351 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:33:01 PM +08:00

2017-09-06 16:33:01,369 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 18 ms with result: SqlDataReader

2017-09-06 16:33:01,369 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:01,416 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:33:01 PM +08:00

2017-09-06 16:33:01,421 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:33:01 PM +08:00

2017-09-06 16:33:01,455 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[IfSystem] AS [IfSystem], 
    [Extent1].[DataType] AS [DataType], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_ConversationField] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 16:33:01,455 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:01,455 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 16:33:01,455 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:33:01,455 [9] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '12' (Type = Int32, IsNullable = false)

2017-09-06 16:33:01,455 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:33:01 PM +08:00

2017-09-06 16:33:01,482 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 27 ms with result: SqlDataReader

2017-09-06 16:33:01,482 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:01,488 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:33:01 PM +08:00

2017-09-06 16:33:01,587 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:33:01 PM +08:00

2017-09-06 16:33:01,878 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (200) 
    [Project2].[Id] AS [Id], 
    [Project2].[Source] AS [Source], 
    [Project2].[OriginalId] AS [OriginalId], 
    [Project2].[IfRead] AS [IfRead], 
    [Project2].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Project2].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Project2].[Name] AS [Name], 
    [Project2].[Avatar] AS [Avatar], 
    [Project2].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Project2].[AgentId] AS [AgentId], 
    [Project2].[DepartmentId] AS [DepartmentId], 
    [Project2].[Status] AS [Status], 
    [Project2].[Subject] AS [Subject], 
    [Project2].[Priority] AS [Priority], 
    [Project2].[Note] AS [Note], 
    [Project2].[OriginalLink] AS [OriginalLink]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Source] AS [Source], 
        [Extent1].[OriginalId] AS [OriginalId], 
        [Extent1].[IfRead] AS [IfRead], 
        [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
        [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
        [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
        [Extent1].[AgentId] AS [AgentId], 
        [Extent1].[DepartmentId] AS [DepartmentId], 
        [Extent1].[Status] AS [Status], 
        [Extent1].[Subject] AS [Subject], 
        [Extent1].[Priority] AS [Priority], 
        [Extent1].[Note] AS [Note], 
        [Extent2].[OriginalLink] AS [OriginalLink], 
        [Extent2].[Name] AS [Name], 
        [Extent2].[Avatar] AS [Avatar]
        FROM  [dbo].[t_Social_Conversation10000] AS [Extent1]
        LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON ([Extent1].[LastMessageSenderId] = [Extent2].[Id]) AND (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[CreatedTime] > @p__linq__0) AND ([Extent1].[CreatedTime] <= @p__linq__1) AND ( EXISTS (SELECT 
            1 AS [C1]
            FROM  [dbo].[t_Social_Message10000] AS [Extent3]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent4] ON ([Extent3].[SenderId] = [Extent4].[Id]) AND (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL))
            WHERE ([Extent1].[Id] = [Extent3].[ConversationId]) AND (([Extent4].[Name] LIKE @p__linq__2 ESCAPE N'~') OR (([Extent4].[Email] IS NOT NULL) AND ([Extent4].[Email] LIKE @p__linq__3 ESCAPE N'~')))
        ))
    )  AS [Project2]
    ORDER BY [Project2].[Id] DESC
2017-09-06 16:33:01,878 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:01,878 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 16:33:01,878 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:33:01,878 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '6/6/2017 8:32:57 AM' (Type = DateTime2)

2017-09-06 16:33:01,878 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '9/6/2017 8:32:57 AM' (Type = DateTime2)

2017-09-06 16:33:01,878 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__2: '%Hollny%' (Type = String, Size = 4000)

2017-09-06 16:33:01,878 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__3: '%Hollny%' (Type = String, Size = 4000)

2017-09-06 16:33:01,878 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:33:01 PM +08:00

2017-09-06 16:33:01,946 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 68 ms with result: SqlDataReader

2017-09-06 16:33:01,946 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:01,950 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:33:01 PM +08:00

2017-09-06 16:33:02,003 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:33:02 PM +08:00

2017-09-06 16:33:02,085 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[ParentId] AS [ParentId], 
    [Extent1].[SendTime] AS [SendTime], 
    [Extent1].[SenderId] AS [SenderId], 
    [Extent1].[ReceiverId] AS [ReceiverId], 
    [Extent1].[SendAgentId] AS [SendAgentId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[Story] AS [Story], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
    [Extent2].[Id] AS [Id1], 
    [Extent2].[OriginalId] AS [OriginalId1], 
    [Extent2].[OriginalLink] AS [OriginalLink1], 
    [Extent2].[Source] AS [Source1], 
    [Extent2].[Type] AS [Type], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[ScreenName] AS [ScreenName], 
    [Extent2].[Email] AS [Email], 
    [Extent2].[Avatar] AS [Avatar], 
    [Extent2].[IsDeleted] AS [IsDeleted1], 
    [Extent2].[SiteId] AS [SiteId], 
    [Extent3].[Id] AS [Id2], 
    [Extent3].[OriginalId] AS [OriginalId2], 
    [Extent3].[OriginalLink] AS [OriginalLink2], 
    [Extent3].[Source] AS [Source2], 
    [Extent3].[Type] AS [Type1], 
    [Extent3].[Name] AS [Name1], 
    [Extent3].[ScreenName] AS [ScreenName1], 
    [Extent3].[Email] AS [Email1], 
    [Extent3].[Avatar] AS [Avatar1], 
    [Extent3].[IsDeleted] AS [IsDeleted2], 
    [Extent3].[SiteId] AS [SiteId1]
    FROM   [dbo].[t_Social_Message10000] AS [Extent1]
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
    LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent3] ON (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[ReceiverId] = [Extent3].[Id])
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] IN (1))
2017-09-06 16:33:02,085 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:02,085 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 16:33:02,085 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:33:02,085 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:33:02 PM +08:00

2017-09-06 16:33:02,118 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 32 ms with result: SqlDataReader

2017-09-06 16:33:02,118 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:02,157 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:33:02 PM +08:00

2017-09-06 16:33:18,584 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:33:18 PM +08:00

2017-09-06 16:33:18,586 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[IfPublic] AS [IfPublic], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[LogicalExpression] AS [LogicalExpression], 
    [Extent1].[CreatedBy] AS [CreatedBy], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_Filter] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @p0)
2017-09-06 16:33:18,586 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:18,586 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 16:33:18,586 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:33:18,586 [6] DEBUG Social.Domain.Core.SiteDataContext - -- p0: '3004' (Type = Int32)

2017-09-06 16:33:18,586 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:33:18 PM +08:00

2017-09-06 16:33:18,588 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 16:33:18,588 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:18,588 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:33:18 PM +08:00

2017-09-06 16:33:18,625 [6] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 4:33:18 PM +08:00

2017-09-06 16:33:18,626 [6] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[FilterId] AS [FilterId], 
    [Extent1].[FieldId] AS [FieldId], 
    [Extent1].[MatchType] AS [MatchType], 
    [Extent1].[Value] AS [Value], 
    [Extent1].[Index] AS [Index], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_FilterCondition] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[FilterId] = @EntityKeyValue1)
2017-09-06 16:33:18,626 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:18,626 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 16:33:18,626 [6] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 16:33:18,626 [6] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '3004' (Type = Int32, IsNullable = false)

2017-09-06 16:33:18,626 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 4:33:18 PM +08:00

2017-09-06 16:33:18,628 [6] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 16:33:18,628 [6] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 16:33:18,629 [6] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 4:33:18 PM +08:00

2017-09-06 16:58:35,287 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-06 16:58:36,495 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-06 17:03:34,024 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:03:34 PM +08:00

2017-09-06 17:03:35,118 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:03:35,118 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:03:35,121 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:03:35,121 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:03:35 PM +08:00

2017-09-06 17:03:35,162 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 40 ms with result: SqlDataReader

2017-09-06 17:03:35,162 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:03:35,252 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:03:35 PM +08:00

2017-09-06 17:03:43,736 [13] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:03:43 PM +08:00

2017-09-06 17:03:44,077 [13] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:03:44,077 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:03:44,077 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 17:03:44,077 [13] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:03:44,077 [13] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:03:44,077 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:03:44 PM +08:00

2017-09-06 17:03:44,134 [13] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 56 ms with result: SqlDataReader

2017-09-06 17:03:44,134 [13] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:03:44,194 [13] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:03:44 PM +08:00

2017-09-06 17:04:48,333 [13] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Unable to connect to the remote server
Facebook.WebExceptionWrapper: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:8888
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at Facebook.HttpHelper.OpenWrite()
   at Facebook.FacebookClient.Api(HttpMethod httpMethod, String path, Object parameters, Type resultType)
   at Facebook.FacebookClient.Post(String path, Object parameters)
   at Social.Infrastructure.Facebook.FbClient.PublishMessage(String token, String fbConversationId, String message) in F:\social\social_20170728\Social\Social.Infrastructure\Facebook\FbClient.cs:line 290
   at Social.Domain.DomainServices.MessageService.ReplyFacebookMessage(Int32 conversationId, String content, Boolean isCloseConversation) in F:\social\social_20170728\Social\Social.Domain\DomainServices\MessageService.cs:line 123
   at Social.Application.AppServices.ConversationMessageAppService.ReplyFacebookMessage(Int32 conversationId, String content, Boolean isCloseConversation) in F:\social\social_20170728\Social\Social.Application\AppServices\ConversationMessageAppService.cs:line 180
   at Social.WebApi.Controllers.ConversationsController.PostFacebookMessages(Int32 conversationId, FacebookMessagesDto dto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\ConversationsController.cs:line 179
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-06 17:05:55,355 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-06 17:05:58,033 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-06 17:06:57,127 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:06:57 PM +08:00

2017-09-06 17:06:58,169 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:06:58,169 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:06:58,172 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:06:58,172 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:06:58 PM +08:00

2017-09-06 17:06:58,200 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 26 ms with result: SqlDataReader

2017-09-06 17:06:58,200 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:06:58,293 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:06:58 PM +08:00

2017-09-06 17:06:59,358 [8] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:06:59 PM +08:00

2017-09-06 17:06:59,700 [8] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:06:59,700 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:06:59,701 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 17:06:59,701 [8] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:06:59,701 [8] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:06:59,701 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:06:59 PM +08:00

2017-09-06 17:06:59,728 [8] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 27 ms with result: SqlDataReader

2017-09-06 17:06:59,728 [8] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:06:59,789 [8] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:06:59 PM +08:00

2017-09-06 17:07:12,166 [8] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - Validation failed for one or more entities. See 'EntityValidationErrors' property for more details. The validation errors are : T;h;e; ;O;r;i;g;i;n;a;l;I;d; ;f;i;e;l;d; ;i;s; ;r;e;q;u;i;r;e;d;.
System.Data.Entity.Validation.DbEntityValidationException: Validation failed for one or more entities. See 'EntityValidationErrors' property for more details. The validation errors are : T;h;e; ;O;r;i;g;i;n;a;l;I;d; ;f;i;e;l;d; ;i;s; ;r;e;q;u;i;r;e;d;.
   at Framework.Core.EntityFramework.DataContext.SaveChanges() in F:\social\social_20170728\Social\Framework\Framework.Core\EntityFramework\DataContext.cs:line 68
   at Framework.Core.UnitOfWork.UnitOfWork.SaveChanges() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWork.cs:line 180
   at Social.Domain.DomainServices.MessageService.ReplyFacebookMessage(Int32 conversationId, String content, Boolean isCloseConversation) in F:\social\social_20170728\Social\Social.Domain\DomainServices\MessageService.cs:line 138
   at Social.Application.AppServices.ConversationMessageAppService.ReplyFacebookMessage(Int32 conversationId, String content, Boolean isCloseConversation) in F:\social\social_20170728\Social\Social.Application\AppServices\ConversationMessageAppService.cs:line 180
   at Social.WebApi.Controllers.ConversationsController.PostFacebookMessages(Int32 conversationId, FacebookMessagesDto dto) in F:\social\social_20170728\Social\Social.WebApi\Controllers\ConversationsController.cs:line 179
   at lambda_method(Closure , Object , Object[] )
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass10.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   at System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ExecuteAsync(HttpControllerContext controllerContext, IDictionary`2 arguments, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-06 17:07:56,433 [1] INFO  System.Web.HttpApplication - Application starting...
2017-09-06 17:07:59,020 [1] INFO  System.Web.HttpApplication - Application started...
2017-09-06 17:08:35,684 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:08:35 PM +08:00

2017-09-06 17:08:36,737 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:08:36,738 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:08:36,740 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:08:36,740 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:08:36 PM +08:00

2017-09-06 17:08:36,767 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 26 ms with result: SqlDataReader

2017-09-06 17:08:36,767 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:08:36,866 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:08:36 PM +08:00

2017-09-06 17:08:38,276 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:08:38 PM +08:00

2017-09-06 17:08:38,606 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) OR (@DynamicFilterParam_000002 IS NOT NULL)) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:08:38,606 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:08:38,606 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: 'null' (Type = Int32)

2017-09-06 17:08:38,606 [9] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:08:38,606 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:08:38,606 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:08:38 PM +08:00

2017-09-06 17:08:38,635 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 28 ms with result: SqlDataReader

2017-09-06 17:08:38,635 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:08:38,698 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:08:38 PM +08:00

2017-09-06 17:08:44,124 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:08:44 PM +08:00

2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_Message10000]([ConversationId], [Source], [OriginalId], [OriginalLink], [ParentId], [SendTime], [SenderId], [ReceiverId], [SendAgentId], [Content], [Story], [IsDeleted], [QuoteTweetId])
VALUES (@0, @1, @2, NULL, NULL, @3, @4, @5, @6, @7, NULL, @8, NULL)
SELECT [Id]
FROM [dbo].[t_Social_Message10000]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '1' (Type = Int32)

2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '1' (Type = Int16)

2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @2: '1' (Type = String, Size = 200)

2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/6/2017 9:08:41 AM' (Type = DateTime2)

2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '9' (Type = Int32)

2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '11' (Type = Int32)

2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '1' (Type = Int32)

2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @7: 'aaa' (Type = String, Size = -1)

2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @8: 'False' (Type = Boolean)

2017-09-06 17:08:44,251 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:08:44 PM +08:00

2017-09-06 17:08:44,267 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 15 ms with result: SqlDataReader

2017-09-06 17:08:44,267 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:08:44,284 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:08:44 PM +08:00

2017-09-06 17:08:53,255 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:08:53 PM +08:00

2017-09-06 17:08:53,274 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p__linq__0
2017-09-06 17:08:53,274 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:08:53,275 [9] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:08:53,275 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:08:53 PM +08:00

2017-09-06 17:08:53,286 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-09-06 17:08:53,286 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:08:53,288 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:08:53 PM +08:00

2017-09-06 17:08:55,188 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:08:55 PM +08:00

2017-09-06 17:08:55,229 [9] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-06 17:08:55,229 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:08:55,229 [9] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:08:55,229 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:08:55 PM +08:00

2017-09-06 17:08:55,248 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 19 ms with result: SqlDataReader

2017-09-06 17:08:55,249 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:08:55,254 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:08:55 PM +08:00

2017-09-06 17:09:29,440 [9] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:09:29 PM +08:00

2017-09-06 17:09:29,448 [9] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Conversation10000]
SET [Source] = @0, [OriginalId] = @1, [IfRead] = @2, [LastMessageSentTime] = @3, [LastMessageSenderId] = @4, [LastRepliedAgentId] = @5, [AgentId] = @6, [DepartmentId] = @7, [Status] = @8, [Subject] = @9, [Priority] = @10, [Note] = @11, [IsDeleted] = @12, [IsHidden] = @13, [CreatedTime] = @14, [ModifiedTime] = NULL
WHERE ([Id] = @15)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '1' (Type = Int16)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '897373629003948032' (Type = String, Size = 200)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/6/2017 9:08:41 AM' (Type = DateTime2)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '9' (Type = Int32)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '1' (Type = Int32)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '1' (Type = Int32)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '0' (Type = Int32)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @8: '2' (Type = Int16)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @9: 'string' (Type = String, Size = 200)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @10: '0' (Type = Int16)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @11: 'string' (Type = String, Size = 2000)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @12: 'False' (Type = Boolean)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @13: 'False' (Type = Boolean)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @14: '8/15/2017 8:26:43 AM' (Type = DateTime2)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @15: '1' (Type = Int32)

2017-09-06 17:09:29,449 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:09:29 PM +08:00

2017-09-06 17:09:29,463 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 13 ms with result: 1

2017-09-06 17:09:29,463 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:09:29,464 [9] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_ConversationLog10000]([ConversationId], [Type], [Content], [CreatedTime], [CreatedBy])
VALUES (@0, @1, @2, @3, @4)
SELECT [Id]
FROM [dbo].[t_Social_ConversationLog10000]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-06 17:09:29,464 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:09:29,464 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '1' (Type = Int32)

2017-09-06 17:09:29,464 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '3' (Type = Int16)

2017-09-06 17:09:29,464 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'Agent Test Agent 1 changed Status from New to Pending External.' (Type = String, Size = 500)

2017-09-06 17:09:29,464 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/6/2017 9:09:29 AM' (Type = DateTime2)

2017-09-06 17:09:29,464 [9] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '1' (Type = Int32)

2017-09-06 17:09:29,464 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:09:29 PM +08:00

2017-09-06 17:09:29,468 [9] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-06 17:09:29,468 [9] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:09:29,468 [9] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:09:29 PM +08:00

2017-09-06 17:13:19,503 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:13:19 PM +08:00

2017-09-06 17:13:19,504 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:13:19,504 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:19,504 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:13:19,504 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:13:19 PM +08:00

2017-09-06 17:13:19,507 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 17:13:19,507 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:19,507 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:13:19 PM +08:00

2017-09-06 17:13:21,310 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:13:21 PM +08:00

2017-09-06 17:13:21,312 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[CreatedBy] AS [CreatedBy]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE [Extent1].[ConversationId] = @EntityKeyValue1
2017-09-06 17:13:21,312 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:21,312 [12] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:13:21,312 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:13:21 PM +08:00

2017-09-06 17:13:21,314 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 17:13:21,314 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:21,315 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:13:21 PM +08:00

2017-09-06 17:13:22,777 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:13:22 PM +08:00

2017-09-06 17:13:22,778 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE [Extent1].[Id] = @p__linq__0
2017-09-06 17:13:22,778 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:22,778 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:13:22,778 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:13:22 PM +08:00

2017-09-06 17:13:22,779 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 17:13:22,779 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:22,780 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:13:22 PM +08:00

2017-09-06 17:13:24,329 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:13:24 PM +08:00

2017-09-06 17:13:24,343 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:13:24,343 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:24,343 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:13:24,343 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:13:24,343 [12] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:13:24,343 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:13:24 PM +08:00

2017-09-06 17:13:24,352 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 8 ms with result: SqlDataReader

2017-09-06 17:13:24,352 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:24,352 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:13:24 PM +08:00

2017-09-06 17:13:25,085 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:13:25 PM +08:00

2017-09-06 17:13:25,096 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:13:25,097 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:25,097 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:13:25,097 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:13:25,097 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:13:25,097 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:13:25 PM +08:00

2017-09-06 17:13:25,125 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 28 ms with result: SqlDataReader

2017-09-06 17:13:25,125 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:25,126 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:13:25 PM +08:00

2017-09-06 17:13:25,820 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:13:25 PM +08:00

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - UPDATE [dbo].[t_Social_Conversation10000]
SET [Source] = @0, [OriginalId] = @1, [IfRead] = @2, [LastMessageSentTime] = @3, [LastMessageSenderId] = @4, [LastRepliedAgentId] = @5, [AgentId] = @6, [DepartmentId] = @7, [Status] = @8, [Subject] = @9, [Priority] = @10, [Note] = @11, [IsDeleted] = @12, [IsHidden] = @13, [CreatedTime] = @14, [ModifiedTime] = NULL
WHERE ([Id] = @15)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '1' (Type = Int16)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '897373629003948032' (Type = String, Size = 200)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'True' (Type = Boolean)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/6/2017 9:08:41 AM' (Type = DateTime2)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '9' (Type = Int32)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @5: '1' (Type = Int32)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @6: '1' (Type = Int32)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @7: '1' (Type = Int32)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @8: '1' (Type = Int16)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @9: 'string' (Type = String, Size = 200)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @10: '1' (Type = Int16)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @11: 'string' (Type = String, Size = 2000)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @12: 'False' (Type = Boolean)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @13: 'False' (Type = Boolean)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @14: '8/15/2017 8:26:43 AM' (Type = DateTime2)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @15: '1' (Type = Int32)

2017-09-06 17:13:25,822 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:13:25 PM +08:00

2017-09-06 17:13:25,826 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: 1

2017-09-06 17:13:25,826 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:25,826 [12] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_ConversationLog10000]([ConversationId], [Type], [Content], [CreatedTime], [CreatedBy])
VALUES (@0, @1, @2, @3, @4)
SELECT [Id]
FROM [dbo].[t_Social_ConversationLog10000]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-06 17:13:25,826 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:25,826 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '1' (Type = Int32)

2017-09-06 17:13:25,826 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '4' (Type = Int16)

2017-09-06 17:13:25,826 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'Agent Test Agent 1 changed Priority from Low to Normal.' (Type = String, Size = 500)

2017-09-06 17:13:25,826 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/6/2017 9:13:25 AM' (Type = DateTime2)

2017-09-06 17:13:25,826 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '1' (Type = Int32)

2017-09-06 17:13:25,826 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:13:25 PM +08:00

2017-09-06 17:13:25,828 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 17:13:25,828 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:25,828 [12] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_ConversationLog10000]([ConversationId], [Type], [Content], [CreatedTime], [CreatedBy])
VALUES (@0, @1, @2, @3, @4)
SELECT [Id]
FROM [dbo].[t_Social_ConversationLog10000]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-06 17:13:25,828 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:25,828 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '1' (Type = Int32)

2017-09-06 17:13:25,828 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '3' (Type = Int16)

2017-09-06 17:13:25,828 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'Agent Test Agent 1 changed Status from Pending External to Pending Internal.' (Type = String, Size = 500)

2017-09-06 17:13:25,828 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/6/2017 9:13:25 AM' (Type = DateTime2)

2017-09-06 17:13:25,828 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '1' (Type = Int32)

2017-09-06 17:13:25,828 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:13:25 PM +08:00

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - INSERT [dbo].[t_Social_ConversationLog10000]([ConversationId], [Type], [Content], [CreatedTime], [CreatedBy])
VALUES (@0, @1, @2, @3, @4)
SELECT [Id]
FROM [dbo].[t_Social_ConversationLog10000]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @0: '1' (Type = Int32)

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @1: '2' (Type = Int16)

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @2: 'Agent Test Agent 1 changed Department Assignee from N/A to Test Department 1' (Type = String, Size = 500)

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @3: '9/6/2017 9:13:25 AM' (Type = DateTime2)

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - -- @4: '1' (Type = Int32)

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:13:25 PM +08:00

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:13:25,829 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:13:25 PM +08:00

2017-09-06 17:15:16,868 [11] ERROR Framework.WebApi.Filters.ApiExceptionFilterAttribute - An error occurred while sending the request.
System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:20000
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Net.Http.HttpClient.<FinishSendAsync>d__58.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.Infrastructure.Core.NotificationManager.<GetAsync>d__10.MoveNext() in F:\social\social_20170728\Social\Social.Domain\Core\NotificationManager.cs:line 70
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Infrastructure.Core.NotificationManager.<NotifyUpdateConversation>d__2.MoveNext() in F:\social\social_20170728\Social\Social.Domain\Core\NotificationManager.cs:line 28
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Social.Application.AppServices.ConversationAppService.<UpdateAsync>d__12.MoveNext() in F:\social\social_20170728\Social\Social.Application\AppServices\ConversationAppService.cs:line 148
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Social.WebApi.Controllers.ConversationsController.<PutConversation>d__5.MoveNext() in F:\social\social_20170728\Social\Social.WebApi\Controllers\ConversationsController.cs:line 85
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.TaskHelpersExtensions.<CastToObject>d__3`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ApiControllerActionInvoker.<InvokeActionAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<>c__DisplayClass4_0.<<ExecuteActionFilterAsync>b__0>d.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 31
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.Core.UnitOfWork.UnitOfWorkManager.<Run>d__8.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.Core\UnitOfWork\UnitOfWorkManager.cs:line 80
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Framework.WebApi.Filters.UnitOfWorkFilter.<ExecuteActionFilterAsync>d__4.MoveNext() in F:\social\social_20170728\Social\Framework\Framework.WebApi\Filters\UnitOfWorkFilter.cs:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Web.Http.Filters.ActionFilterAttribute.<CallOnActionExecutedAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.ActionFilterAttribute.<ExecuteActionFilterAsyncCore>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ActionFilterResult.<ExecuteAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Filters.AuthorizationFilterAttribute.<ExecuteAuthorizationFilterAsyncCore>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Web.Http.Controllers.ExceptionFilterResult.<ExecuteAsync>d__0.MoveNext()
2017-09-06 17:15:30,408 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:30,409 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:15:30,409 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:30,409 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:15:30,409 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:30,412 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 17:15:30,412 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:30,412 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:30,413 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:30,414 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:15:30,414 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:30,414 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:15:30,414 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:15:30,414 [12] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:15:30,414 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:30,415 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 17:15:30,415 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:30,416 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:30,416 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:30,428 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:15:30,428 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:30,428 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:15:30,428 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:15:30,428 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:15:30,428 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:30,453 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 24 ms with result: SqlDataReader

2017-09-06 17:15:30,453 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:30,454 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:30,568 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:30,586 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-06 17:15:30,586 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:30,586 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:15:30,586 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1002' (Type = Int32, IsNullable = false)

2017-09-06 17:15:30,586 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:30,588 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 17:15:30,589 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:30,589 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:15:30 PM +08:00

2017-09-06 17:15:58,134 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:15:58,135 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:15:58,136 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:58,136 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:15:58,136 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:15:58,139 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-06 17:15:58,139 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:58,139 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:15:58,139 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:15:58,140 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:15:58,140 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:58,140 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:15:58,140 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:15:58,140 [12] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:15:58,140 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:15:58,142 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 17:15:58,142 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:58,142 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:15:58,142 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:15:58,155 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:15:58,155 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:58,155 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:15:58,155 [12] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:15:58,155 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:15:58,155 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:15:58,184 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 29 ms with result: SqlDataReader

2017-09-06 17:15:58,184 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:58,185 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:15:58,186 [12] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:15:58,187 [12] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-06 17:15:58,187 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:58,187 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:15:58,187 [12] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1005' (Type = Int32, IsNullable = false)

2017-09-06 17:15:58,187 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:15:58,189 [12] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 17:15:58,189 [12] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:15:58,189 [12] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:15:58 PM +08:00

2017-09-06 17:16:02,724 [14] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:02,724 [14] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:16:02,725 [14] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:02,725 [14] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:16:02,725 [14] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:02,725 [14] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:16:02,725 [14] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:02,726 [14] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:02,726 [14] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:02,726 [14] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:16:02,726 [14] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:02,726 [14] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:16:02,726 [14] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:16:02,726 [14] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:16:02,726 [14] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:02,727 [14] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:16:02,727 [14] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:02,727 [14] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:02,727 [14] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:02,739 [14] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:16:02,739 [14] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:02,739 [14] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:16:02,739 [14] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:16:02,739 [14] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:16:02,739 [14] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:02,750 [14] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-09-06 17:16:02,750 [14] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:02,751 [14] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:02,752 [14] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:02,752 [14] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-06 17:16:02,752 [14] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:02,752 [14] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:16:02,752 [14] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1004' (Type = Int32, IsNullable = false)

2017-09-06 17:16:02,752 [14] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:02,753 [14] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:16:02,753 [14] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:02,753 [14] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:16:02 PM +08:00

2017-09-06 17:16:03,471 [11] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:16:03,472 [11] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:16:03,472 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:03,472 [11] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:16:03,472 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:16:03,473 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:16:03,473 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:03,473 [11] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:16:03,473 [11] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:16:03,474 [11] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:16:03,474 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:03,474 [11] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:16:03,474 [11] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:16:03,474 [11] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:16:03,474 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:16:03,474 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:16:03,474 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:03,474 [11] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:16:03,475 [11] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:16:03,487 [11] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:16:03,487 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:03,487 [11] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:16:03,487 [11] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:16:03,487 [11] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:16:03,487 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:16:03,498 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-09-06 17:16:03,498 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:03,498 [11] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:16:03,499 [11] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:16:03,499 [11] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-06 17:16:03,499 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:03,499 [11] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:16:03,499 [11] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1004' (Type = Int32, IsNullable = false)

2017-09-06 17:16:03,499 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:16:03,500 [11] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:16:03,500 [11] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:16:03,500 [11] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:16:03 PM +08:00

2017-09-06 17:19:33,036 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,037 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:19:33,037 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,037 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:33,037 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,039 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 17:19:33,039 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,039 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,040 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,040 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:19:33,040 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,040 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:33,040 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:33,040 [31] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:19:33,040 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,042 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 17:19:33,042 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,042 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,042 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,054 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:19:33,054 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,054 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:33,054 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:33,054 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:33,054 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,081 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 26 ms with result: SqlDataReader

2017-09-06 17:19:33,081 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,082 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,083 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,084 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-06 17:19:33,084 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,084 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:33,084 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1002' (Type = Int32, IsNullable = false)

2017-09-06 17:19:33,084 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,086 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 17:19:33,086 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,086 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,935 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,936 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:19:33,936 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,936 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:33,936 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,937 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:33,937 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,937 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,937 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,938 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:19:33,938 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,938 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:33,938 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:33,938 [31] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:19:33,938 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,938 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:33,938 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,939 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,939 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,951 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:19:33,951 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,951 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:33,951 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:33,951 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:33,951 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,962 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-09-06 17:19:33,962 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,963 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,963 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,964 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-06 17:19:33,964 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,964 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:33,964 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1002' (Type = Int32, IsNullable = false)

2017-09-06 17:19:33,964 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:33,965 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:33,965 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:33,965 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:33 PM +08:00

2017-09-06 17:19:34,560 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:34,561 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:19:34,561 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:34,561 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:34,561 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:34,562 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:34,562 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:34,562 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:34,562 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:34,562 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:19:34,562 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:34,562 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:34,562 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:34,562 [32] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:19:34,562 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:34,563 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:34,563 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:34,563 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:34,564 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:34,576 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:19:34,576 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:34,576 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:34,576 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:34,576 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:34,576 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:34,587 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 11 ms with result: SqlDataReader

2017-09-06 17:19:34,587 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:34,588 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:34,589 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:34,589 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-06 17:19:34,589 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:34,589 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:34,589 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1002' (Type = Int32, IsNullable = false)

2017-09-06 17:19:34,589 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:34,590 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:34,590 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:34,590 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:34 PM +08:00

2017-09-06 17:19:35,095 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,096 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:19:35,096 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,097 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:35,097 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,100 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 3 ms with result: SqlDataReader

2017-09-06 17:19:35,100 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,100 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,101 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,101 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:19:35,101 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,101 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:35,101 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:35,101 [31] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:19:35,101 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,102 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:35,102 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,102 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,102 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,116 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:19:35,116 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,116 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:35,116 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:35,116 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:35,116 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,127 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 10 ms with result: SqlDataReader

2017-09-06 17:19:35,127 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,127 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,128 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,128 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-06 17:19:35,128 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,128 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:35,128 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1002' (Type = Int32, IsNullable = false)

2017-09-06 17:19:35,128 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,129 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:35,129 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,129 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,557 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,558 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:19:35,558 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,558 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:35,558 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,559 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:35,559 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,559 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,559 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,560 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:19:35,560 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,560 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:35,560 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:35,560 [31] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:19:35,560 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,560 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:35,560 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,560 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,561 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,573 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:19:35,573 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,573 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:35,573 [31] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:35,573 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:35,573 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,585 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 12 ms with result: SqlDataReader

2017-09-06 17:19:35,585 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,586 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,586 [31] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,587 [31] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-06 17:19:35,587 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,587 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:35,587 [31] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1002' (Type = Int32, IsNullable = false)

2017-09-06 17:19:35,587 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:35,588 [31] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:35,588 [31] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:35,588 [31] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:35 PM +08:00

2017-09-06 17:19:36,087 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:19:36,089 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:19:36,089 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:36,089 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:36,089 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:19:36,090 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:36,090 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:36,090 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:19:36,090 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:19:36,091 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:19:36,091 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:36,091 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:36,091 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:36,091 [32] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:19:36,091 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:19:36,091 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 0 ms with result: SqlDataReader

2017-09-06 17:19:36,091 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:36,091 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:19:36,092 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:19:36,104 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:19:36,104 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:36,104 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:19:36,104 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:19:36,104 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:36,104 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:19:36,119 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 14 ms with result: SqlDataReader

2017-09-06 17:19:36,119 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:36,120 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:19:36,122 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:19:36,123 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-06 17:19:36,123 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:36,123 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:19:36,123 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1002' (Type = Int32, IsNullable = false)

2017-09-06 17:19:36,123 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:19:36,125 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 17:19:36,125 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:19:36,125 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:19:36 PM +08:00

2017-09-06 17:20:05,687 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:20:05 PM +08:00

2017-09-06 17:20:05,688 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT TOP (1) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[IfRead] AS [IfRead], 
    [Extent1].[LastMessageSentTime] AS [LastMessageSentTime], 
    [Extent1].[LastMessageSenderId] AS [LastMessageSenderId], 
    [Extent1].[LastRepliedAgentId] AS [LastRepliedAgentId], 
    [Extent1].[AgentId] AS [AgentId], 
    [Extent1].[DepartmentId] AS [DepartmentId], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Subject] AS [Subject], 
    [Extent1].[Priority] AS [Priority], 
    [Extent1].[Note] AS [Note], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[IsHidden] AS [IsHidden], 
    [Extent1].[CreatedTime] AS [CreatedTime], 
    [Extent1].[ModifiedTime] AS [ModifiedTime]
    FROM [dbo].[t_Social_Conversation10000] AS [Extent1]
    WHERE ([Extent1].[Id] = @p__linq__0) AND (0 = [Extent1].[IsDeleted])
2017-09-06 17:20:05,688 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:20:05,688 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:20:05,688 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:20:05 PM +08:00

2017-09-06 17:20:05,691 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 17:20:05,691 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:20:05,691 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:20:05 PM +08:00

2017-09-06 17:20:05,691 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:20:05 PM +08:00

2017-09-06 17:20:05,692 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OriginalId] AS [OriginalId], 
    [Extent1].[OriginalLink] AS [OriginalLink], 
    [Extent1].[Source] AS [Source], 
    [Extent1].[Type] AS [Type], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[ScreenName] AS [ScreenName], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[Avatar] AS [Avatar], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[SiteId] AS [SiteId]
    FROM [dbo].[t_Social_User] AS [Extent1]
    WHERE (([Extent1].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[Id] = @EntityKeyValue1)
2017-09-06 17:20:05,692 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:20:05,692 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:20:05,692 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:20:05,692 [32] DEBUG Social.Domain.Core.SiteDataContext - -- EntityKeyValue1: '9' (Type = Int32, IsNullable = false)

2017-09-06 17:20:05,692 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:20:05 PM +08:00

2017-09-06 17:20:05,694 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 1 ms with result: SqlDataReader

2017-09-06 17:20:05,694 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:20:05,694 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:20:05 PM +08:00

2017-09-06 17:20:05,694 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:20:05 PM +08:00

2017-09-06 17:20:05,707 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Project5].[Id3] AS [Id], 
    [Project5].[Id6] AS [Id1], 
    [Project5].[Id] AS [Id2], 
    [Project5].[ConversationId] AS [ConversationId], 
    [Project5].[Source] AS [Source], 
    [Project5].[OriginalId] AS [OriginalId], 
    [Project5].[OriginalLink] AS [OriginalLink], 
    [Project5].[ParentId] AS [ParentId], 
    [Project5].[SendTime] AS [SendTime], 
    [Project5].[SenderId] AS [SenderId], 
    [Project5].[ReceiverId] AS [ReceiverId], 
    [Project5].[SendAgentId] AS [SendAgentId], 
    [Project5].[Content] AS [Content], 
    [Project5].[Story] AS [Story], 
    [Project5].[IsDeleted] AS [IsDeleted], 
    [Project5].[QuoteTweetId] AS [QuoteTweetId], 
    [Project5].[Id1] AS [Id3], 
    [Project5].[OriginalId1] AS [OriginalId1], 
    [Project5].[OriginalLink1] AS [OriginalLink1], 
    [Project5].[Source1] AS [Source1], 
    [Project5].[Type] AS [Type], 
    [Project5].[Name] AS [Name], 
    [Project5].[ScreenName] AS [ScreenName], 
    [Project5].[Email] AS [Email], 
    [Project5].[Avatar] AS [Avatar], 
    [Project5].[IsDeleted1] AS [IsDeleted1], 
    [Project5].[SiteId] AS [SiteId], 
    [Project5].[Id2] AS [Id4], 
    [Project5].[Token] AS [Token], 
    [Project5].[TokenSecret] AS [TokenSecret], 
    [Project5].[IfEnable] AS [IfEnable], 
    [Project5].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
    [Project5].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
    [Project5].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
    [Project5].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
    [Project5].[FacebookPageCategory] AS [FacebookPageCategory], 
    [Project5].[FacebookSignInAs] AS [FacebookSignInAs], 
    [Project5].[CreatedTime] AS [CreatedTime], 
    [Project5].[CreatedBy] AS [CreatedBy], 
    [Project5].[ConversationDepartmentId] AS [ConversationDepartmentId], 
    [Project5].[ConversationAgentId] AS [ConversationAgentId], 
    [Project5].[IsDeleted2] AS [IsDeleted2], 
    [Project5].[ConversationPriority] AS [ConversationPriority], 
    [Project5].[SiteId1] AS [SiteId1], 
    [Project5].[Id4] AS [Id5], 
    [Project5].[OriginalId2] AS [OriginalId2], 
    [Project5].[OriginalLink2] AS [OriginalLink2], 
    [Project5].[Source2] AS [Source2], 
    [Project5].[Type1] AS [Type1], 
    [Project5].[Name1] AS [Name1], 
    [Project5].[ScreenName1] AS [ScreenName1], 
    [Project5].[Email1] AS [Email1], 
    [Project5].[Avatar1] AS [Avatar1], 
    [Project5].[IsDeleted3] AS [IsDeleted3], 
    [Project5].[SiteId2] AS [SiteId2], 
    [Project5].[Id5] AS [Id6], 
    [Project5].[Token1] AS [Token1], 
    [Project5].[TokenSecret1] AS [TokenSecret1], 
    [Project5].[IfEnable1] AS [IfEnable1], 
    [Project5].[IfConvertMessageToConversation1] AS [IfConvertMessageToConversation1], 
    [Project5].[IfConvertVisitorPostToConversation1] AS [IfConvertVisitorPostToConversation1], 
    [Project5].[IfConvertWallPostToConversation1] AS [IfConvertWallPostToConversation1], 
    [Project5].[IfConvertTweetToConversation1] AS [IfConvertTweetToConversation1], 
    [Project5].[FacebookPageCategory1] AS [FacebookPageCategory1], 
    [Project5].[FacebookSignInAs1] AS [FacebookSignInAs1], 
    [Project5].[CreatedTime1] AS [CreatedTime1], 
    [Project5].[CreatedBy1] AS [CreatedBy1], 
    [Project5].[ConversationDepartmentId1] AS [ConversationDepartmentId1], 
    [Project5].[ConversationAgentId1] AS [ConversationAgentId1], 
    [Project5].[IsDeleted4] AS [IsDeleted4], 
    [Project5].[ConversationPriority1] AS [ConversationPriority1], 
    [Project5].[SiteId3] AS [SiteId3], 
    [Project5].[C1] AS [C1], 
    [Project5].[Id7] AS [Id7], 
    [Project5].[MessageId] AS [MessageId], 
    [Project5].[OriginalId3] AS [OriginalId3], 
    [Project5].[OriginalLink3] AS [OriginalLink3], 
    [Project5].[Type2] AS [Type2], 
    [Project5].[Name2] AS [Name2], 
    [Project5].[MimeType] AS [MimeType], 
    [Project5].[Size] AS [Size], 
    [Project5].[Url] AS [Url], 
    [Project5].[PreviewUrl] AS [PreviewUrl]
    FROM ( SELECT 
        [Project3].[Id] AS [Id], 
        [Project3].[ConversationId] AS [ConversationId], 
        [Project3].[Source] AS [Source], 
        [Project3].[OriginalId] AS [OriginalId], 
        [Project3].[OriginalLink] AS [OriginalLink], 
        [Project3].[ParentId] AS [ParentId], 
        [Project3].[SendTime] AS [SendTime], 
        [Project3].[SenderId] AS [SenderId], 
        [Project3].[ReceiverId] AS [ReceiverId], 
        [Project3].[SendAgentId] AS [SendAgentId], 
        [Project3].[Content] AS [Content], 
        [Project3].[Story] AS [Story], 
        [Project3].[IsDeleted] AS [IsDeleted], 
        [Project3].[QuoteTweetId] AS [QuoteTweetId], 
        [Project3].[Id1] AS [Id1], 
        [Project3].[OriginalId1] AS [OriginalId1], 
        [Project3].[OriginalLink1] AS [OriginalLink1], 
        [Project3].[Source1] AS [Source1], 
        [Project3].[Type] AS [Type], 
        [Project3].[Name] AS [Name], 
        [Project3].[ScreenName] AS [ScreenName], 
        [Project3].[Email] AS [Email], 
        [Project3].[Avatar] AS [Avatar], 
        [Project3].[IsDeleted1] AS [IsDeleted1], 
        [Project3].[SiteId] AS [SiteId], 
        [Project3].[Id2] AS [Id2], 
        [Project3].[Token] AS [Token], 
        [Project3].[TokenSecret] AS [TokenSecret], 
        [Project3].[IfEnable] AS [IfEnable], 
        [Project3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
        [Project3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
        [Project3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
        [Project3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
        [Project3].[FacebookPageCategory] AS [FacebookPageCategory], 
        [Project3].[FacebookSignInAs] AS [FacebookSignInAs], 
        [Project3].[CreatedTime] AS [CreatedTime], 
        [Project3].[CreatedBy] AS [CreatedBy], 
        [Project3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
        [Project3].[ConversationAgentId] AS [ConversationAgentId], 
        [Project3].[IsDeleted2] AS [IsDeleted2], 
        [Project3].[ConversationPriority] AS [ConversationPriority], 
        [Project3].[SiteId1] AS [SiteId1], 
        [Project3].[Id3] AS [Id3], 
        [Project3].[Id4] AS [Id4], 
        [Project3].[OriginalId2] AS [OriginalId2], 
        [Project3].[OriginalLink2] AS [OriginalLink2], 
        [Project3].[Source2] AS [Source2], 
        [Project3].[Type1] AS [Type1], 
        [Project3].[Name1] AS [Name1], 
        [Project3].[ScreenName1] AS [ScreenName1], 
        [Project3].[Email1] AS [Email1], 
        [Project3].[Avatar1] AS [Avatar1], 
        [Project3].[IsDeleted3] AS [IsDeleted3], 
        [Project3].[SiteId2] AS [SiteId2], 
        [Element2].[Id] AS [Id5], 
        [Element2].[Token] AS [Token1], 
        [Element2].[TokenSecret] AS [TokenSecret1], 
        [Element2].[IfEnable] AS [IfEnable1], 
        [Element2].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation1], 
        [Element2].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation1], 
        [Element2].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation1], 
        [Element2].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation1], 
        [Element2].[FacebookPageCategory] AS [FacebookPageCategory1], 
        [Element2].[FacebookSignInAs] AS [FacebookSignInAs1], 
        [Element2].[CreatedTime] AS [CreatedTime1], 
        [Element2].[CreatedBy] AS [CreatedBy1], 
        [Element2].[ConversationDepartmentId] AS [ConversationDepartmentId1], 
        [Element2].[ConversationAgentId] AS [ConversationAgentId1], 
        [Element2].[IsDeleted] AS [IsDeleted4], 
        [Element2].[ConversationPriority] AS [ConversationPriority1], 
        [Element2].[SiteId] AS [SiteId3], 
        [Element2].[Id1] AS [Id6], 
        [Extent8].[Id] AS [Id7], 
        [Extent8].[MessageId] AS [MessageId], 
        [Extent8].[OriginalId] AS [OriginalId3], 
        [Extent8].[OriginalLink] AS [OriginalLink3], 
        [Extent8].[Type] AS [Type2], 
        [Extent8].[Name] AS [Name2], 
        [Extent8].[MimeType] AS [MimeType], 
        [Extent8].[Size] AS [Size], 
        [Extent8].[Url] AS [Url], 
        [Extent8].[PreviewUrl] AS [PreviewUrl], 
        CASE WHEN ([Extent8].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM    (SELECT 
            [Project1].[Id] AS [Id], 
            [Project1].[ConversationId] AS [ConversationId], 
            [Project1].[Source] AS [Source], 
            [Project1].[OriginalId] AS [OriginalId], 
            [Project1].[OriginalLink] AS [OriginalLink], 
            [Project1].[ParentId] AS [ParentId], 
            [Project1].[SendTime] AS [SendTime], 
            [Project1].[SenderId] AS [SenderId], 
            [Project1].[ReceiverId] AS [ReceiverId], 
            [Project1].[SendAgentId] AS [SendAgentId], 
            [Project1].[Content] AS [Content], 
            [Project1].[Story] AS [Story], 
            [Project1].[IsDeleted] AS [IsDeleted], 
            [Project1].[QuoteTweetId] AS [QuoteTweetId], 
            [Project1].[Id1] AS [Id1], 
            [Project1].[OriginalId1] AS [OriginalId1], 
            [Project1].[OriginalLink1] AS [OriginalLink1], 
            [Project1].[Source1] AS [Source1], 
            [Project1].[Type] AS [Type], 
            [Project1].[Name] AS [Name], 
            [Project1].[ScreenName] AS [ScreenName], 
            [Project1].[Email] AS [Email], 
            [Project1].[Avatar] AS [Avatar], 
            [Project1].[IsDeleted1] AS [IsDeleted1], 
            [Project1].[SiteId] AS [SiteId], 
            [Element1].[Id] AS [Id2], 
            [Element1].[Token] AS [Token], 
            [Element1].[TokenSecret] AS [TokenSecret], 
            [Element1].[IfEnable] AS [IfEnable], 
            [Element1].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Element1].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Element1].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Element1].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Element1].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Element1].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Element1].[CreatedTime] AS [CreatedTime], 
            [Element1].[CreatedBy] AS [CreatedBy], 
            [Element1].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Element1].[ConversationAgentId] AS [ConversationAgentId], 
            [Element1].[IsDeleted] AS [IsDeleted2], 
            [Element1].[ConversationPriority] AS [ConversationPriority], 
            [Element1].[SiteId] AS [SiteId1], 
            [Element1].[Id1] AS [Id3], 
            [Extent5].[Id] AS [Id4], 
            [Extent5].[OriginalId] AS [OriginalId2], 
            [Extent5].[OriginalLink] AS [OriginalLink2], 
            [Extent5].[Source] AS [Source2], 
            [Extent5].[Type] AS [Type1], 
            [Extent5].[Name] AS [Name1], 
            [Extent5].[ScreenName] AS [ScreenName1], 
            [Extent5].[Email] AS [Email1], 
            [Extent5].[Avatar] AS [Avatar1], 
            [Extent5].[IsDeleted] AS [IsDeleted3], 
            [Extent5].[SiteId] AS [SiteId2]
            FROM    (SELECT 
                [Extent1].[Id] AS [Id], 
                [Extent1].[ConversationId] AS [ConversationId], 
                [Extent1].[Source] AS [Source], 
                [Extent1].[OriginalId] AS [OriginalId], 
                [Extent1].[OriginalLink] AS [OriginalLink], 
                [Extent1].[ParentId] AS [ParentId], 
                [Extent1].[SendTime] AS [SendTime], 
                [Extent1].[SenderId] AS [SenderId], 
                [Extent1].[ReceiverId] AS [ReceiverId], 
                [Extent1].[SendAgentId] AS [SendAgentId], 
                [Extent1].[Content] AS [Content], 
                [Extent1].[Story] AS [Story], 
                [Extent1].[IsDeleted] AS [IsDeleted], 
                [Extent1].[QuoteTweetId] AS [QuoteTweetId], 
                [Extent2].[Id] AS [Id1], 
                [Extent2].[OriginalId] AS [OriginalId1], 
                [Extent2].[OriginalLink] AS [OriginalLink1], 
                [Extent2].[Source] AS [Source1], 
                [Extent2].[Type] AS [Type], 
                [Extent2].[Name] AS [Name], 
                [Extent2].[ScreenName] AS [ScreenName], 
                [Extent2].[Email] AS [Email], 
                [Extent2].[Avatar] AS [Avatar], 
                [Extent2].[IsDeleted] AS [IsDeleted1], 
                [Extent2].[SiteId] AS [SiteId]
                FROM  [dbo].[t_Social_Message10000] AS [Extent1]
                LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent2] ON (([Extent2].[SiteId] = @DynamicFilterParam_000001) ) AND ([Extent1].[SenderId] = [Extent2].[Id])
                WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[ConversationId] = @p__linq__0) ) AS [Project1]
            OUTER APPLY  (SELECT TOP (1) 
                [Extent3].[Id] AS [Id], 
                [Extent3].[Token] AS [Token], 
                [Extent3].[TokenSecret] AS [TokenSecret], 
                [Extent3].[IfEnable] AS [IfEnable], 
                [Extent3].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
                [Extent3].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
                [Extent3].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
                [Extent3].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
                [Extent3].[FacebookPageCategory] AS [FacebookPageCategory], 
                [Extent3].[FacebookSignInAs] AS [FacebookSignInAs], 
                [Extent3].[CreatedTime] AS [CreatedTime], 
                [Extent3].[CreatedBy] AS [CreatedBy], 
                [Extent3].[ConversationDepartmentId] AS [ConversationDepartmentId], 
                [Extent3].[ConversationAgentId] AS [ConversationAgentId], 
                [Extent3].[IsDeleted] AS [IsDeleted], 
                [Extent3].[ConversationPriority] AS [ConversationPriority], 
                [Extent3].[SiteId] AS [SiteId], 
                [Extent4].[Id] AS [Id1]
                FROM  [dbo].[t_Social_Account] AS [Extent3]
                INNER JOIN [dbo].[t_Social_User] AS [Extent4] ON [Extent4].[Id] = [Extent3].[Id]
                WHERE (([Extent4].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[SenderId] = [Extent4].[Id]) AND (([Extent3].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element1]
            LEFT OUTER JOIN [dbo].[t_Social_User] AS [Extent5] ON (([Extent5].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project1].[ReceiverId] = [Extent5].[Id]) ) AS [Project3]
        OUTER APPLY  (SELECT TOP (1) 
            [Extent6].[Id] AS [Id], 
            [Extent6].[Token] AS [Token], 
            [Extent6].[TokenSecret] AS [TokenSecret], 
            [Extent6].[IfEnable] AS [IfEnable], 
            [Extent6].[IfConvertMessageToConversation] AS [IfConvertMessageToConversation], 
            [Extent6].[IfConvertVisitorPostToConversation] AS [IfConvertVisitorPostToConversation], 
            [Extent6].[IfConvertWallPostToConversation] AS [IfConvertWallPostToConversation], 
            [Extent6].[IfConvertTweetToConversation] AS [IfConvertTweetToConversation], 
            [Extent6].[FacebookPageCategory] AS [FacebookPageCategory], 
            [Extent6].[FacebookSignInAs] AS [FacebookSignInAs], 
            [Extent6].[CreatedTime] AS [CreatedTime], 
            [Extent6].[CreatedBy] AS [CreatedBy], 
            [Extent6].[ConversationDepartmentId] AS [ConversationDepartmentId], 
            [Extent6].[ConversationAgentId] AS [ConversationAgentId], 
            [Extent6].[IsDeleted] AS [IsDeleted], 
            [Extent6].[ConversationPriority] AS [ConversationPriority], 
            [Extent6].[SiteId] AS [SiteId], 
            [Extent7].[Id] AS [Id1]
            FROM  [dbo].[t_Social_Account] AS [Extent6]
            INNER JOIN [dbo].[t_Social_User] AS [Extent7] ON [Extent7].[Id] = [Extent6].[Id]
            WHERE (([Extent7].[SiteId] = @DynamicFilterParam_000001) ) AND ([Project3].[ReceiverId] = [Extent7].[Id]) AND (([Extent6].[SiteId] = @DynamicFilterParam_000001) ) ) AS [Element2]
        LEFT OUTER JOIN [dbo].[t_Social_MessageAttachment10000] AS [Extent8] ON [Project3].[Id] = [Extent8].[MessageId]
    )  AS [Project5]
    ORDER BY [Project5].[Id3] ASC, [Project5].[Id6] ASC, [Project5].[Id] ASC, [Project5].[Id1] ASC, [Project5].[Id2] ASC, [Project5].[Id4] ASC, [Project5].[Id5] ASC, [Project5].[C1] ASC
2017-09-06 17:20:05,707 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:20:05,707 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000001: '10000' (Type = Int32)

2017-09-06 17:20:05,707 [32] DEBUG Social.Domain.Core.SiteDataContext - -- DynamicFilterParam_000002: 'null' (Type = Boolean)

2017-09-06 17:20:05,707 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:20:05,707 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:20:05 PM +08:00

2017-09-06 17:20:05,737 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 30 ms with result: SqlDataReader

2017-09-06 17:20:05,738 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:20:05,738 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:20:05 PM +08:00

2017-09-06 17:21:25,566 [32] DEBUG Social.Domain.Core.SiteDataContext - Opened connection at 9/6/2017 5:21:25 PM +08:00

2017-09-06 17:21:25,567 [32] DEBUG Social.Domain.Core.SiteDataContext - SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[ConversationId] AS [ConversationId], 
    [Extent1].[Content] AS [Content], 
    [Extent1].[CreatedTime] AS [CreatedTime]
    FROM [dbo].[t_Social_ConversationLog10000] AS [Extent1]
    WHERE ([Extent1].[ConversationId] = @p__linq__0) AND ([Extent1].[Id] > @p__linq__1)
2017-09-06 17:21:25,567 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:21:25,567 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__0: '1' (Type = Int32, IsNullable = false)

2017-09-06 17:21:25,567 [32] DEBUG Social.Domain.Core.SiteDataContext - -- p__linq__1: '1002' (Type = Int32, IsNullable = false)

2017-09-06 17:21:25,567 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Executing at 9/6/2017 5:21:25 PM +08:00

2017-09-06 17:21:25,569 [32] DEBUG Social.Domain.Core.SiteDataContext - -- Completed in 2 ms with result: SqlDataReader

2017-09-06 17:21:25,569 [32] DEBUG Social.Domain.Core.SiteDataContext - 

2017-09-06 17:21:25,570 [32] DEBUG Social.Domain.Core.SiteDataContext - Closed connection at 9/6/2017 5:21:25 PM +08:00

